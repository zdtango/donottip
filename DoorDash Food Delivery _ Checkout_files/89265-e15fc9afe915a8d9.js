"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89265],{803284:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(434665);t.default=function(e){return(0,e.children)((0,r.useExperience)())}},749345:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseExperience=void 0;var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(839897)),s=n(820490);t.parseExperience=function(e){return void 0===e&&(e=s.Experience.DoorDash),-1!==Object.keys(s.Experience).map(function(e){return e.toLowerCase()}).indexOf(e)?e:s.Experience.DoorDash},t.default=function(e){var n=e.children,r=e.experience,a=void 0===r?s.Experience.DoorDash:r;return i.createElement(o.default.Provider,{value:{experience:(0,t.parseExperience)(a)}},n)}},839897:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=((r=(0,n(512150).createContext)({})).displayName="ExperienceRouter",r);t.default=i},655278:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useStringsForExperience=t.getStringsForExperience=void 0;var r=n(951279),i=r.__importDefault(n(546136)),o=n(434665);function s(e,t){return t===o.Experience.Caviar?(0,i.default)({},e,e.caviar):t===o.Experience.Storefront?(0,i.default)({},e,e.storefront):r.__assign({},e)}t.getStringsForExperience=s,t.useStringsForExperience=function(e){return s(e,(0,o.useExperience)().experience)}},589962:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(803284)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.experiences;return i.createElement(o.default,null,function(e){var r=e.experience;return i.createElement(i.Fragment,null,i.Children.map(t,function(e){return -1===n.indexOf(r)?e:null}))})},t}(i.Component);t.default=s},714725:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(589962)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.Caviar]},t)}},954702:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(589962)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.DoorDash]},t)}},317039:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(589962)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.Storefront]},t)}},741075:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(803284)),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.experiences;return i.createElement(o.default,null,function(e){var r=e.experience;return i.createElement(i.Fragment,null,i.Children.map(t,function(e){return n.indexOf(r)>-1?e:null}))})},t}(i.Component);t.default=s},919637:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(741075)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.Caviar]},t)}},700346:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(741075)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.DoorDash]},t)}},743502:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(741075)),s=n(820490);t.default=function(e){var t=e.children;return i.createElement(o.default,{experiences:[s.Experience.Storefront]},t)}},820490:function(e,t){var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.Experience=void 0,(r=n||(t.Experience=n={})).DoorDash="doordash",r.Caviar="caviar",r.Storefront="storefront"},434665:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.useExperience=t.HideOnlyFromCaviar=t.HideOnlyFromDoorDash=t.HideOnlyFromStorefront=t.ShowOnlyOnStorefront=t.ShowOnlyOnDoorDash=t.ShowOnlyOnCaviar=t.ExperienceRouterContext=t.parseExperience=t.ExperienceRouter=t.ExperienceProvider=t.Experience=void 0;var r=n(951279),i=n(820490);Object.defineProperty(t,"Experience",{enumerable:!0,get:function(){return i.Experience}});var o=n(803284);Object.defineProperty(t,"ExperienceProvider",{enumerable:!0,get:function(){return r.__importDefault(o).default}});var s=n(749345);Object.defineProperty(t,"ExperienceRouter",{enumerable:!0,get:function(){return r.__importDefault(s).default}}),Object.defineProperty(t,"parseExperience",{enumerable:!0,get:function(){return s.parseExperience}});var a=n(839897);Object.defineProperty(t,"ExperienceRouterContext",{enumerable:!0,get:function(){return r.__importDefault(a).default}}),r.__exportStar(n(655278),t);var u=n(919637);Object.defineProperty(t,"ShowOnlyOnCaviar",{enumerable:!0,get:function(){return r.__importDefault(u).default}});var c=n(700346);Object.defineProperty(t,"ShowOnlyOnDoorDash",{enumerable:!0,get:function(){return r.__importDefault(c).default}});var l=n(743502);Object.defineProperty(t,"ShowOnlyOnStorefront",{enumerable:!0,get:function(){return r.__importDefault(l).default}});var d=n(317039);Object.defineProperty(t,"HideOnlyFromStorefront",{enumerable:!0,get:function(){return r.__importDefault(d).default}});var _=n(954702);Object.defineProperty(t,"HideOnlyFromDoorDash",{enumerable:!0,get:function(){return r.__importDefault(_).default}});var v=n(714725);Object.defineProperty(t,"HideOnlyFromCaviar",{enumerable:!0,get:function(){return r.__importDefault(v).default}});var f=n(437106);Object.defineProperty(t,"useExperience",{enumerable:!0,get:function(){return r.__importDefault(f).default}})},437106:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(951279),i=r.__importStar(n(512150)),o=r.__importDefault(n(839897)),s=n(820490);t.default=function(){var e=i.useContext(o.default).experience,t=void 0===e?s.Experience.DoorDash:e;return{experience:t,isDoorDash:t===s.Experience.DoorDash,isCaviar:t===s.Experience.Caviar,isStorefront:t===s.Experience.Storefront}}},529994:function(e,t,n){var r,i;n.d(t,{a:function(){return r}}),(i=r||(r={})).DoorDash="doordash",i.Caviar="caviar",i.Storefront="storefront"},832162:function(e,t,n){n.d(t,{LK:function(){return G},Ju:function(){return x},Pg:function(){return L},pC:function(){return l},Cc:function(){return d},PL:function(){return F},$B:function(){return w},vQ:function(){return _},oQ:function(){return P},BP:function(){return K}});var r,i,o,s=n(513223),a=n(378179),u=function(){return r||(r=new a.Z),r},c=function(){var e=window.location.hostname.split(".");return"."+e[e.length-2]+"."+e[e.length-1]},l=function(e,t,n,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=void 0),(0,s.S_)()&&/^[\x00-\x7F]*$/.test(t)){var o=c(),a=new Date(Date.now()+1e3*n);u().set(e,t,{domain:r&&o?o:void 0,expires:a,path:"/",sameSite:i,secure:!!i||void 0})}},d=function(e,t,n,r){return void 0===r&&(r=!1),l(e,t,n,r,"none")};function _(e){var t;return(0,s.s$)()?null:null!==(t=u().get(e,{doNotParse:!0}))&&void 0!==t?t:null}var v=n(108818),f=n(969652),h=n(277590),p=n(258005),g=n(366422),E=n(990100),S=n(13965),m=n(352214),y=n(18486),N=n(700102),A=n(270447),M=n(621535),I={url:(0,s.s$)()?M.env.OTEL_EXPORTER_OTLP_TRACES_ENDPOINT||"http://otel-collector-v2.svc.ddnw.net:4317":"https://otel-mobile.doordash.com/v1/traces",headers:((i={})["dd-api-token"]=M.env.OPEN_TELEMETRY_TOKEN,i),concurrencyLimit:10,COMPRESSION_METHOD:"gzip"},b={url:"http://localhost:8360/v1/traces",headers:{"lightstep-access-token":"developer"}},R={},C=function(e){var t=new v.p(e,{maxQueueSize:100,maxExportBatchSize:25,scheduledDelayMillis:500,exportTimeoutMillis:3e4});return[new f.x(new h.g),t]},w=function(e){var t,n=e.type,r=e.sampleRate,i=e.serviceName;if(!R[n]){var s=new N._(((t={})[A.R9.SERVICE_NAME]=i,t));R[n]=new p.m({resource:s,sampler:new g.N({root:new E.a("true"===M.env.NEXT_PUBLIC_DEBUG_TRACING?1:void 0===r?0:r)})}),R[n].register({}),C((o||(o=new m.M("true"===M.env.NEXT_PUBLIC_DEBUG_TRACING?b:I)),o)).forEach(function(e){R[n].addSpanProcessor(e)})}},L=function(){var e;(R[e="cx_page_load"],R[e]).forceFlush(),(0,S.X)({instrumentations:[new y.K]})},T=n(29651),D=n.n(T),B={shouldCacheBust:!1,pageNavigateTime:0},O=void 0,F=function(e){return O||(O=new(D())({max:100,ttl:e,checkAgeOnGet:!0})),O},G=function(){null==O||O.clear(),B.shouldCacheBust=!0},P=function(){B.pageNavigateTime=Date.now()},K=function(){return!!(B.shouldCacheBust&&(B.shouldCacheBust=!1,Date.now()-B.pageNavigateTime<11e4))},U=n(118700),k=n(621535),x=new(function(){function e(){this.hasReportedCrash=!1}return e.prototype.reset=function(){this.hasReportedCrash=!1},e.prototype.reportCrash=function(e){var t;(0,s.S_)()&&(this.hasReportedCrash||(this.hasReportedCrash=!0,(0,U.j)("dd_web_crash_tracking",{serviceName:k.env.SERVICE_NAME||(null===(t=document.querySelector('meta[name="service_name"]'))||void 0===t?void 0:t.getAttribute("content"))||"unknown",digest:e.digest,exception_type:e.name,exception_value:e.message})))},e}())},282158:function(e,t,n){n.d(t,{E:function(){return c}});var r,i=n(690965),o=n(513223),s=n(790007),a={All:!1,"Segment.io":!0,Amplitude:!0},u=function(e){if(!e)return a;var t=e.consentType,n=e.consent;return"ccpa"!==t&&"ca"!==t||!0===n?{}:a},c=function(e){var t,n=e.entityId,a=e.iguazuOverrideUrl,c=e.segmentKey,l=e.trackingConsent;if(!r){var d={entityId:n,errors:{enableSentry:!0},timeout:1e4,url:a},_=(0,o.S_)()&&c?{writeKey:c}:void 0;if(r=new i.y({Iguazu:d,IguazuV2:d,Segment:_,lazy:!0}),!0===l.consent||"ccpa"===l.consentType&&!1===l.consent||"ca"===l.consentType&&!1===l.consent){var v=null!==(t=l.consent)&&void 0!==t&&t;r.setIntegrations(v?{}:u(l),!v)}r.setBatchSettings((0,s.s2)(window.navigator.userAgent)?{size:20,timeout:1e3}:{size:20,timeout:100})}return r}},404261:function(e,t,n){n.d(t,{D:function(){return o}});var r=n(966706),i=n(621535),o=function(){return(0,r.yG)()||"true"===i.env.LOCAL_PRODUCTION_BUILD}},966706:function(e,t,n){n.d(t,{S_:function(){return i},s$:function(){return r},yG:function(){return s},yv:function(){return o}});var r=function(){return!1},i=function(){return!r()},o=function(){return!0},s=function(){return!1}},3075:function(e,t,n){var r,i;n.d(t,{g:function(){return r}}),(i=r||(r={})).AF="af",i.AF_NA="af-NA",i.AF_ZA="af-ZA",i.AGQ="agq",i.AGQ_CM="agq-CM",i.AK="ak",i.AK_GH="ak-GH",i.AM="am",i.AM_ET="am-ET",i.AR="ar",i.AR_001="ar-001",i.AR_AE="ar-AE",i.AR_BH="ar-BH",i.AR_DJ="ar-DJ",i.AR_DZ="ar-DZ",i.AR_EG="ar-EG",i.AR_EH="ar-EH",i.AR_ER="ar-ER",i.AR_IL="ar-IL",i.AR_IQ="ar-IQ",i.AR_JO="ar-JO",i.AR_KM="ar-KM",i.AR_KW="ar-KW",i.AR_LB="ar-LB",i.AR_LY="ar-LY",i.AR_MA="ar-MA",i.AR_MR="ar-MR",i.AR_OM="ar-OM",i.AR_PS="ar-PS",i.AR_QA="ar-QA",i.AR_SA="ar-SA",i.AR_SD="ar-SD",i.AR_SO="ar-SO",i.AR_SS="ar-SS",i.AR_SY="ar-SY",i.AR_TD="ar-TD",i.AR_TN="ar-TN",i.AR_YE="ar-YE",i.AS="as",i.AS_IN="as-IN",i.ASA="asa",i.ASA_TZ="asa-TZ",i.AST="ast",i.AST_ES="ast-ES",i.AZ="az",i.AZ_CYRL="az-Cyrl",i.AZ_CYRL_AZ="az-Cyrl-AZ",i.AZ_LATN="az-Latn",i.AZ_LATN_AZ="az-Latn-AZ",i.BAS="bas",i.BAS_CM="bas-CM",i.BE="be",i.BE_BY="be-BY",i.BE_TARASK="be-tarask",i.BEM="bem",i.BEM_ZM="bem-ZM",i.BEZ="bez",i.BEZ_TZ="bez-TZ",i.BG="bg",i.BG_BG="bg-BG",i.BM="bm",i.BM_ML="bm-ML",i.BN="bn",i.BN_BD="bn-BD",i.BN_IN="bn-IN",i.BO="bo",i.BO_CN="bo-CN",i.BO_IN="bo-IN",i.BR="br",i.BR_FR="br-FR",i.BRX="brx",i.BRX_IN="brx-IN",i.BS="bs",i.BS_CYRL="bs-Cyrl",i.BS_CYRL_BA="bs-Cyrl-BA",i.BS_LATN="bs-Latn",i.BS_LATN_BA="bs-Latn-BA",i.CA="ca",i.CA_AD="ca-AD",i.CA_ES="ca-ES",i.CA_ES_VALENCIA="ca-ES-VALENCIA",i.CA_FR="ca-FR",i.CA_IT="ca-IT",i.CCP="ccp",i.CCP_BD="ccp-BD",i.CCP_IN="ccp-IN",i.CE="ce",i.CE_RU="ce-RU",i.CEB="ceb",i.CEB_PH="ceb-PH",i.CGG="cgg",i.CGG_UG="cgg-UG",i.CHR="chr",i.CHR_US="chr-US",i.CKB="ckb",i.CKB_IQ="ckb-IQ",i.CKB_IR="ckb-IR",i.CS="cs",i.CS_CZ="cs-CZ",i.CY="cy",i.CY_GB="cy-GB",i.DA="da",i.DA_DK="da-DK",i.DA_GL="da-GL",i.DAV="dav",i.DAV_KE="dav-KE",i.DE="de",i.DE_AT="de-AT",i.DE_BE="de-BE",i.DE_CH="de-CH",i.DE_DE="de-DE",i.DE_IT="de-IT",i.DE_LI="de-LI",i.DE_LU="de-LU",i.DJE="dje",i.DJE_NE="dje-NE",i.DOI="doi",i.DOI_IN="doi-IN",i.DSB="dsb",i.DSB_DE="dsb-DE",i.DUA="dua",i.DUA_CM="dua-CM",i.DYO="dyo",i.DYO_SN="dyo-SN",i.DZ="dz",i.DZ_BT="dz-BT",i.EBU="ebu",i.EBU_KE="ebu-KE",i.EE="ee",i.EE_GH="ee-GH",i.EE_TG="ee-TG",i.EL="el",i.EL_CY="el-CY",i.EL_GR="el-GR",i.EN="en",i.EN_001="en-001",i.EN_150="en-150",i.EN_AE="en-AE",i.EN_AG="en-AG",i.EN_AI="en-AI",i.EN_AS="en-AS",i.EN_AT="en-AT",i.EN_AU="en-AU",i.EN_BB="en-BB",i.EN_BE="en-BE",i.EN_BI="en-BI",i.EN_BM="en-BM",i.EN_BS="en-BS",i.EN_BW="en-BW",i.EN_BZ="en-BZ",i.EN_CA="en-CA",i.EN_CC="en-CC",i.EN_CH="en-CH",i.EN_CK="en-CK",i.EN_CM="en-CM",i.EN_CX="en-CX",i.EN_CY="en-CY",i.EN_DE="en-DE",i.EN_DG="en-DG",i.EN_DK="en-DK",i.EN_DM="en-DM",i.EN_ER="en-ER",i.EN_FI="en-FI",i.EN_FJ="en-FJ",i.EN_FK="en-FK",i.EN_FM="en-FM",i.EN_GB="en-GB",i.EN_GD="en-GD",i.EN_GG="en-GG",i.EN_GH="en-GH",i.EN_GI="en-GI",i.EN_GM="en-GM",i.EN_GU="en-GU",i.EN_GY="en-GY",i.EN_HK="en-HK",i.EN_IE="en-IE",i.EN_IL="en-IL",i.EN_IM="en-IM",i.EN_IN="en-IN",i.EN_IO="en-IO",i.EN_JE="en-JE",i.EN_JM="en-JM",i.EN_KE="en-KE",i.EN_KI="en-KI",i.EN_KN="en-KN",i.EN_KY="en-KY",i.EN_LC="en-LC",i.EN_LR="en-LR",i.EN_LS="en-LS",i.EN_MG="en-MG",i.EN_MH="en-MH",i.EN_MO="en-MO",i.EN_MP="en-MP",i.EN_MS="en-MS",i.EN_MT="en-MT",i.EN_MU="en-MU",i.EN_MW="en-MW",i.EN_MY="en-MY",i.EN_NA="en-NA",i.EN_NF="en-NF",i.EN_NG="en-NG",i.EN_NL="en-NL",i.EN_NR="en-NR",i.EN_NU="en-NU",i.EN_NZ="en-NZ",i.EN_PG="en-PG",i.EN_PH="en-PH",i.EN_PK="en-PK",i.EN_PN="en-PN",i.EN_PR="en-PR",i.EN_PW="en-PW",i.EN_RW="en-RW",i.EN_SB="en-SB",i.EN_SC="en-SC",i.EN_SD="en-SD",i.EN_SE="en-SE",i.EN_SG="en-SG",i.EN_SH="en-SH",i.EN_SI="en-SI",i.EN_SL="en-SL",i.EN_SS="en-SS",i.EN_SX="en-SX",i.EN_SZ="en-SZ",i.EN_TC="en-TC",i.EN_TK="en-TK",i.EN_TO="en-TO",i.EN_TT="en-TT",i.EN_TV="en-TV",i.EN_TZ="en-TZ",i.EN_UG="en-UG",i.EN_UM="en-UM",i.EN_US="en-US",i.EN_US_POSIX="en-US-POSIX",i.EN_VC="en-VC",i.EN_VG="en-VG",i.EN_VI="en-VI",i.EN_VU="en-VU",i.EN_WS="en-WS",i.EN_ZA="en-ZA",i.EN_ZM="en-ZM",i.EN_ZW="en-ZW",i.EO="eo",i.EO_001="eo-001",i.ES="es",i.ES_419="es-419",i.ES_AR="es-AR",i.ES_BO="es-BO",i.ES_BR="es-BR",i.ES_BZ="es-BZ",i.ES_CL="es-CL",i.ES_CO="es-CO",i.ES_CR="es-CR",i.ES_CU="es-CU",i.ES_DO="es-DO",i.ES_EA="es-EA",i.ES_EC="es-EC",i.ES_ES="es-ES",i.ES_GQ="es-GQ",i.ES_GT="es-GT",i.ES_HN="es-HN",i.ES_IC="es-IC",i.ES_MX="es-MX",i.ES_NI="es-NI",i.ES_PA="es-PA",i.ES_PE="es-PE",i.ES_PH="es-PH",i.ES_PR="es-PR",i.ES_PY="es-PY",i.ES_SV="es-SV",i.ES_US="es-US",i.ES_UY="es-UY",i.ES_VE="es-VE",i.ET="et",i.ET_EE="et-EE",i.EU="eu",i.EU_ES="eu-ES",i.EWO="ewo",i.EWO_CM="ewo-CM",i.FA="fa",i.FA_AF="fa-AF",i.FA_IR="fa-IR",i.FF="ff",i.FF_ADLM="ff-Adlm",i.FF_ADLM_BF="ff-Adlm-BF",i.FF_ADLM_CM="ff-Adlm-CM",i.FF_ADLM_GH="ff-Adlm-GH",i.FF_ADLM_GM="ff-Adlm-GM",i.FF_ADLM_GN="ff-Adlm-GN",i.FF_ADLM_GW="ff-Adlm-GW",i.FF_ADLM_LR="ff-Adlm-LR",i.FF_ADLM_MR="ff-Adlm-MR",i.FF_ADLM_NE="ff-Adlm-NE",i.FF_ADLM_NG="ff-Adlm-NG",i.FF_ADLM_SL="ff-Adlm-SL",i.FF_ADLM_SN="ff-Adlm-SN",i.FF_LATN="ff-Latn",i.FF_LATN_BF="ff-Latn-BF",i.FF_LATN_CM="ff-Latn-CM",i.FF_LATN_GH="ff-Latn-GH",i.FF_LATN_GM="ff-Latn-GM",i.FF_LATN_GN="ff-Latn-GN",i.FF_LATN_GW="ff-Latn-GW",i.FF_LATN_LR="ff-Latn-LR",i.FF_LATN_MR="ff-Latn-MR",i.FF_LATN_NE="ff-Latn-NE",i.FF_LATN_NG="ff-Latn-NG",i.FF_LATN_SL="ff-Latn-SL",i.FF_LATN_SN="ff-Latn-SN",i.FI="fi",i.FI_FI="fi-FI",i.FIL="fil",i.FIL_PH="fil-PH",i.FO="fo",i.FO_DK="fo-DK",i.FO_FO="fo-FO",i.FR="fr",i.FR_BE="fr-BE",i.FR_BF="fr-BF",i.FR_BI="fr-BI",i.FR_BJ="fr-BJ",i.FR_BL="fr-BL",i.FR_CA="fr-CA",i.FR_CD="fr-CD",i.FR_CF="fr-CF",i.FR_CG="fr-CG",i.FR_CH="fr-CH",i.FR_CI="fr-CI",i.FR_CM="fr-CM",i.FR_DJ="fr-DJ",i.FR_DZ="fr-DZ",i.FR_FR="fr-FR",i.FR_GA="fr-GA",i.FR_GF="fr-GF",i.FR_GN="fr-GN",i.FR_GP="fr-GP",i.FR_GQ="fr-GQ",i.FR_HT="fr-HT",i.FR_KM="fr-KM",i.FR_LU="fr-LU",i.FR_MA="fr-MA",i.FR_MC="fr-MC",i.FR_MF="fr-MF",i.FR_MG="fr-MG",i.FR_ML="fr-ML",i.FR_MQ="fr-MQ",i.FR_MR="fr-MR",i.FR_MU="fr-MU",i.FR_NC="fr-NC",i.FR_NE="fr-NE",i.FR_PF="fr-PF",i.FR_PM="fr-PM",i.FR_RE="fr-RE",i.FR_RW="fr-RW",i.FR_SC="fr-SC",i.FR_SN="fr-SN",i.FR_SY="fr-SY",i.FR_TD="fr-TD",i.FR_TG="fr-TG",i.FR_TN="fr-TN",i.FR_VU="fr-VU",i.FR_WF="fr-WF",i.FR_YT="fr-YT",i.FUR="fur",i.FUR_IT="fur-IT",i.FY="fy",i.FY_NL="fy-NL",i.GA="ga",i.GA_GB="ga-GB",i.GA_IE="ga-IE",i.GD="gd",i.GD_GB="gd-GB",i.GL="gl",i.GL_ES="gl-ES",i.GSW="gsw",i.GSW_CH="gsw-CH",i.GSW_FR="gsw-FR",i.GSW_LI="gsw-LI",i.GU="gu",i.GU_IN="gu-IN",i.GUZ="guz",i.GUZ_KE="guz-KE",i.GV="gv",i.GV_IM="gv-IM",i.HA="ha",i.HA_GH="ha-GH",i.HA_NE="ha-NE",i.HA_NG="ha-NG",i.HAW="haw",i.HAW_US="haw-US",i.HE="he",i.HE_IL="he-IL",i.HI="hi",i.HI_IN="hi-IN",i.HR="hr",i.HR_BA="hr-BA",i.HR_HR="hr-HR",i.HSB="hsb",i.HSB_DE="hsb-DE",i.HU="hu",i.HU_HU="hu-HU",i.HY="hy",i.HY_AM="hy-AM",i.IA="ia",i.IA_001="ia-001",i.ID="id",i.ID_ID="id-ID",i.IG="ig",i.IG_NG="ig-NG",i.II="ii",i.II_CN="ii-CN",i.IS="is",i.IS_IS="is-IS",i.IT="it",i.IT_CH="it-CH",i.IT_IT="it-IT",i.IT_SM="it-SM",i.IT_VA="it-VA",i.JA="ja",i.JA_JP="ja-JP",i.JGO="jgo",i.JGO_CM="jgo-CM",i.JMC="jmc",i.JMC_TZ="jmc-TZ",i.JV="jv",i.JV_ID="jv-ID",i.KA="ka",i.KA_GE="ka-GE",i.KAB="kab",i.KAB_DZ="kab-DZ",i.KAM="kam",i.KAM_KE="kam-KE",i.KDE="kde",i.KDE_TZ="kde-TZ",i.KEA="kea",i.KEA_CV="kea-CV",i.KHQ="khq",i.KHQ_ML="khq-ML",i.KI="ki",i.KI_KE="ki-KE",i.KK="kk",i.KK_KZ="kk-KZ",i.KKJ="kkj",i.KKJ_CM="kkj-CM",i.KL="kl",i.KL_GL="kl-GL",i.KLN="kln",i.KLN_KE="kln-KE",i.KM="km",i.KM_KH="km-KH",i.KN="kn",i.KN_IN="kn-IN",i.KO="ko",i.KO_KP="ko-KP",i.KO_KR="ko-KR",i.KOK="kok",i.KOK_IN="kok-IN",i.KS="ks",i.KS_ARAB="ks-Arab",i.KS_ARAB_IN="ks-Arab-IN",i.KSB="ksb",i.KSB_TZ="ksb-TZ",i.KSF="ksf",i.KSF_CM="ksf-CM",i.KSH="ksh",i.KSH_DE="ksh-DE",i.KU="ku",i.KU_TR="ku-TR",i.KW="kw",i.KW_GB="kw-GB",i.KY="ky",i.KY_KG="ky-KG",i.LAG="lag",i.LAG_TZ="lag-TZ",i.LB="lb",i.LB_LU="lb-LU",i.LG="lg",i.LG_UG="lg-UG",i.LKT="lkt",i.LKT_US="lkt-US",i.LN="ln",i.LN_AO="ln-AO",i.LN_CD="ln-CD",i.LN_CF="ln-CF",i.LN_CG="ln-CG",i.LO="lo",i.LO_LA="lo-LA",i.LRC="lrc",i.LRC_IQ="lrc-IQ",i.LRC_IR="lrc-IR",i.LT="lt",i.LT_LT="lt-LT",i.LU="lu",i.LU_CD="lu-CD",i.LUO="luo",i.LUO_KE="luo-KE",i.LUY="luy",i.LUY_KE="luy-KE",i.LV="lv",i.LV_LV="lv-LV",i.MAI="mai",i.MAI_IN="mai-IN",i.MAS="mas",i.MAS_KE="mas-KE",i.MAS_TZ="mas-TZ",i.MER="mer",i.MER_KE="mer-KE",i.MFE="mfe",i.MFE_MU="mfe-MU",i.MG="mg",i.MG_MG="mg-MG",i.MGH="mgh",i.MGH_MZ="mgh-MZ",i.MGO="mgo",i.MGO_CM="mgo-CM",i.MI="mi",i.MI_NZ="mi-NZ",i.MK="mk",i.MK_MK="mk-MK",i.ML="ml",i.ML_IN="ml-IN",i.MN="mn",i.MN_MN="mn-MN",i.MNI="mni",i.MNI_BENG="mni-Beng",i.MNI_BENG_IN="mni-Beng-IN",i.MR="mr",i.MR_IN="mr-IN",i.MS="ms",i.MS_BN="ms-BN",i.MS_ID="ms-ID",i.MS_MY="ms-MY",i.MS_SG="ms-SG",i.MT="mt",i.MT_MT="mt-MT",i.MUA="mua",i.MUA_CM="mua-CM",i.MY="my",i.MY_MM="my-MM",i.MZN="mzn",i.MZN_IR="mzn-IR",i.NAQ="naq",i.NAQ_NA="naq-NA",i.NB="nb",i.NB_NO="nb-NO",i.NB_SJ="nb-SJ",i.ND="nd",i.ND_ZW="nd-ZW",i.NDS="nds",i.NDS_DE="nds-DE",i.NDS_NL="nds-NL",i.NE="ne",i.NE_IN="ne-IN",i.NE_NP="ne-NP",i.NL="nl",i.NL_AW="nl-AW",i.NL_BE="nl-BE",i.NL_BQ="nl-BQ",i.NL_CW="nl-CW",i.NL_NL="nl-NL",i.NL_SR="nl-SR",i.NL_SX="nl-SX",i.NMG="nmg",i.NMG_CM="nmg-CM",i.NN="nn",i.NN_NO="nn-NO",i.NNH="nnh",i.NNH_CM="nnh-CM",i.NO="no",i.NUS="nus",i.NUS_SS="nus-SS",i.NYN="nyn",i.NYN_UG="nyn-UG",i.OM="om",i.OM_ET="om-ET",i.OM_KE="om-KE",i.OR="or",i.OR_IN="or-IN",i.OS="os",i.OS_GE="os-GE",i.OS_RU="os-RU",i.PA="pa",i.PA_ARAB="pa-Arab",i.PA_ARAB_PK="pa-Arab-PK",i.PA_GURU="pa-Guru",i.PA_GURU_IN="pa-Guru-IN",i.PCM="pcm",i.PCM_NG="pcm-NG",i.PL="pl",i.PL_PL="pl-PL",i.PS="ps",i.PS_AF="ps-AF",i.PS_PK="ps-PK",i.PT="pt",i.PT_AO="pt-AO",i.PT_BR="pt-BR",i.PT_CH="pt-CH",i.PT_CV="pt-CV",i.PT_GQ="pt-GQ",i.PT_GW="pt-GW",i.PT_LU="pt-LU",i.PT_MO="pt-MO",i.PT_MZ="pt-MZ",i.PT_PT="pt-PT",i.PT_ST="pt-ST",i.PT_TL="pt-TL",i.QU="qu",i.QU_BO="qu-BO",i.QU_EC="qu-EC",i.QU_PE="qu-PE",i.RM="rm",i.RM_CH="rm-CH",i.RN="rn",i.RN_BI="rn-BI",i.RO="ro",i.RO_MD="ro-MD",i.RO_RO="ro-RO",i.ROF="rof",i.ROF_TZ="rof-TZ",i.ROOT="root",i.RU="ru",i.RU_BY="ru-BY",i.RU_KG="ru-KG",i.RU_KZ="ru-KZ",i.RU_MD="ru-MD",i.RU_RU="ru-RU",i.RU_UA="ru-UA",i.RW="rw",i.RW_RW="rw-RW",i.RWK="rwk",i.RWK_TZ="rwk-TZ",i.SA="sa",i.SA_IN="sa-IN",i.SAH="sah",i.SAH_RU="sah-RU",i.SAQ="saq",i.SAQ_KE="saq-KE",i.SAT="sat",i.SAT_OLCK="sat-Olck",i.SAT_OLCK_IN="sat-Olck-IN",i.SBP="sbp",i.SBP_TZ="sbp-TZ",i.SD="sd",i.SD_ARAB="sd-Arab",i.SD_ARAB_PK="sd-Arab-PK",i.SD_DEVA="sd-Deva",i.SD_DEVA_IN="sd-Deva-IN",i.SE="se",i.SE_FI="se-FI",i.SE_NO="se-NO",i.SE_SE="se-SE",i.SEH="seh",i.SEH_MZ="seh-MZ",i.SES="ses",i.SES_ML="ses-ML",i.SG="sg",i.SG_CF="sg-CF",i.SHI="shi",i.SHI_LATN="shi-Latn",i.SHI_LATN_MA="shi-Latn-MA",i.SHI_TFNG="shi-Tfng",i.SHI_TFNG_MA="shi-Tfng-MA",i.SI="si",i.SI_LK="si-LK",i.SK="sk",i.SK_SK="sk-SK",i.SL="sl",i.SL_SI="sl-SI",i.SMN="smn",i.SMN_FI="smn-FI",i.SN="sn",i.SN_ZW="sn-ZW",i.SO="so",i.SO_DJ="so-DJ",i.SO_ET="so-ET",i.SO_KE="so-KE",i.SO_SO="so-SO",i.SQ="sq",i.SQ_AL="sq-AL",i.SQ_MK="sq-MK",i.SQ_XK="sq-XK",i.SR="sr",i.SR_CYRL="sr-Cyrl",i.SR_CYRL_BA="sr-Cyrl-BA",i.SR_CYRL_ME="sr-Cyrl-ME",i.SR_CYRL_RS="sr-Cyrl-RS",i.SR_CYRL_XK="sr-Cyrl-XK",i.SR_LATN="sr-Latn",i.SR_LATN_BA="sr-Latn-BA",i.SR_LATN_ME="sr-Latn-ME",i.SR_LATN_RS="sr-Latn-RS",i.SR_LATN_XK="sr-Latn-XK",i.SU="su",i.SU_LATN="su-Latn",i.SU_LATN_ID="su-Latn-ID",i.SV="sv",i.SV_AX="sv-AX",i.SV_FI="sv-FI",i.SV_SE="sv-SE",i.SW="sw",i.SW_CD="sw-CD",i.SW_KE="sw-KE",i.SW_TZ="sw-TZ",i.SW_UG="sw-UG",i.TA="ta",i.TA_IN="ta-IN",i.TA_LK="ta-LK",i.TA_MY="ta-MY",i.TA_SG="ta-SG",i.TE="te",i.TE_IN="te-IN",i.TEO="teo",i.TEO_KE="teo-KE",i.TEO_UG="teo-UG",i.TG="tg",i.TG_TJ="tg-TJ",i.TH="th",i.TH_TH="th-TH",i.TI="ti",i.TI_ER="ti-ER",i.TI_ET="ti-ET",i.TK="tk",i.TK_TM="tk-TM",i.TO="to",i.TO_TO="to-TO",i.TR="tr",i.TR_CY="tr-CY",i.TR_TR="tr-TR",i.TT="tt",i.TT_RU="tt-RU",i.TWQ="twq",i.TWQ_NE="twq-NE",i.TZM="tzm",i.TZM_MA="tzm-MA",i.UG="ug",i.UG_CN="ug-CN",i.UK="uk",i.UK_UA="uk-UA",i.UR="ur",i.UR_IN="ur-IN",i.UR_PK="ur-PK",i.UZ="uz",i.UZ_ARAB="uz-Arab",i.UZ_ARAB_AF="uz-Arab-AF",i.UZ_CYRL="uz-Cyrl",i.UZ_CYRL_UZ="uz-Cyrl-UZ",i.UZ_LATN="uz-Latn",i.UZ_LATN_UZ="uz-Latn-UZ",i.VAI="vai",i.VAI_LATN="vai-Latn",i.VAI_LATN_LR="vai-Latn-LR",i.VAI_VAII="vai-Vaii",i.VAI_VAII_LR="vai-Vaii-LR",i.VI="vi",i.VI_VN="vi-VN",i.VUN="vun",i.VUN_TZ="vun-TZ",i.WAE="wae",i.WAE_CH="wae-CH",i.WO="wo",i.WO_SN="wo-SN",i.XH="xh",i.XH_ZA="xh-ZA",i.XOG="xog",i.XOG_UG="xog-UG",i.YAV="yav",i.YAV_CM="yav-CM",i.YI="yi",i.YI_001="yi-001",i.YO="yo",i.YO_BJ="yo-BJ",i.YO_NG="yo-NG",i.YUE="yue",i.YUE_HANS="yue-Hans",i.YUE_HANS_CN="yue-Hans-CN",i.YUE_HANT="yue-Hant",i.YUE_HANT_HK="yue-Hant-HK",i.ZGH="zgh",i.ZGH_MA="zgh-MA",i.ZH="zh",i.ZH_CN="zh-CN",i.ZH_HANS="zh-Hans",i.ZH_HANS_CN="zh-Hans-CN",i.ZH_HANS_HK="zh-Hans-HK",i.ZH_HANS_MO="zh-Hans-MO",i.ZH_HANS_SG="zh-Hans-SG",i.ZH_HANT="zh-Hant",i.ZH_HANT_HK="zh-Hant-HK",i.ZH_HANT_MO="zh-Hant-MO",i.ZH_HANT_TW="zh-Hant-TW",i.ZH_HK="zh-HK",i.ZH_MO="zh-MO",i.ZH_TW="zh-TW",i.ZU="zu",i.ZU_ZA="zu-ZA"},118700:function(e,t,n){n.d(t,{U$:function(){return E},$A:function(){return g},ek:function(){return p},j:function(){return S},GF:function(){return a}});var r,i,o,s=n(951279),a=(0,n(619443).Ue)()(function(e,t){return{globalTrackingState:{},setGlobalTrackingState:function(n){return e(function(){return{globalTrackingState:(0,s.__assign)((0,s.__assign)({},t().globalTrackingState),n)}})}}}),u=n(282158),c=n(513223),l=n(819501),d=null,_=function(){if(null===d){var e=!1;try{e=!!window.localStorage,d&&(localStorage.setItem("test","test"),localStorage.getItem("test"),localStorage.removeItem("test"))}catch(t){e=!1}d=e}return d},v="initializeTracking must be called before tracking",f={consent:!0},h=function(){try{var e=(0,l.parse)(null==window?void 0:window.location.search)||{};return{utmCampaign:e.utm_campaign,utmMedium:e.utm_medium,utmSource:e.utm_source}}catch(e){return{}}},p=function(e){r=e.entityId,i=e.iguazuOverrideUrl,o=e.segmentKey,e.trackingConsent&&(f=e.trackingConsent)},g=function(e){var t=e.id,n=e.traits;if(!r)throw Error("initializeTracking must be called before identifyUser");(0,u.E)({entityId:r,iguazuOverrideUrl:i,segmentKey:o,trackingConsent:f}).identify(t,n)},E=function(){return(0,s.__awaiter)(void 0,void 0,void 0,function(){return(0,s.__generator)(this,function(e){if((0,c.s$)())return[2,Promise.resolve([])];if(!r)throw Error(v);return[2,(0,u.E)({entityId:r,iguazuOverrideUrl:i,segmentKey:o,trackingConsent:f}).close()]})})},S=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={enableBatching:!0,doNotSendToSegment:!1}),!(0,c.s$)()){if(!r)throw Error(v);var l,d=a.getState().globalTrackingState,p=(0,s.__assign)((0,s.__assign)((0,s.__assign)((0,s.__assign)({},d),h()),{href:(null==window?void 0:window.location.href)||"",referrer:(null==window?void 0:window.document.referrer)||"",user_agent:null===(l=null==window?void 0:window.navigator)||void 0===l?void 0:l.userAgent}),t);(0,u.E)({entityId:r,iguazuOverrideUrl:i,segmentKey:o,trackingConsent:f}).event(e,p,{service:{Segment:!n.doNotSendToSegment&&_()},disableBatching:!n.enableBatching})}}},690965:function(e,t,n){n.d(t,{y:function(){return B}});var r=n(951279),i=n(942537),o=function(){function e(e,t){var n,r=this;this.deliveryChannels=[],t.forEach(function(t){var n,i=t.matcher,o=null===(n=t.channel.from(e))||void 0===n?void 0:n.withMatcher(i);o&&r.deliveryChannels.push(o)}),this.ccpa=e.ccpa,this.lazy=null!==(n=e.lazy)&&void 0!==n&&n,e.Segment&&(this.integrations=e.Segment.integrations)}return e.prototype.identify=function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n={}),this.deliveryChannels.forEach(function(o){var s;return null===(s=o.identify)||void 0===s?void 0:s.call(o,e,t,(0,r.__assign)((0,r.__assign)({},n),{Segment:(0,r.__assign)((0,r.__assign)({},n.Segment),{integrations:i.getIntegrations()})}))})},e.prototype.event=function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n={}),this.deliveryChannels.filter(function(t){var r;return t.matches(e,null!==(r=n.service)&&void 0!==r?r:{})}).forEach(function(o){o.event(e,t,(0,r.__assign)((0,r.__assign)({},n),{Segment:(0,r.__assign)((0,r.__assign)({},n.Segment),{integrations:i.getIntegrations()})}))})},e.prototype.group=function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n={}),this.deliveryChannels.forEach(function(o){var s;null===(s=o.group)||void 0===s||s.call(o,e,t,(0,r.__assign)((0,r.__assign)({},n),{Segment:(0,r.__assign)((0,r.__assign)({},n.Segment),{integrations:i.getIntegrations()})}))})},e.prototype.page=function(e,t,n,i){var o=this;void 0===n&&(n={}),void 0===i&&(i={}),this.deliveryChannels.forEach(function(s){var a;return null===(a=s.page)||void 0===a?void 0:a.call(s,e,t,n,(0,r.__assign)((0,r.__assign)({},i),{Segment:(0,r.__assign)((0,r.__assign)({},i.Segment),{integrations:o.getIntegrations()})}))})},e.prototype.alias=function(e,t,n){var i=this;void 0===n&&(n={}),this.deliveryChannels.forEach(function(o){var s;return null===(s=o.alias)||void 0===s?void 0:s.call(o,e,t,(0,r.__assign)((0,r.__assign)({},n),{Segment:(0,r.__assign)((0,r.__assign)({},n.Segment),{integrations:i.getIntegrations()})}))})},e.prototype.setConsent=function(e){this.deliveryChannels.forEach(function(t){var n;return null===(n=t.setConsent)||void 0===n?void 0:n.call(t,e)})},e.prototype.setLocation=function(e){this.deliveryChannels.forEach(function(t){var n;return null===(n=t.setLocation)||void 0===n?void 0:n.call(t,e)})},e.prototype.setBatchSettings=function(e){this.deliveryChannels.forEach(function(t){var n;return null===(n=t.setBatchSettings)||void 0===n?void 0:n.call(t,e)})},e.prototype.close=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e=[],this.deliveryChannels.forEach(function(t){t.close&&e.push(t.close())}),[4,Promise.allSettled(e)];case 1:return[2,t.sent().flatMap(function(e){return"fulfilled"===e.status?e.value:e.reason.response?[e.reason.response]:[]})]}})})},e.prototype.track=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={}),this.event(e,t,n)},e.prototype.setIntegrations=function(e,t){var n=this;this.integrations=e,this.ccpa=t,this.lazy&&(this.deliveryChannels.forEach(function(e){var t;return null===(t=e.load)||void 0===t?void 0:t.call(e,n.getIntegrations())}),this.page())},e.prototype.getIntegrations=function(){var e;return this.ccpa?null!==(e=this.integrations)&&void 0!==e?e:i.SS:{}},e.prototype.setIguazuTenants=function(e){this.deliveryChannels.forEach(function(t){var n;return null===(n=t.setIguazuTenants)||void 0===n?void 0:n.call(t,e)})},e.prototype.setDiskStorageMode=function(e){this.deliveryChannels.forEach(function(t){var n;return null===(n=t.setDiskStorageMode)||void 0===n?void 0:n.call(t,e)})},e}(),s=n(300772),a=function(){function e(){}return e.prototype.from=function(e){var t;if(e.Segment)return this.options=e.Segment,e.lazy||this.load(null!==(t=this.options.integrations)&&void 0!==t?t:{}),this},e.prototype.load=function(e){this.options&&!this.analytics&&(this.analytics=s.b.load({writeKey:this.options.writeKey},{integrations:e}))},e.prototype.identify=function(e,t,n){var r;null===(r=this.analytics)||void 0===r||r.identify(e,t,n.Segment)},e.prototype.event=function(e,t,n){var r,i;(null===(r=n.service)||void 0===r?void 0:r.Segment)!==!1&&(null===(i=this.analytics)||void 0===i||i.track(e,t,n.Segment))},e.prototype.group=function(e,t,n){var r;null===(r=this.analytics)||void 0===r||r.group(e,t,n.Segment)},e.prototype.page=function(e,t,n,r){var i;null===(i=this.analytics)||void 0===i||i.page(e,t,n,null==r?void 0:r.Segment)},e.prototype.alias=function(e,t,n){var r;null===(r=this.analytics)||void 0===r||r.alias(e,t,n.Segment)},e.prototype.withMatcher=function(e){return this.matcher=e,this},e.prototype.matches=function(e,t){return!this.matcher||this.matcher(e,t)},e}(),u=n(738019),c=function(e,t){this.name=e,this.properties=t||{},this.time=Date.now(),this.messageId=(0,u.Z)()},l=["dd_login_id","dd_district_id","dd_zip_code","dd_device_id","dd_session_id","dd_submarket_id","dd_guest_id","dd_locale"],d=n(621535),_=function(){return{path:window.location.pathname,referrer:document.referrer,search:window.location.search,title:document.title,url:window.location.href}},v=function(){return{density:window.devicePixelRatio,height:window.innerHeight,width:window.innerWidth}},f=function(){if(!("URLSearchParams"in window))return{};var e,t,n,r,i,o=new URLSearchParams(window.location.search.substring(1));return{name:null!==(e=o.get("utm_campaign"))&&void 0!==e?e:void 0,source:null!==(t=o.get("utm_source"))&&void 0!==t?t:void 0,medium:null!==(n=o.get("utm_medium"))&&void 0!==n?n:void 0,term:null!==(r=o.get("utm_term"))&&void 0!==r?r:void 0,content:null!==(i=o.get("utm_content"))&&void 0!==i?i:void 0}},h=function(e){var t,n,r,i;this.library={name:"telemetry-js",version:d.env.telemetry_js_version||""},this.os={name:"web"},this.device={type:"Web"},this.app={name:(null===(t=null==e?void 0:e.app)||void 0===t?void 0:t.name)||"@doordash/app-consumer-ssr",version:(null===(n=null==e?void 0:e.app)||void 0===n?void 0:n.version)||d.env.APP_VERSION||"",build:(null===(r=null==e?void 0:e.app)||void 0===r?void 0:r.build)||"3aa76cc7ac8315ae85fb39cb19d28e353f056ca6",namespace:(null===(i=null==e?void 0:e.app)||void 0===i?void 0:i.namespace)||d.env.APP_ENV||""},this.page=_(),this.screen=v(),this.campaign=f(),this.userAgent=navigator.userAgent,this.locale=navigator.language,this.timezone="Intl"in window?Intl.DateTimeFormat().resolvedOptions().timeZone:null},p=n(534611),g=function(e,t,n,r){var i,o,s;this.envelopeVersion=r.envelopeVersion,this.sentAt=Date.now(),this.messageId=null!==(i=r.messageId)&&void 0!==i?i:(0,u.Z)(),this.entityId=e,this.anonymousId=null!==(o=r.anonymousId)&&void 0!==o?o:null,this.userId=null!==(s=r.userId)&&void 0!==s?s:null,this.context=t,this.events=n},E=[408,413,429,500,502,503,504,521,522,524];function S(e){var t,n;return Math.min(2e4,Math.floor(1.5*((n=Math.floor(.19999999999999996*(t=Math.floor(1e3*Math.pow(2,e)))))===t?t:Math.floor(Math.random()*(t-n)+n))))}var m=n(119023),y=function(){function e(e){this.queue=[],this.lastEventByteLength=0,this.currentByteLength=0;var t,n,r,i,o,s,a,u,c,l,d,_=m.fg?m.SA.defaultUrl:m.BP;this.entityId=e.entityId,this.contextOptions={app:e.app};var v=e.url||_;this.options={url:v,silentMode:null!==(t=e.silentMode)&&void 0!==t&&t,errors:{enableSentry:null!==(r=null===(n=e.errors)||void 0===n?void 0:n.enableSentry)&&void 0!==r&&r,logLevel:(null===(i=e.errors)||void 0===i?void 0:i.logLevel)||"warning"},retry:{numRetries:null!==(s=null===(o=e.retry)||void 0===o?void 0:o.numRetries)&&void 0!==s?s:3,retryStrategy:null!==(u=null===(a=e.retry)||void 0===a?void 0:a.retryStrategy)&&void 0!==u?u:S,statusCodes:null!==(l=null===(c=e.retry)||void 0===c?void 0:c.statusCodes)&&void 0!==l?l:E},timeout:null!==(d=e.timeout)&&void 0!==d?d:5e3,batchEvents:e.batchEvents}}return e.prototype.shouldSendMessage=function(e){return e&&!this.options.silentMode},e.prototype.setIguazuTenants=function(e){this.eventSender.setIguazuTenants(e)},e.prototype.setBatchSettings=function(e){this.options.batchEvents={timeout:e.timeout,size:e.size}},e.prototype.buildMessage=function(e){var t={userId:e.userId,anonymousId:e.deviceId,messageId:e.messageId};return this.envelopeVersion&&(t.envelopeVersion=this.envelopeVersion),new g(this.entityId,e.context,e.events,t)},e.prototype.sendBatch=function(e,t){return(0,r.__awaiter)(this,void 0,void 0,function(){var n,i=this;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.allSettled(Object.keys(n=this.eventSender.routeEvents(e)).map(function(e){return i.sendEvents(e,n[e].events,n[e].priority,t)}))];case 1:return[2,0===r.sent().filter(function(e){return"rejected"===e.status||"fulfilled"===e.status&&!1===e.value}).length]}})})},e.prototype.flush=function(e){var t;void 0===e&&(e=!1),0!==this.queue.length&&(this.sendBatch(this.queue,(0,r.__assign)((0,r.__assign)({},null===(t=this.lastEvent)||void 0===t?void 0:t.options),{enableSendBeacon:e})),this.lastEvent=void 0,this.queue.length=0,this.currentByteLength=0)},e.prototype.debounced=function(){var e,t,n=this,r=new TextEncoder;return function(o,s,a){if(void 0===s&&(s={}),void 0===a&&(a={}),a.disableBatching){n.notDebounced(o,s,a);return}var u,c,l,d,_,v,f=Date.now(),h=n.createEvent({name:o,properties:s}),p=r.encode(JSON.stringify(n.createMessage({events:[h],options:a}))).byteLength;if(p>i.wy.singleEvent){n.captureErrorMessage(Error("Your event '".concat(o,"' is too large to send.")));return}if(n.currentByteLength+p>i.wy.batchMessage&&n.flush(),n.currentByteLength+=p,n.currentByteLength-=n.lastEventByteLength,n.queue.push(h),n.lastEvent={properties:s,options:a},n.lastEventByteLength=r.encode(JSON.stringify(n.lastEvent)).byteLength,n.currentByteLength+=n.lastEventByteLength,(null===(u=n.options.batchEvents)||void 0===u?void 0:u.size)&&n.queue.length>=(null===(c=n.options.batchEvents)||void 0===c?void 0:c.size)){clearTimeout(e),n.flush();return}null!==(l=n.options.batchEvents)&&void 0!==l&&l.timeout&&t&&f-t<(null===(d=n.options.batchEvents)||void 0===d?void 0:d.timeout)||(e&&clearTimeout(e),(null===(_=n.options.batchEvents)||void 0===_?void 0:_.timeout)&&(t=f,e=setTimeout(function(){return n.flush()},null===(v=n.options.batchEvents)||void 0===v?void 0:v.timeout)))}},e.prototype.close=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.all(Object.values(this.eventSender.eventPromises))];case 1:return[2,e.sent()]}})})},e.prototype.withMatcher=function(e){return this.matcher=e,this},e.prototype.matches=function(e,t){return!this.matcher||this.matcher(e,t)},e}(),N=n(270012),A=n(749284),M=function(){function e(e){this.config=e}return e.prototype.report=function(e){return(0,r.__awaiter)(this,arguments,void 0,function(e,t){var n=this;return void 0===t&&(t={}),(0,r.__generator)(this,function(t){return this.config.enableSentry&&(0,A.$e)(function(t){t.setTag("library","telemetry-js"),n.config.logLevel&&t.setLevel(n.config.logLevel),(0,A.Tb)(e)}),[2]})})},e}(),I=function(e){function t(t){var n=e.call(this,"HTTPError: ".concat(t.status," ").concat(t.statusText))||this;return n.response=t,n}return(0,r.__extends)(t,e),t}(Error),b=function(){function e(e){var t,n,r,i,o,s;this.tenantLookup={},this._eventPromises={},this.options=e,this.retry={numRetries:null!==(n=null===(t=e.retry)||void 0===t?void 0:t.numRetries)&&void 0!==n?n:3,retryStrategy:null!==(i=null===(r=e.retry)||void 0===r?void 0:r.retryStrategy)&&void 0!==i?i:S,statusCodes:null!==(s=null===(o=e.retry)||void 0===o?void 0:o.statusCodes)&&void 0!==s?s:E}}return e.prototype.setIguazuTenants=function(e){var t=this;!this.options.overrideUrl&&m.fg&&(this.options.url=e.defaultUrl,e.eventTenants.forEach(function(e){e.events.forEach(function(n){t.tenantLookup[n]={url:e.url,priority:e.priority}})}))},e.prototype.isMessageOverByteLimit=function(e,t){var n=t?i.wy.batchMessage:i.wy.singleEvent;return new TextEncoder().encode(e).byteLength>n},e.prototype.sendEvents=function(e){var t,n=e.url,r=e.messageData,i=e.priority,o=e.batchEvents,s=e.messageId;return this.isMessageOverByteLimit(r,o)?(null===(t=this.options.errorReporter)||void 0===t||t.report(Error("Your message is over the byte limit, events were dropped")),Promise.resolve(!0)):this.handleMessage({url:n,messageData:r,priority:i,messageId:s})},e.prototype.handleMessage=function(e){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,n,i,o,s,a,c;return(0,r.__generator)(this,function(r){switch(r.label){case 0:(t=this.retrySendMessage(e)).id=(0,u.Z)(),this._eventPromises[t.id]=t,r.label=1;case 1:return r.trys.push([1,4,5,6]),[4,t];case 2:return n=r.sent(),i=JSON.parse(e.messageData),[4,null===(a=null===(s=this.options)||void 0===s?void 0:s.processSuccessfulEvents)||void 0===a?void 0:a.call(s,i.events)];case 3:return r.sent(),[2,n.ok];case 4:return o=r.sent(),null===(c=this.options.errorReporter)||void 0===c||c.report(o),[2,!1];case 5:return t.id&&delete this._eventPromises[t.id],[7];case 6:return[2]}})})},e.prototype.sendMessage=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,function(){var i,o,s,a;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return i=new AbortController,o=setTimeout(function(){return i.abort()},null!==(a=this.options.timeout)&&void 0!==a?a:5e3),[4,this.options.post(e,t,i.signal,n)];case 1:if(s=r.sent(),clearTimeout(o),s.ok)return[2,s];throw new I(s)}})})},e.prototype.retrySendMessage=function(e){return(0,r.__awaiter)(this,arguments,void 0,function(e){var t,n,o,s,a,u,c=e.url,l=e.messageData,d=e.priority,_=e.messageId;return(0,r.__generator)(this,function(e){switch(e.label){case 0:n=0,e.label=1;case 1:if(!(n<this.retry.numRetries))return[3,8];e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.sendMessage(c,l,d)];case 3:return[2,e.sent()];case 4:if(t=o=e.sent(),(null===(s=o.response)||void 0===s?void 0:s.status)&&(null===(u=(a=this.options).batchErrorResponse)||void 0===u||u.call(a,{endpoint_name:c,error_code:o.response.status,backoff_counter:n},null!=_?_:i.$y),!this.retry.statusCodes.includes(o.response.status)))return[3,8];return[3,5];case 5:var r;return[4,(r=this.retry.retryStrategy(n),new Promise(function(e){return setTimeout(e,r)}))];case 6:e.sent(),e.label=7;case 7:return n++,[3,1];case 8:throw t}})})},e.prototype.routeEvent=function(e){var t,n,r,o;return{url:null!==(n=null===(t=this.tenantLookup[e])||void 0===t?void 0:t.url)&&void 0!==n?n:this.options.url,priority:null!==(o=null===(r=this.tenantLookup[e])||void 0===r?void 0:r.priority)&&void 0!==o?o:i.Di}},e.prototype.routeEvents=function(e){var t=this,n={};return e.forEach(function(e){var r=t.routeEvent(e.name),i=r.url,o=r.priority;n[i]||(n[i]={events:[],priority:o}),n[i].events.push(e)}),n},Object.defineProperty(e.prototype,"eventPromises",{get:function(){return this._eventPromises},enumerable:!1,configurable:!0}),e}();function R(e,t,n){var r,i,o=(null===(i=null===(r=window.location)||void 0===r?void 0:r.host)||void 0===i?void 0:i.includes("doordashtest"))?"doortest:default":void 0,s={"Content-Type":"application/json"};return o&&(s["dd-tenant-id"]=o),fetch(e,{method:"POST",signal:n,headers:s,credentials:"omit",body:t})}var C=0,w=function(e){function t(t){var n,i,o=e.call(this,t)||this;return o.userId=null,o.alreadyListening=!1,o.enableDiskStorage=!1,o.serviceWorkerLoadingMode=!1,o.commonFields=(n=(0,p.parse)(document.cookie))?l.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},{}):{},o.context=o.createContext(),o.errorReporter=new M((0,r.__assign)({},o.options.errors)),o.contextId=(0,u.Z)(),o.contextTime=Date.now(),o.setDiskStorageMode(t.enableDiskStorage?"loading":"disabled"),o.consent=null===(i=t.consent)||void 0===i||i,o.addEventListener(),o._eventSender=new b({enableSentry:o.options.errors.enableSentry,url:o.options.url,overrideUrl:!!t.url,post:R,timeout:o.options.timeout,retry:o.options.retry,errorReporter:o.errorReporter,processSuccessfulEvents:function(e){var t,n;return null!==(n=null===(t=o.db)||void 0===t?void 0:t.deleteEvents(e))&&void 0!==n?n:Promise.resolve()}}),o.setIguazuTenants(m.SA),o}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"eventSender",{get:function(){return this._eventSender},enumerable:!1,configurable:!0}),t.prototype.processEvents=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:if(!this.db)return[2];return[4,this.db.close()];case 1:t.sent(),e=!0,t.label=2;case 2:if(!e)return[3,4];return[4,this.db.tryFlushBackup(this.contextId,this.sendBatch.bind(this))];case 3:switch(t.sent()){case"error":case"end_of_list":e=!1}return[3,2];case 4:return[2]}})})},t.prototype.setDiskStorageMode=function(e){var t=this;if(!this.options.silentMode){switch(e){case"disabled":if(!this.serviceWorkerLoadingMode&&!this.enableDiskStorage)return;this.serviceWorkerLoadingMode=!1,this.enableDiskStorage=!1,this.options.batchEvents&&(this.event=this.debounced()),this.processEvents().then(function(){var e;null===(e=t.db)||void 0===e||e.close(),t.db=void 0});return;case"loading":this.serviceWorkerLoadingMode=!0;break;case"enabled":this.serviceWorkerLoadingMode=!1,this.enableDiskStorage=!0}if(this.serviceWorkerLoadingMode||this.enableDiskStorage)try{this.db=(0,N.aB)(this.errorReporter),this.serviceWorkerLoadingMode&&this.db.createContext(this.getDbContext()),this.options.batchEvents&&(this.event=this.notDebounced)}catch(e){this.serviceWorkerLoadingMode=!1,this.captureErrorMessage(e)}}},t.prototype.createContext=function(){return new h(this.contextOptions)},t.prototype.captureErrorMessage=function(e,t){void 0===t&&(t={}),this.errorReporter.report(e,t)},t.prototype.setConsent=function(e){this.consent=e},t.prototype.identify=function(e){this.userId=e,this.enableDiskStorage&&this.db&&this.db.upsertContext(this.contextId,this.getDbContext())},t.prototype.sendEvents=function(e,t,n,r){if(void 0===r&&(r={}),!this.shouldSendMessage(null!==(i=r.consent)&&void 0!==i?i:this.consent))return Promise.resolve(!1);var i,o=JSON.stringify(this.createMessage({events:t,options:r}));return r.enableSendBeacon&&this.sendBeacon(e,o)?Promise.resolve(!0):this.eventSender.sendEvents({url:e,messageData:o,priority:n,batchEvents:!!this.options.batchEvents})},t.prototype.sendBeacon=function(e,t){if(void 0===(null==navigator?void 0:navigator.sendBeacon))return!1;var n=new Blob([t],{type:"application/json"});return navigator.sendBeacon(e,n)},t.prototype.createMessage=function(e){var t,n,r=e.events,i=e.options,o={screen:v(),page:_(),campaign:f()};return o&&(this.context.page=o.page,this.context.campaign=o.campaign,this.context.screen=o.screen),this.buildMessage({events:"function"==typeof r?r({commonFields:this.commonFields}):r,context:this.context,messageId:i.messageId,userId:null!==(t=i.userId||this.userId)&&void 0!==t?t:void 0,deviceId:null!==(n=i.anonymousId||this.commonFields.dd_device_id)&&void 0!==n?n:void 0})},t.prototype.createEvent=function(e){var t={};t.touch="ontouchstart"in window;var n=new c(e.name,(0,r.__assign)((0,r.__assign)((0,r.__assign)({},e.properties),this.commonFields),t));if(this.db&&(this.enableDiskStorage||this.serviceWorkerLoadingMode)){var i=this.eventSender.routeEvent(n.name).priority;this.db.createEvent(n,this.contextId,i)}return n},t.prototype.getDbContext=function(){var e;return{context:this.context,messageId:this.contextId,time:this.contextTime,anonymousId:this.commonFields.dd_device_id,entityId:this.entityId,envelopeVersion:this.envelopeVersion,userId:null!==(e=this.userId)&&void 0!==e?e:void 0}},t.prototype.notDebounced=function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n={}),this.enableDiskStorage&&Date.now()-C>3e3&&((function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e,t,n,i,o;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return[4,navigator.serviceWorker.getRegistrations()];case 1:for(n=0,e=r.sent(),t=null,i=e;n<i.length;n++)if((o=i[n]).active){t=o.active;break}return[2,t]}})})})().then(function(e){null==e||e.postMessage({messageName:"iguazu-load",messagePayload:{}})}),C=Date.now());var o={name:e,properties:t};if(this.db&&(this.enableDiskStorage||this.serviceWorkerLoadingMode))this.enableDiskStorage?this.db.createContext(this.getDbContext()).then(function(){i.createEvent(o)}):this.serviceWorkerLoadingMode&&this.createEvent(o);else{var s=this.createEvent(o),a=this.eventSender.routeEvent(e),u=a.url,c=a.priority;this.sendEvents(u,[s],c,n)}},t.prototype.event=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!this.serviceWorkerLoadingMode&&!this.enableDiskStorage&&this.options.batchEvents){this.event=this.debounced(),this.event(e,t,n);return}this.notDebounced(e,t,n)},t.prototype.setBatchSettings=function(t){e.prototype.setBatchSettings.call(this,t),this.addEventListener()},t.prototype.addEventListener=function(){var e,t=this;!this.enableDiskStorage&&(null===(e=this.options)||void 0===e?void 0:e.batchEvents)&&!this.alreadyListening&&(this.alreadyListening=!0,window.addEventListener("pagehide",function(){t.flush(!0)}),window.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.flush(!0)}))},t.from=function(e){if(e.Iguazu)return new t((0,r.__assign)({app:e.app,cache:e.cache},e.Iguazu))},t.prototype.close=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,r.__generator)(this,function(r){switch(r.label){case 0:return this.flush(),t=e.prototype.close.call(this),[4,null===(n=this.db)||void 0===n?void 0:n.close()];case 1:return r.sent(),[2,t]}})})},t}(y),L=function(e){function t(t){var n,r,i,o,s=e.call(this,t.options)||this;return(null===(r=null===(n=t.options)||void 0===n?void 0:n.app)||void 0===r?void 0:r.targetType)&&(s.app.targetType=null===(o=null===(i=t.options)||void 0===i?void 0:i.app)||void 0===o?void 0:o.targetType),t.location&&(s.currentLocation=t.location),t.identifiers&&(s.identifiers=t.identifiers),s.clientUser=t.clientUser,s.device.id=t.deviceId,s}return(0,r.__extends)(t,e),t}(h),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.envelopeVersion=i.DL,t.clientUser={},t}return(0,r.__extends)(t,e),t.prototype.setLocation=function(e){this.location=e,this.context.currentLocation=this.location,this.db&&this.enableDiskStorage&&this.db.upsertContext(this.contextId,this.getDbContext())},t.prototype.identify=function(e,t){if(void 0===t&&(t={}),e){this.userId=e;var n="boolean"==typeof t.isGuest&&t.isGuest;this.clientUser={id:e,isGuest:n},this.context.clientUser=this.clientUser,this.enableDiskStorage&&this.db&&this.db.upsertContext(this.contextId,this.getDbContext())}},t.prototype.createContext=function(){var e;return new L({options:this.contextOptions,identifiers:{dd_login_id:this.commonFields.dd_login_id,dd_session_id:this.commonFields.dd_session_id},location:this.location,clientUser:this.clientUser,deviceId:null!==(e=this.commonFields.dd_device_id)&&void 0!==e?e:""})},t.prototype.createEvent=function(e){var t=new c(e.name,e.properties);if(this.db&&this.enableDiskStorage){var n=this.eventSender.routeEvent(t.name).priority;this.db.createEvent(t,this.contextId,n)}return t},t.from=function(e){if(e.IguazuV2)return new t((0,r.__assign)({app:e.app,cache:e.cache},e.IguazuV2))},t}(w),D=[{matcher:function(e,t){return!1!==t.Segment},channel:new a},{matcher:function(e,t){return!1!==t.Iguazu},channel:w},{matcher:function(e,t){return!!t.IguazuV2},channel:T}],B=function(e){function t(t){var n=e.call(this,t,D)||this;return t.lazy||n.page(),n}return(0,r.__extends)(t,e),t}(o)},270012:function(e,t,n){n.d(t,{s1:function(){return d},aB:function(){return l}});var r,i=n(951279),o=n(723618),s=n(738019),a=n(942537),u=function(){this.library={name:"telemetry-js"},this.os={name:"web"},this.device={type:"Web"}},c=function(e){function t(t){var n=e.call(this,"IguazuDatabase")||this;return n.eventPromises={},n.droppedEvents={},n.errorReporter=t,n.version(1).stores({events:"&event.messageId, contextId, [event.time+priority], event.time, priority",contexts:"&messageId, time"}),n}return(0,i.__extends)(t,e),t.prototype.popDroppedEvents=function(){var e=JSON.parse(JSON.stringify(this.droppedEvents));return this.droppedEvents={},e},t.prototype.flushInternalEvents=function(e){return(0,i.__awaiter)(this,void 0,void 0,function(){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,this.events.where("contextId").equals(a.$y).limit(100).toArray()];case 1:if(!((t=n.sent()).length>0))return[3,3];return[4,e(t.map(function(e){return e.event}),{context:new u,messageId:(0,s.Z)(),time:Date.now(),entityId:"d1c09383-68d3-4288-b1a5-07a5b8fc47be"})];case 2:return[2,n.sent()?"success":"error"];case 3:return[2,"end_of_list"]}})})},t.prototype.tryFlushBackup=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,function(){var n;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,this.contexts.get(e)];case 1:if(!(n=r.sent()))return[2,"end_of_list"];return[4,this.tryFlush(n,t)];case 2:return[2,r.sent()]}})})},t.prototype.tryFlush=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return n=e,[4,this.events.where("contextId").equals(n.messageId).limit(100).toArray()];case 1:if(!((r=i.sent()).length>0))return[3,3];return[4,t(r.map(function(e){return e.event}),n)];case 2:return[2,i.sent()?"success":"error"];case 3:return[4,this.contexts.delete(n.messageId)];case 4:return i.sent(),[2,"success"]}})})},t.prototype.tryFlushEvents=function(e){return(0,i.__awaiter)(this,void 0,void 0,function(){var t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,this.contexts.orderBy("time").reverse().first()];case 1:if(!(t=n.sent()))return[2,"end_of_list"];return[4,this.tryFlush(t,e)];case 2:return[2,n.sent()]}})})},t.prototype.cleanUpUnnecessaryEvents=function(){return(0,i.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,o,s,a,u,c,l,d=this;return(0,i.__generator)(this,function(_){switch(_.label){case 0:return[4,this.events.orderBy("contextId").uniqueKeys()];case 1:return t=new Set(e=_.sent()),[4,this.contexts.bulkGet(e.map(String))];case 2:for(n=0,r=_.sent();n<r.length;n++)(o=r[n])&&t.delete(o.messageId);s=function(e){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,a.withRetry(function(){return d.events.where("contextId").equals(e).delete()},0)];case 1:return t.sent(),[2]}})},a=this,u=0,c=Array.from(t),_.label=3;case 3:if(!(u<c.length))return[3,6];return l=c[u],[5,s(l)];case 4:_.sent(),_.label=5;case 5:return u++,[3,3];case 6:return[2]}})})},t.prototype.createEvent=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,function(){var r,s,a=this;return(0,i.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.withRetry(function(){return a.events.add({contextId:t,event:e,priority:n})},"",!1)];case 1:case 4:return[2,i.sent()];case 2:if((r=i.sent()).name===o.ZP.errnames.DataClone)e=JSON.parse(JSON.stringify(e));else{if(r.name!==o.ZP.errnames.QuotaExceeded)return this.errorReporter.report(r),[2,Promise.resolve("")];this.freeUpDiskSpace()}return[3,3];case 3:return i.trys.push([3,5,,6]),[4,this.withRetry(function(){return a.events.add({contextId:t,event:e,priority:n})},"",!1)];case 5:return s=i.sent(),this.errorReporter.report(s),[2,Promise.resolve("")];case 6:return[2]}})})},t.prototype.clearAllEvents=function(){return(0,i.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return e={},["p0","p1","p2"].forEach(function(n){return(0,i.__awaiter)(t,void 0,void 0,function(){var t;return(0,i.__generator)(this,function(r){switch(r.label){case 0:return[4,this.events.where("priority").equals(n).count()];case 1:return(t=r.sent())>0&&(e[n]=t),[2]}})})}),[4,this.withRetry(function(){return t.events.clear()},void 0)];case 1:return n.sent(),[2,e]}})})},t.prototype.deleteEventsPriority=function(e){return(0,i.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,this.withRetry(function(){return t.events.where("priority").equals(e).delete()},0)];case 1:return[2,n.sent()]}})})},t.prototype.deleteEventsByPriorityAndLower=function(e){return(0,i.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:switch(e){case"p0":return[3,1];case"p1":return[3,3];case"p2":return[3,6]}return[3,8];case 1:return[4,this.contexts.clear()];case 2:return i.sent(),[2,this.clearAllEvents()];case 3:return[4,this.deleteEventsPriority("p1")];case 4:return t=i.sent(),[4,this.deleteEventsPriority("p2")];case 5:return n=i.sent(),r={},t>0&&(r.p1=t),n>0&&(r.p2=n),[2,r];case 6:return[4,this.deleteEventsPriority("p2")];case 7:return[2,(o=i.sent())>0?{p2:o}:{}];case 8:return this.errorReporter.report(Error("Invalid priority: ".concat(e))),[2,Promise.resolve({})]}})})},t.prototype.deleteEvents=function(e){var t=this;return this.withRetry(function(){return t.events.bulkDelete(e.map(function(e){return e.messageId}))},void 0)},t.prototype.createContext=function(e){return(0,i.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,i.__generator)(this,function(n){switch(n.label){case 0:return[4,this.withRetry(function(){return t.transaction("rw",t.contexts,function(){return(0,i.__awaiter)(t,void 0,void 0,function(){return(0,i.__generator)(this,function(t){switch(t.label){case 0:return[4,this.contexts.get(e.messageId)];case 1:if(t.sent())return[2,""];return[4,this.contexts.add(e)];case 2:return[2,t.sent()]}})})}).catch(function(e){t.errorReporter.report(e)})},"")];case 1:return[2,n.sent()]}})})},t.prototype.upsertContext=function(e,t){var n=this;return this.withRetry(function(){return n.contexts.put(t)},"")},t.prototype.withRetry=function(e,t){return(0,i.__awaiter)(this,arguments,void 0,function(e,t,n){var r,o;return void 0===n&&(n=!0),(0,i.__generator)(this,function(i){switch(i.label){case 0:return(r=this.withRetryHelper(e,t,n)).id=(0,s.Z)(),this.eventPromises[r.id]=r,[4,r];case 1:return o=i.sent(),delete this.eventPromises[r.id],[2,o]}})})},t.prototype.withRetryHelper=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,function(){var r,s,a;return(0,i.__generator)(this,function(i){switch(i.label){case 0:r=0,i.label=1;case 1:if(!(r<(n?1:2)))return[3,9];i.label=2;case 2:return i.trys.push([2,4,,8]),[4,e()];case 3:return[2,i.sent()];case 4:if(a=i.sent(),r++,s=a,a.name!==o.ZP.errnames.QuotaExceeded)return[3,6];return[4,this.freeUpDiskSpace()];case 5:return i.sent(),[3,7];case 6:return[3,9];case 7:return[3,8];case 8:return[3,1];case 9:return s instanceof Error&&this.errorReporter.report(s),[2,t]}})})},t.prototype.deleteOldestEventsByPriority=function(e,t){return this.events.orderBy("event.time").filter(function(t){return t.priority===e}).limit(t).delete()},t.prototype.freeUpDiskSpace=function(){return(0,i.__awaiter)(this,arguments,void 0,function(e){var t,n,r,o,s;return void 0===e&&(e=50),(0,i.__generator)(this,function(i){switch(i.label){case 0:return[4,this.deleteOldestEventsByPriority("p2",e)];case 1:if(t=i.sent(),n={},t>0&&(this.droppedEvents.p2=(null!==(o=this.droppedEvents.p2)&&void 0!==o?o:0)+t,n.p2=t),!(t<e))return[3,3];return[4,this.deleteOldestEventsByPriority("p1",e-t)];case 2:(r=i.sent())>0&&(this.droppedEvents.p1=(null!==(s=this.droppedEvents.p1)&&void 0!==s?s:0)+r,n.p1=r),i.label=3;case 3:return[2,n]}})})},t.prototype.close=function(){return(0,i.__awaiter)(this,void 0,void 0,function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,Promise.allSettled(Object.values(this.eventPromises))];case 1:return e.sent(),[2]}})})},t}(o.ZP),l=function(e){return r||(r=new c(e)),r};function d(){return(0,i.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(!("serviceWorker"in navigator&&"indexedDB"in window))return[2,!1];return[4,null===(t=null===(e=navigator.storage)||void 0===e?void 0:e.estimate)||void 0===t?void 0:t.call(e)];case 1:var r;if(!(!(r=n.sent())||!r.usage||!r.quota||r.quota-r.usage>5e4))return[2,!1];return[2,!0]}})})}},942537:function(e,t,n){n.d(t,{$y:function(){return i},DL:function(){return a},Di:function(){return o},SS:function(){return s},wy:function(){return r}});var r={singleEvent:99e4,batchMessage:999e4},i="internal-telemetry",o="p2",s={All:!1,Snowflake:!0,Repeater:!0,Iterable:!0,"New Relic":!0,Slack:!0},a="1.2"},119023:function(e,t,n){n.d(t,{BP:function(){return s},SA:function(){return r},fg:function(){return o},wC:function(){return i}});var r={eventTenants:[{url:"https://423b12fd7b819ec52acafed4ef462cb2.doordash.com/iguazu-edge/v1/p0",events:["card_view","card_click","w_cms_banner"],priority:"p0"}],defaultUrl:"https://423b12fd7b819ec52acafed4ef462cb2.doordash.com/iguazu-edge/v1/p2"},i=JSON.stringify(r),o=!0,s="http://iguazu-kafka-rest-proxy-edge.svc.ddnw.net./iguazu-edge/v1"},239638:function(e,t,n){n.d(t,{B:function(){return i}});var r=n(621535);let i=()=>({appName:"@doordash/app-consumer-ssr",appVersion:r.env.APP_VERSION||"",appWebSHa:"3aa76cc7ac8315ae85fb39cb19d28e353f056ca6",appEnv:r.env.APP_ENV})},129331:function(e,t,n){n.d(t,{EH:function(){return o},cg:function(){return a},jl:function(){return s}});var r=n(434665);let i="",o=e=>{i=e},s=()=>i,a=()=>s()===r.Experience.Storefront},206651:function(e,t,n){n.d(t,{Od:function(){return a},s2:function(){return r}});let r=e=>a(e)||i(e),i=e=>/Android/i.test(e),o=e=>/iPhone/i.test(e),s=e=>/iPad/i.test(e),a=e=>s(e)||o(e)},444335:function(e,t,n){n.d(t,{S:function(){return i},s:function(){return r}});let r=()=>!1,i=()=>!r()},763489:function(e,t,n){n.d(t,{a:function(){return r},n:function(){return i}});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350;return new Promise((t,n)=>{setTimeout(()=>n(Error("Request took longer than ".concat(e," ms to complete"))),e)})},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:350;return Promise.race([e,r(t)])}},643613:function(e,t,n){n.d(t,{sC:function(){return w},Mz:function(){return b},kO:function(){return M},so:function(){return R},WS:function(){return L},T9:function(){return D},kJ:function(){return T},Cm:function(){return B},iq:function(){return O}});var r=n(832162),i=n(28827),o=n(688599);let s=()=>{let e=!1;try{(e=!!window.localStorage)&&(localStorage.setItem("test","test"),localStorage.getItem("test"),localStorage.removeItem("test"))}catch(t){e=!1}return e},a=()=>{try{var e;let t=o.parse(null===(e=window)||void 0===e?void 0:e.location.search)||{};return{utmCampaign:t.utm_campaign,utmSource:t.utm_source,utmMedium:t.utm_medium}}catch(e){return{}}};var u=n(536088),c=n(129331),l=n(3075),d=n(610068),_=n(2497),v=n.n(_),f=n(928023),h=n(473552),p=n(76061),g=n(239638),E=n(763489),S=n(118700),m=n(497247),y=n(621535);let N=()=>(0,c.jl)()||u.ZP.get("experience")||"",A=()=>{var e,t,n;return(null===(n=window)||void 0===n?void 0:null===(t=n.location)||void 0===t?void 0:null===(e=t.pathname)||void 0===e?void 0:e.match(/^\/doubledash\//))?{bundle_context:"post_checkout"}:{}},M=()=>{let e={};return Object.values(h.M).forEach(t=>{let n=(0,r.vQ)(t);n&&(e[t]=n)}),e},I=e=>({is_test_tenancy:!!e[h.M["dd-tenant-id"]]}),b=()=>{var e,t,n,r,i,o;let s=!!window&&"ontouchstart"in window,a=(null===(e=window)||void 0===e?void 0:e.innerWidth)||0,u=(null===(t=window)||void 0===t?void 0:t.innerHeight)||0,c=(null===(r=window)||void 0===r?void 0:null===(n=r.navigator)||void 0===n?void 0:n.userAgent)||0,l="";return 0!==c&&(l=new(v())(c).getBrowser().name||""),{href:(null===(i=window)||void 0===i?void 0:i.location.href)||"",referrer:(null===(o=window)||void 0===o?void 0:o.document.referrer)||"",platform:(0,d.X)(),browser_width:a,browser_height:u,touch:s,user_agent:c,browser:l,connection_speed:Math.round((0,p.Z)())}},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.g.EN_US,t=e.split("-"),n="";return 1===t.length?n=t[0].toUpperCase():2===t.length?n=(/^\d+$/.test(t[1])?t[0]:t[1]).toUpperCase():3===t.length&&(n=t[2].toUpperCase()),n},C=e=>({pod_name:(null==e?void 0:e.podName)||u.ZP.get(f.km)||window[f.Ty],cell:(null==e?void 0:e.cell)||u.ZP.get(f.Bg)||window[f.pM],ssr_environment:(null==e?void 0:e.ssrEnvironment)||u.ZP.get(f.W8)||window[f.T3]});function w(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.SimpleStore)return{};let o=null!==(t=e.SimpleStore.get(f.g))&&void 0!==t?t:null,s=null!==(n=e.SimpleStore.get(f.VE))&&void 0!==n?n:null,a=e.locale?{locale:e.locale,countryCode:R(e.locale)}:{},u=M(),c=I(u);return{...{...u,...b(),...a,...c,submarket_id:o,zip_code:s,target_app:"consumer",experience:N(),...A(),...function(){let e=(0,r.vQ)("_fbp");return e?{fbp:e}:{}}()},...i}}let L=e=>{var t,n,r,i,o,s,a,c,l,d,_,v,h,p,g;let{body:E,pageType:S,consumerId:m,isGuest:y,isBot:N,isCrawler:A,isAppDirectory:M}=e;return{consumerId:null!==(r=null!==(n=null!==(t=E.consumerId)&&void 0!==t?t:m)&&void 0!==n?n:u.ZP.get("consumerId"))&&void 0!==r?r:"",isGuest:null!==(o=null!==(i=E.isGuest)&&void 0!==i?i:y)&&void 0!==o?o:!0===u.ZP.get("isGuest"),pageType:null!==(c=null!==(a=null!==(s=E.pageType)&&void 0!==s?s:S)&&void 0!==a?a:u.ZP.get("pageType"))&&void 0!==c?c:"",page_type:null!==(_=null!==(d=null!==(l=E.pageType)&&void 0!==l?l:S)&&void 0!==d?d:u.ZP.get("pageType"))&&void 0!==_?_:"",isBot:null!==(h=null!==(v=E.isBot)&&void 0!==v?v:N)&&void 0!==h?h:"true"===u.ZP.get(f.NP),isCrawler:null!==(g=null!==(p=E.isCrawler)&&void 0!==p?p:A)&&void 0!==g?g:"true"==u.ZP.get(f.gm),isAppDirectory:null!=M?M:!!window.isAppDirectory,...C(E)}},T=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=(0,i.ER)(N()))||void 0===t||t.event(e,n,{service:{Iguazu:!1,Segment:!1,IguazuV2:!0}})},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableSendBeacon:!1,enableBatching:!0},r=(0,i.ER)(N(),n.enableBatching),o=(0,g.B)();return null==r||r.event(e,{...a(),version:o.appVersion,release:y.env.APP_VERSION||"",...t},{enableSendBeacon:n.enableSendBeacon,service:{Segment:s()}}),r},B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableSendBeacon:!1,enableBatching:!0};return D(e,{...w({SimpleStore:u.ZP},t),...L({body:t})},n)},O=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(0,E.n)((0,S.U$)(),n).catch(e=>{var t;(0,m.eN)({message:null!==(t=e.message)&&void 0!==t?t:"Could not flush events before timeout",level:"error"})}).finally(()=>t()),e.apply(null,i)}}},89265:function(e,t,n){n.d(t,{Z:function(){return d},e:function(){return l}});var r,i,o=n(536088),s=n(327347),a=n(733151);(r=i||(i={})).action_owner="action_owner",r.action_type="action_type",r.correlationId="correlation_id",r.traceId="trace_id",r.duration="duration",r.name="name",r.time="time",r.isCrawler="is_crawler",r.search_intent="search_intent";var u=n(643613);let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enableSendBeacon:!1,enableBatching:!0},r={...(0,u.sC)({SimpleStore:o.ZP},t),...(0,u.WS)({body:t})};(0,u.T9)(e,r,n)},l=function(e){return c(s.u.performance_tracing,{...e,action_owner:(0,a.VH)(e.action_owner)})};var d=c},928023:function(e,t,n){n.d(t,{Bg:function(){return u},NP:function(){return c},Of:function(){return v},T3:function(){return s},Ty:function(){return o},VE:function(){return _},W8:function(){return i},g:function(){return d},gm:function(){return l},km:function(){return r},pM:function(){return a}});let r="podName",i="ssrEnvironment",o="__served_by_pod",s="__served_by_ssr_environment",a="__served_by_cell",u="cell",c="is_bot",l="is_crawler",d="submarket_id",_="zipcode",v={userInput:"",trackingData:{},previousDefaultAddressId:""}},473552:function(e,t,n){n.d(t,{M:function(){return i},k:function(){return s}});var r,i,o=n(832162);(r=i||(i={})).dd_login_id="dd_login_id",r.dd_district_id="dd_district_id",r.dd_zip_code="dd_zip_code",r.dd_device_id="dd_device_id",r.dd_session_id="dd_session_id",r.dd_submarket_id="dd_submarket_id",r.dd_guest_id="dd_guest_id",r.dd_locale="dd_locale",r.dd_last_login_method="dd_last_login_method",r.dd_last_login_action="dd_last_login_action",r["dd-tenant-id"]="dd-tenant-id";let s=()=>{let e={};return Object.values(i).forEach(t=>{let n=(0,o.vQ)(t);n&&(e[t]=n)}),e}},76061:function(e,t){t.Z=()=>{var e,t;let n=null===(t=window.navigator)||void 0===t?void 0:null===(e=t.connection)||void 0===e?void 0:e.downlink;return isFinite(n)?Math.max(0,Math.min(n,10)):-1}},610068:function(e,t,n){n.d(t,{X:function(){return i},a:function(){return r}});let r={MOBILE:"mobile",DESKTOP:"desktop"},i=()=>"ontouchstart"in window&&window.innerWidth<900?r.MOBILE:r.DESKTOP},733151:function(e,t,n){var r,i;n.d(t,{FR:function(){return o},VH:function(){return s}});let o="action_owner";function s(e){return(e||[]).sort((e,t)=>e.localeCompare(t)).join(",")}(i=r||(r={})).DoubleDash="DblDash",i.NV="NV"},327347:function(e,t,n){var r,i;n.d(t,{u:function(){return r}}),(i=r||(r={})).performance_tracing="performance_tracing",i.error_appear="error_appear",i.network_error="network_error",i.network_success="network_response",i.page_action="cx_page_action",i.page_load="cx_page_load"},536088:function(e,t,n){n.d(t,{ZP:function(){return _},wM:function(){return l},simpleStoreSession:function(){return c},XR:function(){return d}});var r=n(832162),i=n(497247);function o(e){return e.value}var s=n(444335);let a=(()=>{let e=!1;try{"undefined"!=typeof localStorage&&null!==localStorage&&function(){try{return localStorage.setItem("1","1"),localStorage.removeItem("1"),!0}catch(e){return!1}}()&&(e=!0)}catch(e){}function t(e){return"object"==typeof e?JSON.stringify(e):e}function n(t){if((0,s.s)()){o({value:void 0});return}if(e)try{localStorage.removeItem(t)}catch(e){}else(0,r.pC)(t,"",-1)}return{set:function(n,i,a){let u;if((0,s.s)()){o({value:void 0});return}if(u=a?JSON.stringify({value:i,expiresAt:new Date().getTime()+1e3*a}):t(i),e)try{localStorage.setItem(n,u)}catch(e){}else(0,r.pC)(n,t(i),a||2592e3)},get:function(t){let a;if((0,s.s)())return o({value:void 0});if(e)try{a=localStorage.getItem(t)}catch(e){return(0,i.uT)(e,{level:"warning"}),null}else a=(0,r.vQ)(t);try{if("string"==typeof a&&(a=JSON.parse(a)).expiresAt){if(new Date().getTime()>a.expiresAt)return n(t),null;a=a.value}}catch(e){}return a},delete:n}})(),u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!1;return"undefined"!=typeof sessionStorage&&function(){try{if(e)return!1;return sessionStorage.setItem("1","1"),sessionStorage.removeItem("1"),!0}catch(e){return!1}}()&&(n=!0),{set:function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t||30;if((0,s.s)()){o({value:void 0});return}let u="";u="object"==typeof i?JSON.stringify(i):i,n?sessionStorage.setItem(e,u):(0,r.pC)(e,u,a)},get:function(e){let t;if((0,s.s)()){o({value:void 0});return}if(n)try{t=sessionStorage.getItem(e)}catch(e){return(0,i.uT)(e,{level:"warning"}),null}else t=(0,r.vQ)(e);if("string"==typeof t)try{return JSON.parse(t)}catch(e){}return t},delete:function(e){if((0,s.s)()){o({value:void 0});return}n?sessionStorage.removeItem(e):(0,r.pC)(e,"",-1)}}},c=u(),l=u(!0,86400),d=()=>a;var _=a},28827:function(e,t,n){n.d(t,{ER:function(){return p}});var r=n(434665),i=n(690965),o=n(206651),s=n(529994),a=n(404261);let u=e=>(0,a.D)()?"718a0b8f-c9e7-4c98-a335-07ea33bb572b":e===s.a.Storefront?"49686d21-96e9-48fb-b0fd-fea366231397":e===s.a.Caviar?"10d91cf9-67c9-49c0-a3ae-cc8e9f7fd2ff":"d1c09383-68d3-4288-b1a5-07a5b8fc47be";var c=n(444335),l=n(966706);let d={segmentApiKey:"L3UWqZFYa0jF2PtgpEsKod2WtZet4Zvr",segmentApiKeyCaviar:"ctJaPszdHTeUJeaiMgfH5IFNFxo9gTcq",segmentApiKeyStorefront:"MCNt0NTAa3XW2LaaaCYwMfjvrM6BtFI2"};var _=n(621535);let v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Experience.DoorDash,t=d.segmentApiKey;return e===r.Experience.Storefront&&(t=d.segmentApiKeyStorefront),e===r.Experience.Caviar&&(t=d.segmentApiKeyCaviar),t},f={},h=()=>window.location.hostname?"https://".concat(window.location.hostname,"/iguazu-edge/v1"):"https://order.online/iguazu-edge/v1",p=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n="".concat(e).concat(t?"":"_unbatched"),s=f[n];if(!s){let a,d={},p=(0,c.s)();p&&(d={app:{build:_.env.RELEASE_SHA}}),p||e!==r.Experience.Storefront?(0,l.yG)()&&(a="https://iguazu.doorcrawl.com/iguazu-edge/v1/p2"):a=h();let g={entityId:u(e),errors:{enableSentry:!0},timeout:p?1e3:1e4,url:a},E=v(e);s=new i.y({Iguazu:g,IguazuV2:g,Segment:{writeKey:E},...d,lazy:!0}),t&&s.setBatchSettings((0,o.s2)(window.navigator.userAgent)?{size:20,timeout:1e3}:{size:20,timeout:100}),f[n]=s}return s}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="5bc4a3d7-d1b5-53f6-9ce4-32474bf02bf5")}catch(e){}}()
//# debugId=5bc4a3d7-d1b5-53f6-9ce4-32474bf02bf5
//# sourceMappingURL=89265-e15fc9afe915a8d9.js.map
