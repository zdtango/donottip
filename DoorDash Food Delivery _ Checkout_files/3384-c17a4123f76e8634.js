"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3384],{728216:function(e,n,t){t.d(n,{Ee:function(){return s},b4:function(){return l}});var i=t(482480),a=t(338772);let r="30px",o="calc(".concat(r," + ").concat(i.Q2.usage.space.xxSmall,")");a.default.div.withConfig({componentId:"sc-d6eb14fc-0"})(["overflow-x:auto;::-webkit-scrollbar{","}"],e=>{let{hideScrollBar:n}=e;return n&&"display: none"}),a.default.div.withConfig({componentId:"sc-d6eb14fc-1"})(["display:flex;",""],e=>{let{hasFades:n}=e;return!!n&&(0,a.css)(["position:relative;"])}),a.default.div.withConfig({componentId:"sc-d6eb14fc-2"})(["overflow-y:hidden;overflow-x:auto;scroll-behavior:smooth;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let l=a.default.div.withConfig({componentId:"sc-d6eb14fc-3"})(["width:",";flex-shrink:0;display:flex;align-items:center;cursor:pointer;",";&:first-child{margin-right:",";}&:last-child{margin-left:",";}",""],e=>{let{hasFades:n}=e;return n?"".concat(88,"px"):"".concat(40,"px")},e=>e.isHidden&&"visibility: hidden;",i.Q2.usage.space.small,i.Q2.usage.space.small,e=>{let{hasFades:n}=e;return!!n&&(0,a.css)(["position:absolute;top:0;height:100%;z-index:1;pointer-events:none;&:first-child{padding-right:",";padding-left:",";left:0;background:linear-gradient( 270deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 40%,rgba(255,255,255,1) 100% );}&:last-child{padding-left:",";padding-right:",";right:0;background:linear-gradient( 90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,0.8) 40%,rgba(255,255,255,1) 100% );justify-content:flex-end;}"],i.Q2.usage.space.small,i.Q2.usage.space.xSmall,i.Q2.usage.space.small,i.Q2.usage.space.xSmall)}),s=a.default.div.withConfig({componentId:"sc-d6eb14fc-4"})(["border-radius:50%;width:",";height:",";display:flex;align-items:center;justify-content:center;border:1px solid ",";transition:all 0.2s;pointer-events:auto;"," "," "," &:hover{border-color:",";}"],r,r,i.Q2.usage.color.border.default,e=>{let{arrowIconWithBgColor:n}=e;return!!n&&"\n    background-color: ".concat(i.Q2.usage.color.action.secondary.subdued.default,";\n    \n    &:hover {\n      background-color: ").concat(i.Q2.usage.color.background.default,";\n      border-color: transparent;\n    };\n  ")},e=>{let{arrowIconWithBgColor:n,hasFades:t}=e;return!!n&&!!t&&"\n    &:hover {\n      background-color: ".concat(i.Q2.usage.color.background.default,";\n      border-color: transparent;\n    };\n  ")},e=>{let{lightArrowIcon:n}=e;return!!n&&"\n    background-color: ".concat(i.Q2.usage.color.background.default,";\n    box-shadow: ").concat(i.Q2.usage.elevation["1"],";\n    \n    &:hover {\n      background-color: ").concat(i.Q2.usage.color.background.elevated.hovered,";\n      border-color: transparent;\n    };\n  ")},e=>{let{arrowIconWithBgColor:n,lightArrowIcon:t}=e;return n||t?"transparent":i.Q2.usage.color.border.strong.default});a.default.div.withConfig({componentId:"sc-d6eb14fc-5"})(["border-radius:50%;width:",";height:",";display:flex;align-items:center;justify-content:center;background:",";"],o,o,i.Q2.usage.color.background.default)},546063:function(e,n,t){t.d(n,{E0:function(){return r},S0:function(){return l}});var i=t(160857);let a=(e,n)=>{let t=document.createElement("script");t.type="text/javascript",t.src=e,t.id=n,document.body.appendChild(t)},r=e=>new Promise(n=>{if(window.paypal){n(window.paypal);return}a("https://www.paypalobjects.com/api/checkout.js",e),document.querySelector("#"+e).addEventListener("load",()=>{n(window.paypal)})}),o={size:"responsive",color:"gold",shape:"pill",label:"paypal",tagline:!1},l=e=>{let{locale:n,createPayment:t,onError:a,onSuccess:r}=e,l=(0,i.p)();return{onError:a,style:o,locale:s(n),env:l?"sandbox":"production",payment:t,onAuthorize:r}},s=e=>{switch(e){case"es":return"es_US";case"fr-CA":case"en-CA":case"en-AU":return e.replace("-","_");default:return"en_US"}}},593768:function(e,n,t){var i=t(512150),a=t(908148);n.Z=e=>{let{query:n,variables:t,fetchPolicy:r="no-cache",pollInterval:o,success:l,failure:s,timeout:u,children:c,onSuccess:d,onFailure:p,onError:g,onTimeout:f,combineLoading:m}=e,[v,_]=i.useState(!1),[S,h]=i.useState(0),E=()=>new Date().getTime()>S+u,[b,{stopPolling:I,loading:y}]=(0,a.t)(n,{pollInterval:o,variables:t,fetchPolicy:r,notifyOnNetworkStatusChange:!0,onCompleted:e=>{l(e)?(_(!1),I(),d(e)):s(e)?(_(!1),I(),p(e)):E()&&(_(!1),I(),f())},onError:e=>{E()&&(_(!1),I(),g(e))}});return c(()=>{_(!0),h(new Date().getTime()),b()},m?v:y)}},33779:function(e,n,t){t.d(n,{Cu:function(){return f},Sj:function(){return m},f9:function(){return v},fc:function(){return g}});var i=t(512150),a=t(346037),r=t.n(a),o=t(863401),l=t.n(o),s=t(774689),u=t.n(s),c=t(763489),d=t(268541),p=t(546063);let g=()=>{var e;let n=(0,d.e)();return!!(null==n?void 0:null===(e=n.paypalConfig)||void 0===e?void 0:e.key)},f=()=>{let[e,n]=i.useState(),t=(0,d.e)(),a=i.useCallback(async()=>{var e,i;let a=null==t?void 0:null===(i=t.v2)||void 0===i?void 0:null===(e=i.providerConfigs)||void 0===e?void 0:e.braintree;if(!(null==a?void 0:a.key)||!a.accountId)return;let o=await r().create({authorization:a.key});n(await u().create({client:o,merchantAccountId:a.accountId}))},[t]);return i.useEffect(()=>{a()},[a]),e},m=()=>{let[e,n]=i.useState();return i.useEffect(()=>{(0,p.E0)("paypal-js").then(e=>n(e))},[]),e},v=()=>{let e=(0,d.e)(),n=i.useRef(),t=i.useCallback(async()=>{var t,i;let a=null==e?void 0:null===(i=e.v2)||void 0===i?void 0:null===(t=i.providerConfigs)||void 0===t?void 0:t.braintree;if(!(null==a?void 0:a.key))return;let o=await r().create({authorization:a.key});return n.current=await l().create({client:o,paypal:!0,kount:!1}),n.current},[e]);return(0,i.useEffect)(()=>{t()},[t]),{getPayPalDeviceData:i.useCallback(async function(){var e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.current||(i||await t(),await Promise.race([t(),(0,c.a)(i)])),null===(e=n.current)||void 0===e?void 0:e.deviceData.replace(/"/g,'"')},[t])}}},160857:function(e,n,t){t.d(n,{p:function(){return a}});var i=t(378179);let a=()=>!!new i.Z(document.cookie).get("dd-tenant-id")},672374:function(e,n,t){t.d(n,{B8:function(){return W},Bh:function(){return x},EG:function(){return C},FW:function(){return G},JF:function(){return b},OQ:function(){return A},QR:function(){return U},Rx:function(){return I},Sk:function(){return K},T5:function(){return E},U:function(){return z},V7:function(){return O},VR:function(){return V},Ve:function(){return R},__:function(){return T},a0:function(){return ee},aD:function(){return L},by:function(){return N},e1:function(){return H},eq:function(){return y},gX:function(){return $},hb:function(){return P},ky:function(){return D},lE:function(){return Z},np:function(){return h},p5:function(){return q},pQ:function(){return B},sf:function(){return Y},ud:function(){return Q},zx:function(){return J}});var i=t(523328),a=t(403009),r=t(95485),o=t(338772),l=t(728216),s=t(739138),u=t(482480),c=t(787121),d=t(539687),p=t(345802),g=t(927330),f=t(779193),m=t(583413);function v(e){let n="".concat(m.EB,"media/consumer/dashpass/").concat(e);return(0,m.O1)(n)}function _(e){let n="".concat(m.hl,"/subscriptions/").concat(e);return(0,m.O1)(n)}let S=(e,n,t,i)=>e?t?"".concat(m.TC,"/s/managed/consumer/dashpass/SoDP-web-xl-left.png"):_(n?"web-xl-upgrade-left.png":"web-xl-landing-left.png"):t?"".concat(m.TC,"/s/managed/consumer/dashpass/SoDP-web-xl-right.png"):i?"".concat(m.TC,"/s/managed/consumer/dashpass/ASDP-web-xl-right.png"):_("web-xl-right.png");o.default.div.withConfig({componentId:"sc-4ee6ecb-0"})(["background-color:",";"],u.Q2.usage.color.background.default),o.default.div.withConfig({componentId:"sc-4ee6ecb-1"})(["max-width:","px;display:flex;flex-direction:column;padding:0 ",";margin:"," auto;"],470,e=>e.isMobile?u.Q2.usage.space.medium:u.Q2.usage.space.xxxLarge,u.Q2.usage.space.large);let h=o.default.ul.withConfig({componentId:"sc-4ee6ecb-2"})(["display:flex;flex-direction:column;max-width:","px;padding:0 ",";margin:0 auto ",";"],470,e=>e.isMobile?u.Q2.usage.space.xxSmall:u.Q2.usage.space.large,u.Q2.usage.space.large),E=o.default.li.withConfig({componentId:"sc-4ee6ecb-3"})(["margin-bottom:",";list-style-type:none;"],u.Q2.usage.space.large);o.default.li.withConfig({componentId:"sc-4ee6ecb-4"})(["margin-bottom:",";list-style-type:none;"],u.Q2.usage.space.legacyMedium);let b=o.default.div.withConfig({componentId:"sc-4ee6ecb-5"})(["display:flex;"]),I=o.default.div.withConfig({componentId:"sc-4ee6ecb-6"})(["display:flex;flex-direction:column;margin:0 ",";"],u.Q2.usage.space.xSmall),y=o.default.img.withConfig({componentId:"sc-4ee6ecb-7"})(["max-width:",";height:auto;"],u.Q2.usage.space.xxxLarge);o.default.div.withConfig({componentId:"sc-4ee6ecb-8"})(["padding:"," 0 0 ",";","{&:first-child{margin-right:",";}&:last-child{margin-left:",";}}"],u.Q2.usage.space.legacyMedium,u.Q2.usage.space.legacyMedium,l.b4,u.Q2.usage.space.legacyMedium,u.Q2.usage.space.legacyMedium),(0,o.default)(c.Z).attrs(()=>({size:d.O8.small})).withConfig({componentId:"sc-4ee6ecb-9"})(["display:flex;"]),o.default.img.withConfig({componentId:"sc-4ee6ecb-10"})(["height:40px;border:1px solid ",";border-radius:",";"],u.Q2.usage.color.border.default,u.Q2.usage.space.xxSmall);let x=o.default.div.withConfig({componentId:"sc-4ee6ecb-11"})(["margin:"," 0 calc(-1 * ",");padding:"," 0;"],u.Q2.usage.space.legacyMedium,u.Q2.usage.space.small,u.Q2.usage.space.medium);o.default.div.withConfig({componentId:"sc-4ee6ecb-12"})(["text-align:center;display:flex;flex-direction:column;align-items:center;"]);let C=o.default.div.withConfig({componentId:"sc-4ee6ecb-13"})(["",""],e=>e.isMobile?"\n    background: url(".concat(v("dp-chase-mobile-header.jpg"),") center / 598px 128px no-repeat;\n    height: ").concat(120,"px;\n    "):"\n    background: url(".concat(v("dp-chase-desktop-header.jpg"),") center / 1600px 200px no-repeat;\n    height: ").concat(200,"px;\n    margin-bottom: calc(").concat(u.Q2.usage.space.legacyMedium," - ").concat(200,"px);\n    "));o.default.div.withConfig({componentId:"sc-4ee6ecb-14"})(["background:url(",") center / 598px 128px no-repeat;height:","px;"],v("dp-chase-mobile-header.jpg"),120);let T=(0,o.default)(p.x).attrs(()=>({textStyle:g.TextStyle.display.large})).withConfig({componentId:"sc-4ee6ecb-15"})(["margin:"," 0 "," 0;"],e=>e.isMobile?u.Q2.usage.space.large:0,u.Q2.usage.space.large),A=(0,o.default)(p.x).withConfig({componentId:"sc-4ee6ecb-16"})(["margin:0 0 "," 0;"],u.Q2.usage.space.large);o.default.div.withConfig({componentId:"sc-4ee6ecb-17"})(["text-align:center;margin-bottom:",";"],u.Q2.usage.space.large);let P=(0,o.default)(p.x).withConfig({componentId:"sc-4ee6ecb-18"})(["a{display:inline-block;}cursor:pointer;"]),R=o.default.div.withConfig({componentId:"sc-4ee6ecb-19"})(["padding:0 "," 0 ",";"],u.Q2.usage.space.xSmall,u.Q2.usage.space.xSmall),D=o.default.div.withConfig({componentId:"sc-4ee6ecb-20"})(["margin-bottom:",";"],u.Q2.usage.space.xLarge),N=o.default.div.withConfig({componentId:"sc-4ee6ecb-21"})(["",""],e=>e.isTablet?"\n      background: url(".concat(S(!0,e.isUpgrade,e.isSODP),") center /\n      ").concat(289,"px ").concat(135,"px no-repeat;\n    height: ").concat(135,"px;\n    width: ").concat(289,"px;\n    "):"\n      background: url(".concat(S(!0,e.isUpgrade,e.isSODP),") center /\n      ").concat(420,"px ").concat(200,"px no-repeat;\n    height: ").concat(200,"px;\n    width: ").concat(420,"px;\n    ")),L=o.default.div.withConfig({componentId:"sc-4ee6ecb-22"})(["",""],e=>e.isTablet?"\n      background: url(".concat(S(!1,e.isUpgrade,e.isSODP),") center /\n      ").concat(289,"px ").concat(135,"px no-repeat;\n    height: ").concat(135,"px;\n    width: ").concat(289,"px;\n    "):"\n      background: url(".concat(S(!1,e.isUpgrade,e.isSODP),") center /\n      ").concat(420,"px ").concat(200,"px no-repeat;\n    height: ").concat(200,"px;\n    width: ").concat(420,"px;\n    ")),O=o.default.div.withConfig({componentId:"sc-4ee6ecb-23"})(["background:url(",") center / 200px 34px no-repeat;height:34px;width:200px;margin-bottom:",";"],_("DashPass_Logo_RGB_Desktop.png"),e=>e.isMobile?0:e.isTablet?"calc(".concat(u.Q2.usage.space.xLarge," + ").concat(u.Q2.usage.space.xSmall,")"):u.Q2.usage.space.xLarge),U=o.default.div.withConfig({componentId:"sc-4ee6ecb-24"})(["max-width:","px;padding:0 ",";margin:0 auto !important;"],470,e=>e.isMobile?u.Q2.usage.space.medium:u.Q2.usage.space.xxxLarge),w=e=>(0,o.css)(["background-position:top;background-size:contain;background-repeat:no-repeat;height:125px;width:268px;margin-bottom:",";"],e.isUpsell?0:"calc(-1 * ".concat(u.Q2.usage.space.large,")")),k=e=>(0,o.css)(["background:url(",");",";"],S(!1,e.isUpgrade,e.isSODP,e.isASDP),w(e)),M=e=>(0,o.css)(["background:url(",");",";"],S(!1,void 0,!0,void 0),w(e)),j=e=>(0,o.css)(["background:url(",");",";"],S(!1,void 0,void 0,!0),w(e)),F=e=>(0,o.css)(["background:url(",") center / 375px 128px no-repeat;height:128px;width:375px;margin-bottom:",";"],_("signup-header.png"),e.isUpsell?0:"calc(-1 * ".concat(u.Q2.usage.space.large,")")),B=o.default.div.withConfig({componentId:"sc-4ee6ecb-25"})(["",""],e=>e.isUpgrade?k(e):e.isSODP?M(e):e.isASDP?j(e):F(e)),H=o.default.div.withConfig({componentId:"sc-4ee6ecb-26"})(["",""],e=>e.isMobile?"\n      background: url(".concat(_("dashpass_upsell_header_mobile.png"),")\n      center / 375px 128px no-repeat;\n    height: 128px;\n    margin-bottom: calc(-1 * ").concat(u.Q2.usage.space.medium,")\n  "):"\n      background: url(".concat(_("dashpass_upsell_header.png"),")\n      center / 576px 211px no-repeat;\n    height: 211px;\n  ")),G=(0,o.default)(c.Z).withConfig({componentId:"sc-4ee6ecb-27"})(["width:100%;"]),Z=(0,o.default)(c.Z).withConfig({componentId:"sc-4ee6ecb-28"})(["width:100%;"]),Q=(0,o.default)(f.Z).withConfig({componentId:"sc-4ee6ecb-29"})(["width:100%;"]),Y=(0,o.default)(p.x).withConfig({componentId:"sc-4ee6ecb-30"})(["white-space:pre-line;"]),V=o.default.div.withConfig({componentId:"sc-4ee6ecb-31"})(["> span{margin-top:0px;}"]),z=o.default.div.withConfig({componentId:"sc-4ee6ecb-32"})(["margin-left:",";margin-right:",";"],e=>e.isMobile?0:u.Q2.usage.space.small,e=>e.isMobile?0:u.Q2.usage.space.small),$=o.default.div.withConfig({componentId:"sc-4ee6ecb-33"})(["padding:",";background-color:",";border-radius:",";"],u.Q2.usage.space.xSmall,s.i2.SystemTeal5,u.Q2.usage.space.xSmall),K=o.default.div.withConfig({componentId:"sc-4ee6ecb-34"})(["margin-top:",";"],u.Q2.usage.space.xSmall),W=o.default.div.withConfig({componentId:"sc-4ee6ecb-35"})(["margin:"," 0;"],u.Q2.usage.space.legacyMedium),q=o.default.div.withConfig({componentId:"sc-4ee6ecb-36"})(["margin:"," 0;"],u.Q2.usage.space.medium),X={usageColorBrandDashpass:s.i2.SystemTeal60},J=o.default.div.withConfig({componentId:"sc-4ee6ecb-37"})(["display:flex;gap:",";background-color:",";padding:",";margin-bottom:",";border-radius:",";"],u.Q2.usage.space.small,e=>{let{backgroundColor:n}=e;return n&&X[n]||X.usageColorBrandDashpass},u.Q2.usage.space.small,u.Q2.usage.space.small,u.Q2.usage.borderRadius.medium),ee=(0,o.default)(i.Z).attrs(()=>({size:a.qE.small,type:r.L$.plain,isInline:!0})).withConfig({componentId:"sc-4ee6ecb-38"})(["padding:"," ",";background-color:",";text-color:",";border-radius:",";"],u.Q2.usage.space.xxSmall,u.Q2.usage.space.small,s.i2.SystemWhite,u.Q2.usage.color.text.default,u.Q2.usage.space.large)},372388:function(e,n,t){t.d(n,{AU:function(){return b},Ay:function(){return I},Bg:function(){return el},He:function(){return L},IJ:function(){return j},Iw:function(){return ea},JG:function(){return G},M6:function(){return et},Mq:function(){return y},Nt:function(){return U},O0:function(){return A},Rh:function(){return Q},Vb:function(){return B},WR:function(){return N},YZ:function(){return X},_O:function(){return eo},af:function(){return P},bB:function(){return q},be:function(){return w},cz:function(){return es},dX:function(){return J},eB:function(){return d},eF:function(){return ei},eX:function(){return $},gs:function(){return M},i4:function(){return O},iE:function(){return z},kY:function(){return T},kf:function(){return D},ku:function(){return x},l7:function(){return er},le:function(){return Z},lq:function(){return V},mE:function(){return Y},n4:function(){return F},oz:function(){return ee},pU:function(){return k},sE:function(){return H},v:function(){return K},xO:function(){return W},y2:function(){return l},zc:function(){return en}});var i,a,r,o,l,s,u,c,d,p=t(408945),g=t(408500),f=t(118700),m=t(390539),v=t(215225),_=t(853523),S=t(526983),h=t(485151),E=t(78924);let b="None";(i=l||(l={})).legacyLandingPage="legacy_landing_page",i.corporate="corporate",i.newUser="new_user",(s||(s={})).MAX="max",(a=u||(u={})).ACTIVATE="activate_partner_benefit",a.SWITCH="switch_partner_benefit",a.TERMINATE="terminate_partner_benefit",(r=c||(c={})).AD_FREE="ad_free",r.AD_LITE="ad_lite",r.None="null";let I=e=>{let n=(0,v.ZH)(e),t=(0,p.Ru)(n.entryPoint)||(0,p.Ru)(n.entrypoint);return t in g.p4?g.p4[t]:t},y=e=>{let n="";return e.forEach((e,t)=>{n+=t+":"+e+","}),n},x=e=>{if(void 0!==e)return!0===e?"active":"none"},C=(e,n,t)=>e?e:n||t?n===_.ZZ.DD_DASHPASS_DETAILED_ERROR?[n,t?(0,S.fr)(t):"unknown"].join(": "):[null!=n?n:"unknown",null!=t?t:"unknown"].join(": "):void 0,T=e=>String("Ineligible payment cannot use :paymentMethod to subscribe to DashPass").replace(/:paymentMethod/,null!=e?e:"unknown"),A={timeout:"Max iterations reached"},P=e=>{let{entryPoint:n,hasActiveSubscription:t,reason:i,errorCode:a,errorMessage:r,...o}=e,l=C(i,a,r),s=x(t);return(0,v.by)({...o,...s&&{subscriptionStatus:s},...n&&{entryPoint:n,messageType:n},...l&&{reason:l}})},R=e=>n=>(0,f.j)(e,P(n)),D=R(h.y8.purchaseSuccess),N=R(h.y8.purchaseFailure),L=R(h.y8.purchaseAction),O=R(h.y8.pageView),U=R(h.y8.addCardView),w=R(h.y8.addCardClick);R(h.y8.modalOpen);let k=e=>{let{eventName:n,messageType:t,savingsValue:i,planId:a,upsellType:r,upsellLocation:o,email:l,trialId:s,paymentMethod:u,hasPaymentMethod:c,orderCartId:d,dashpassPreviewEnabled:p,badgeType:g,bannerType:m,upsellOfferTypes:v,upsellAudience:_,accessoryType:S,actionType:h}=e;(0,f.j)(n,{message_type:t,savings_value:i,plan_id:a,upsell_type:r,upsell_location:o||null,email:l,trial_id:s,payment_method:u,has_payment_method:c,order_cart_id:d||null,dash_pass_preview_is_enabled:p,badge_type:g,banner_type:m,upsell_offer_types:v,upsell_audience:_,accessory_type:S,action_type:h})},M=e=>{let{planId:n,email:t}=e;return k({eventName:m.W1.CHECKOUT_PAGE_PLACE_ORDER_AND_RESUME,messageType:m.UX.RESUME,planId:n,email:t})},j=e=>{let{planId:n,upsellType:t,upsellLocation:i,upsellAudience:a,actionType:r}=e;return(0,f.j)(m.W1.CHECKOUT_PAGE_RESUME,{message_type:m.UX.RESUME,plan_id:n,upsell_type:t,upsell_location:i,upsell_audience:a,action_type:r})},F=e=>{let{consumerId:n,subscriptionId:t,planId:i,isSuccess:a,isResumeAndSubmitOrderFlow:r}=e;return(0,f.j)(a?m.W1.CHECKOUT_PAGE_RESUME_SUCCESS:m.W1.CHECKOUT_PAGE_RESUME_FAILURE,{consumer_id:n,subscription_id:t,plan_id:i,timestamp:new Date().getTime(),message_type:m.UX.RESUME,is_resume_and_submit_order_flow:r})},B=R(h.y8.Store.subtotalModalView),H=R(h.y8.Store.subtotalModalClick),G=e=>e?e.reduce((e,n)=>n&&n.key?{...e,[n.key]:n.value}:{},{}):null,Z=R(h.y8.UIFlow.screenDisplayed),Q=R(h.y8.UIFlow.screenUserFeedback),Y=R(h.y8.UIFlow.screenActionSelected),V=R(h.y8.UIFlow.screenClosed);R(h.y8.LandingPage.failure);let z=R(h.y8.LandingPage.benefitsClick),$=R(h.y8.LandingPage.benefitsLinkTextClick),K=R(h.y8.LandingPage.benefitsPageView),W=R(h.y8.LandingPage.planToggle),q=R(h.y8.LandingPage.cancel),X=R(h.y8.DashPassUG.setActionDuringCancellationFlowSuccess),J=R(h.y8.DashPassUG.setActionDuringCancellationFlowFailure);R(h.y8.Mosaic.screenLoadSuccess),R(h.y8.Mosaic.screenLoadError),R(h.y8.Mosaic.screenClose),R(h.y8.Mosaic.screenActionSelected);let ee=R(h.y8.Partner.actionStart),en=R(h.y8.Partner.actionSuccess),et=R(h.y8.Partner.actionFailure),ei=R(h.y8.Subscribe.subscriptionPageActionPurchase),ea=R(h.y8.Subscribe.subscriptionPagePurchaseSuccess),er=R(h.y8.Subscribe.subscriptionPagePurchaseFailure);(o=d||(d={})).screenIdentifier="screen_identifier",o.entryPoint="entry_point",o.postActionSuccessPageKey="post_action_success_page_key",o.isPostActionModalDismissible="is_post_action_modal_dismissible";let eo=(e,n)=>{var t,i;return null==n?void 0:null===(i=n.attributes)||void 0===i?void 0:null===(t=i.find)||void 0===t?void 0:t.call(i,n=>{var t;return(null==n?void 0:null===(t=n.key)||void 0===t?void 0:t.toLowerCase())===e.toLowerCase()})},el=(e,n)=>{var t;return(null==n?void 0:null===(t=n.find)||void 0===t?void 0:t.call(n,n=>{let{key:t}=n;return t.toLowerCase()===e.toLowerCase()}))||null},es=e=>{let{mosaicData:n,searchParams:t,searchParamsObj:i,loadTime:a,pathname:r}=e,o=null==n?void 0:n.logging,l=(0,E.B)((null==o?void 0:o.attributes)||[]);(0,f.j)(h.y8.Mosaic.screenLoadSuccess,{deeplink_url:r,load_time:a,...l,...t,...i})}},78924:function(e,n,t){t.d(n,{B:function(){return i}});let i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((e,n)=>{let{key:t,value:i}=n;return t&&(e[t]=i||void 0),e},{})}},853523:function(e,n,t){t.d(n,{Yo:function(){return S},ZZ:function(){return a},k$:function(){return _}});var i,a,r=t(787536),o=t(95485),l=t(228732),s=t(149864),u=t(620222),c=t(512150),d=t(361040),p=t(396415),g=t(360236),f=t(485151),m=t(368630);(i=a||(a={})).NO_PAYMENT="NO_PAYMENT",i.SUBSCRIBE_FAILURE="SUBSCRIBE_FAILURE",i.NONE="NONE",i.UNKNOWN="UNKNOWN",i.ASGARD_RICH_ERROR="ASGARD_RICH_ERROR",i.DD_DASHPASS_DETAILED_ERROR="DD_DASHPASS_DETAILED_ERROR",i.INELIGIBLE_SUBMARKET_NO_PLANS="INELIGIBLE_SUBMARKET_NO_PLANS";let v=e=>{let{errorCode:n,errorMessage:t,onCloseModal:i=()=>{},trackingParams:a}=e;if("DD_DASHPASS_DETAILED_ERROR"===n&&t)return(0,r.jsx)(g.E,{flow:JSON.parse(t),onClose:i,trackingParams:a});let{title:c,description:d,dismissText:v}=_(n,t),S=()=>i();return(0,r.jsx)(l.Z,{isOpen:!0,title:c,headerAlignment:s.sT.left,hasCloseButton:!0,onClose:S,primaryAction:{text:v,onClick:S,buttonProps:{type:o.L$.primary}},size:u.C.small,isFullScreenOnMobile:!0,"data-testid":f.F2.ErrorModal,children:(0,r.jsx)(p.I,{error:d,children:(0,r.jsx)(m.xv,{children:d})})})},_=(e,n)=>{switch(e){case"ASGARD_RICH_ERROR":let t=JSON.parse(n||"{}");return{title:t.localizedTitle||d.ZP.t("postCheckoutCart_dyf_errorModal_title"),description:t.localizedMessage||d.ZP.t("profilePageStrings_errorText_somethingWentWrong"),dismissText:d.ZP.t("commonStrings_wizard_acknowledgement"),internalMessage:t.internalMessage};case"NO_PAYMENT":return{title:d.ZP.t("dashPassStrings_nopayment_title"),description:d.ZP.t("dashPassStrings_nopayment_desc"),dismissText:d.ZP.t("commonStrings_wizard_back")};case"SUBSCRIBE_FAILURE":default:return{title:d.ZP.t("dashPassStrings_subscribe_error_title"),description:d.ZP.t("dashPassStrings_subscribe_error_desc"),dismissText:d.ZP.t("commonStrings_wizard_back")};case"INELIGIBLE_SUBMARKET_NO_PLANS":return{title:d.ZP.t("dashPassStrings_ineligible_submarket_error_title"),description:d.ZP.t("dashPassStrings_ineligible_submarket_error_desc"),dismissText:d.ZP.t("commonStrings_wizard_back")}}},S=()=>{let[e,n]=c.useState(null),t=c.useCallback(()=>n(null),[]),i=c.useCallback((e,t)=>n({errorMessage:e,errorCode:t}),[]),a=c.useMemo(()=>n=>{let{onCloseModal:i=()=>{},...a}=n;return e?(0,r.jsx)(v,{onCloseModal:e=>{t(),i(e)},...e,...a}):(0,r.jsx)(r.Fragment,{})},[e,t]);return{showErrorModal:i,hideErrorModal:t,ErrorModal:a}};n.ZP=v},368630:function(e,n,t){t.d(n,{DD:function(){return d},I2:function(){return S},LZ:function(){return E},Rm:function(){return h},V7:function(){return g},dX:function(){return u},gm:function(){return c},kG:function(){return _},kz:function(){return m},rg:function(){return v},tD:function(){return f},xv:function(){return b}});var i=t(338772),a=t(736227),r=t(779193),o=t(482480),l=t(345802),s=t(927330);let u=28,c=600,d=500,p=e=>(e.isMobile||e.isTablet?20:u)*(/dp-amazon-logo.png/.test(e.logoUrl)?2:1),g=i.default.div.withConfig({componentId:"sc-af9e720-0"})(["background:url(",") left / auto ","px no-repeat;height:","px;width:auto;"],e=>e.logoUrl,p,p),f=i.default.div.withConfig({componentId:"sc-af9e720-1"})(["max-width:","px;"],300),m=i.default.div.withConfig({componentId:"sc-af9e720-2"})(["max-width:","px;margin:0px auto;"],470),v=(0,i.default)(a.D).withConfig({componentId:"sc-af9e720-3"})(["a,a:visited{color:inherit;}p{margin:0;}",""],e=>e.isLandingPageBranding&&"width: 70%;"),_=i.default.div.withConfig({componentId:"sc-af9e720-4"})(["background:url(",") right / auto ","% no-repeat;margin-top:-75px;margin-bottom:-150px;z-index:1;flex:6;"],e=>e.heroUrl,e=>/dp-amazon-hero.png/.test(e.heroUrl)?69.3:66),S=(0,i.default)(r.Z).withConfig({componentId:"sc-af9e720-5"})(["flex:8;"]),h=i.default.div.withConfig({componentId:"sc-af9e720-6"})(["width:90%;"]),E=i.default.div.withConfig({componentId:"sc-af9e720-7"})(["height:",";width:auto;"],o.Q2.usage.space.medium),b=(0,i.default)(l.x).attrs(()=>({textStyle:s.TextStyle.body.medium.default,textColor:s.d9.text.default})).withConfig({componentId:"sc-af9e720-8"})(["white-space:pre-wrap;"])},897625:function(e,n,t){t.d(n,{Du:function(){return u},TN:function(){return s},ki:function(){return d},rN:function(){return c}});var i=t(490724),a=t(390539),r=t(824075),o=t(691596),l=t(459549);let s=e=>e.charAt(0).toUpperCase()+e.slice(1),u=e=>{let n=(null==e?void 0:e.stripeId)||void 0;return n?{stripeId:n,paymentMethod:(0,a.kT)(e)}:void 0},c=e=>!!(e&&i.$h.has(e)),d=()=>{var e,n;let{consumer:t}=(0,l.R)(),a=(0,r.y)(o.pc.cxEnableAusAfterPayDPSubscription,!1),s=(null==t?void 0:null===(n=t.defaultAddress)||void 0===n?void 0:null===(e=n.countryCode)||void 0===e?void 0:e.toLowerCase())==="au";return e=>{let n=s&&e===i.Oh.AFTERPAY;return(!a||!n)&&c(e)}}},881647:function(e,n,t){t.d(n,{h:function(){return u}});var i=t(336494),a=t(74800),r=t(993292),o=t(674752);function l(){let e=(0,i._)(["\n  mutation submitSubscription(\n    $planId: ID!\n    $stripeId: String\n    $stripeToken: String\n    $trialId: Int\n    $paymentMethodOptional: Boolean\n    $annualUpsell: Boolean\n    $consentObtained: Boolean\n    $redeemCode: String\n    $refundType: RefundTypeMap\n    $orderId: String\n  ) {\n    submitSubscription(\n      subscriptionPlanId: $planId\n      stripeId: $stripeId\n      stripeToken: $stripeToken\n      trialPlanId: $trialId\n      paymentMethodOptional: $paymentMethodOptional\n      annualUpsell: $annualUpsell\n      consentObtained: $consentObtained\n      redeemCode: $redeemCode\n      refundType: $refundType\n      orderId: $orderId\n    ) {\n      calloutInfo {\n        title\n      }\n    }\n  }\n"]);return l=function(){return e},e}let s=(0,a.Ps)(l()),u=()=>(0,r.C)(o.r.SubscribeDashPass,o.Yh.ClickedButton,s)},811529:function(e,n,t){t.d(n,{Z:function(){return D},A:function(){return R}});var i=t(336494),a=t(787536),r=t(512150),o=t(74800),l=t(593768),s=t(681874),u=t(408945),c=t(372388),d=t(862871),p=t(531563),g=t(980928),f=t(215224),m=t(993292),v=t(674752);function _(){let e=(0,i._)(["\n  mutation AcceptSharedDashPassMembership($membershipSharingCode: String!) {\n    acceptSharedDashPassMembership(membershipSharingCode: $membershipSharingCode) {\n      screen {\n        ...UiFlowScreenFragment\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}let S=(0,o.Ps)(_(),p.Xv),h=()=>(0,m.C)(v.r.RedeemDashPassFamily,v.Yh.ClickedButton,S);function E(){let e=(0,i._)(["\n  mutation redeemSubscription($redeemCode: String!) {\n    redeemSubscription(redeemCode: $redeemCode) {\n      successScreen {\n        screenDisplayType\n        screenIdentifier\n        allowBackNavigation\n        actionsList {\n          ...ActionsListFragment\n        }\n        ...SectionsListFragment\n      }\n    }\n  }\n  ","\n  ","\n"]);return E=function(){return e},e}let b=(0,o.Ps)(E(),p.Os,p.XD),I=()=>(0,m.C)(v.r.RedeemDashPass,v.Yh.ClickedButton,b);var y=t(881647),x=t(108970),C=t(699328),T=t(403764),A=t(897625);function P(){let e=(0,i._)(["\n  query subscriptionStatus {\n    subscriptionStatus {\n      subscriptionStatus\n      enrollmentInfo {\n        status\n        calloutInfo {\n          title\n          description\n          screen {\n            screenIdentifier\n            screenDisplayType\n            allowBackNavigation\n            actionsList {\n              ...ActionsListFragment\n            }\n            ...SectionsListFragment\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}let R=(0,o.Ps)(P(),p.Os,p.XD);var D=e=>{let{stripeId:n,stripeToken:t,planId:i,trialId:o,savingsValue:p,children:m,onRedeemSuccess:v,onSuccess:_,onFailure:S,messageType:E,paymentMethodOptional:b,annualUpsell:P,isNewLandingPage:D,planSelected:N,consentObtained:L,upsellType:O,paymentMethod:U,redeemCode:w,landingPageType:k,refundType:M,orderId:j,upsellBannerType:F,upsellBadgeType:B,upsellOfferTypes:H,isUsingUG:G=!1}=e,[Z,{loading:Q}]=(0,y.h)(),[Y,{loading:V}]=I(),[z,{loading:$}]=h(),K=(0,A.ki)(),[W,q]=r.useState(),{location:X}=(0,s.yj)(),{isDPUsingGetSubStatusUG:J,usingGetSubStatusUGExperiment:ee,getSubStatusExperimentMap:en}=(0,T.b)(G),et=(0,c.Mq)(en),ei=(0,u.Ru)(X.searchParams.campaign_id),ea=E||(0,c.Ay)(X.searchParams),er=k===g.vfL.MEMBERSHIP_SHARING,eo=()=>{el({reason:c.O0.timeout}),S()},el=e=>{(0,c.WR)({planId:i,trialId:o,entryPoint:ea,savingsValue:p,isNewLandingPage:D,landingPageType:k,upsellType:O,paymentMethod:U,isRedeemCode:!!w,bannerType:F,badgeType:B,upsellOfferTypes:H,latency:W?(new Date().getTime()-W).toString():void 0,latencyNumber:W?new Date().getTime()-W:void 0,experiments:et,...e})},es=e=>{(0,c.He)({planId:i,trialId:o,entryPoint:ea,savingsValue:p,planSelected:N,isNewLandingPage:D,campaignId:ei,upsellType:O,paymentMethod:U,isRedeemCode:!!w,bannerType:F,badgeType:B,upsellOfferTypes:H,experiments:et,...e})},eu=e=>{el({reason:e.subscriptionStatus.subscriptionStatus}),S()},ec=e=>{let n=(0,d.e$)(e),t=(0,d.zg)(e);el({errorCode:t,errorMessage:n}),S(n,t)},ed=()=>{(0,c.kf)({planId:i,trialId:o,entryPoint:ea,savingsValue:p,campaignId:ei,isNewLandingPage:D,upsellType:O,paymentMethod:U,isRedeemCode:!!w,bannerType:F,badgeType:B,upsellOfferTypes:H,latency:W?(new Date().getTime()-W).toString():void 0,latencyNumber:W?new Date().getTime()-W:void 0,experiments:et})},ep=e=>{ed(),v&&v(e)};return K(U)?(0,a.jsx)(a.Fragment,{children:m(()=>{es(),el({reason:(0,c.kY)(U)}),S()},!1)}):er&&w?(0,a.jsx)(a.Fragment,{children:m(()=>{es(),z({variables:{membershipSharingCode:w}}).then(e=>{var n;let{data:t}=e;return ep(null==t?void 0:null===(n=t.acceptSharedDashPassMembership)||void 0===n?void 0:n.screen)},ec)},$)}):w?(0,a.jsx)(a.Fragment,{children:m(()=>{es(),Y({variables:{redeemCode:w}}).then(e=>{var n;let{data:t}=e;return ep(null==t?void 0:null===(n=t.redeemSubscription)||void 0===n?void 0:n.successScreen)},ec)},V)}):G&&J?(0,a.jsx)(x.Z,{pollingInterval:f.DJ[ee].pollingInterval,success:e=>!!(null==e?void 0:e.is_eligible_for_benefits),failure:e=>(null==e?void 0:e.subscription_status)===C.DoordashConsumerServiceSubscriptionSubscriptionStatus.TempDeactivatedWaitingForPayment,timeout:f.DJ[ee].timeout,onTimeout:eo,onFailure:eu,onSuccess:e=>{ed(),_(e)},children:e=>m(()=>{q(new Date().getTime()),es(),Z({variables:{planId:i.toString(),stripeId:n,stripeToken:t,trialId:o,paymentMethodOptional:b,annualUpsell:P,consentObtained:L,redeemCode:w,refundType:M,orderId:j}}).then(e,ec)},Q)}):(0,a.jsx)(l.Z,{query:R,pollInterval:f.DJ.control.pollingInterval,success:e=>e.subscriptionStatus.subscriptionStatus===f.qq.ACTIVE,failure:e=>e.subscriptionStatus.subscriptionStatus===f.qq.TEMP_DEACTIVATED_WAITING_FOR_PAYMENT,timeout:f.DJ.control.timeout,onTimeout:eo,onFailure:eu,onError:ec,onSuccess:e=>{ed(),_(e)},children:(e,a)=>m(()=>{q(new Date().getTime()),es(),Z({variables:{planId:i.toString(),stripeId:n,stripeToken:t,trialId:o,paymentMethodOptional:b,annualUpsell:P,consentObtained:L,redeemCode:w,refundType:M,orderId:j}}).then(e,ec)},Q||a)})}},108970:function(e,n,t){t.d(n,{I:function(){return u},Z:function(){return c}});var i=t(512150),a=t(972437),r=t(699328),o=t.n(r),l=t(375784);let s=(e,n)=>{let[t]=(0,l.useUGClient)(o()),[s,u]=i.useState(!1),c=i.useCallback(()=>{u(!1)},[]),{data:d,refetch:p,isLoading:g}=(0,a.useQuery)({queryFn:()=>t.getCxCxSubscriptionsV1GetActiveSubscriptionStatus({subscriptionType:r.DoordashConsumerServiceSubscriptionSubscriptionPlanType.Dashpass}),queryKey:["getCxSubscriptionsV1GetActiveSubscriptionStatus"],refetchInterval:()=>(s&&n&&n(),!!s&&!!e&&e),enabled:s});return{data:d,refetch:p,isLoading:g,stopPolling:c,setShouldPoll:u}},u=(e,n)=>new Date().getTime()>e+n;var c=e=>{let{children:n,timeout:t,pollingInterval:a,success:r,failure:o,onSuccess:l,onFailure:c,onTimeout:d}=e,[p,g]=i.useState(),{data:f,stopPolling:m,setShouldPoll:v}=s(a,()=>{p&&u(p,t)&&(d(),m())});return i.useEffect(()=>{r(f)?(l(f),m()):o(f)&&(c(f),m())},[f,r,o,c,l,m]),n(()=>{g(new Date().getTime()),v(!0)})}},137605:function(e,n,t){t.d(n,{Z:function(){return c}});var i=t(128842),a=t(866477),r=t(336494),o=t(74800),l=t(527689);function s(){let e=(0,r._)(["\n  query chaseDashPass($isAnnualPlanExperimentActive: Boolean) {\n    consumerSubscriptionPlansExtended(\n      allowPartnerPlans: true\n      allowAnnualPlans: $isAnnualPlanExperimentActive\n    ) {\n      ...ConsumerSubscriptionPlanExtendedFragment\n    }\n  }\n  ","\n"]);return s=function(){return e},e}let u=(0,o.Ps)(s(),l.I);var c=function(e){var n,t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{data:o,...l}=(0,i.a)(u,{fetchPolicy:"no-cache",notifyOnNetworkStatusChange:!0,variables:{isAnnualPlanExperimentActive:e},...r}),{data:s}=(0,a.N)();return{data:{...o,paymentData:s,firstPlan:null!==(t=null==o?void 0:null===(n=o.consumerSubscriptionPlansExtended)||void 0===n?void 0:n[0])&&void 0!==t?t:null},...l}}},993292:function(e,n,t){t.d(n,{C:function(){return a}});var i=t(733035);let a=(e,n,t,a)=>(0,i.Z)({ethosAction:{name:e,type:n}},t,a)},302380:function(e,n,t){t.d(n,{f:function(){return s}});var i=t(128542),a=t(699328),r=t.n(a),o=t(880021),l=t(360804);let s=(e,n,t)=>{let[a]=(0,o.wj)(r());return(0,i.D)({mutationFn:()=>a.postCxCxSubscriptionsV1Unsubscribe(e),mutationKey:[l.S.CANCEL_DASHPASS],onSuccess:n,onError:t})}},360804:function(e,n,t){t.d(n,{S:function(){return a},a:function(){return i}});let i={GET_SUBSCRIPTION_STATUS:"get-subscription-status",GET_PARTNER_PAGE:"get-partner-page-data",GET_MOSAIC_LANDING_PAGE:"get-mosaic-landing-page",GET_BENEFIT_INFO:"get-benefit-info",GET_MOSAIC_UPSELL:"get-mosaic-upsell"},a={CANCEL_DASHPASS:"unsubscribe-dashpass"}},360236:function(e,n,t){t.d(n,{E:function(){return eK}});var i,a,r=t(787536),o=t(512150),l=t(614630),s=t(621353),u=t(165066),c=t(748742),d=t(337649),p=t(485151),g=t(746402),f=t(787121),m=t(526983),v=e=>{let{url:n,alt:t,alignment:i}=e;return(0,r.jsx)(f.Z,{justifyContent:(0,m.jl)(i),"data-anchor-id":"".concat(p.F2.UIFlowSection,"-image"),children:(0,r.jsx)(g.c6,{src:n,alt:t,alignment:i,"data-testid":"uiflow-image"})})},_=t(368630),S=e=>{let{content:n=[]}=e,{isTablet:t,isMobile:i}=(0,l.ac)(),a=n[0]||"";return(0,r.jsx)(_.V7,{"data-anchor-id":"".concat(p.F2.UIFlowSection,"-header"),logoUrl:a,isTablet:t,isMobile:i,"data-testid":"header"})},h=t(672374),E=t(651315),b=t(598106),I=t(583413);let y={SAPPHIRE_RESERVE:"dashpass_new/reserve.png",JPM_RESERVE:"dashpass_new/jpmorgan.png",SAPPHIRE_PREFERRED:"dashpass_new/sapphire.png",FREEDOM:"dashpass_new/freedom.png",SLATE:"dashpass_new/slate.png",MCW:"dashpass/dp_mastercard_logo.png",RBC_MASS_CA:"dashpass/dp_rbc_english.png",RBC_PREMIUM_CA:"dashpass/dp_rbc_english.png",RBC_MASS_QC:"dashpass/dp_rbc_french.png",AFTERPAY:"".concat(I._H,"/fit=contain,format=auto/").concat(I.gM,"media/photosV2/a5415490-369d-4910-b6ee-768bfb8c90f3-retina-large.PNG")};var x=e=>{let{partner:n}=e,t="".concat(I.EB,"media/consumer/"),i=n&&"".concat(t).concat(y[n]);return(0,r.jsx)(g.k9,{children:i&&(0,r.jsx)(b.Z,{url:i,cssAllMediaWidth:"400px",ariaHidden:!0})})},C=e=>{let{content:n,isModal:t}=e,{isTablet:i}=(0,l.ac)(),a="dashpass"===n[0]||"DashPass",o=n[1];return(0,r.jsx)(f.Z,{justifyContent:t?E.dy.flexStart:E.dy.spaceAround,"data-anchor-id":"".concat(p.F2.UIFlowSection,"-badge-header"),children:a&&!o?(0,r.jsx)(h.V7,{isTablet:i,isMobile:t,"data-testid":"badge-header"}):(0,r.jsx)(x,{partner:o})})},T=t(353952),A=t(779193),P=t(539687),R=t(345802),D=t(927330),N=t(92412),L=t(361040),O=e=>{let{onUpdate:n,placeholderString:t}=e,[i,a]=o.useState(""),l=e=>{a(e),n(i)},[s,u]=o.useState(200);return(0,r.jsxs)(A.Z,{size:P.Uo.xxSmall,"data-anchor-id":"".concat(p.F2.UIFlowSection,"-text-input"),children:[(0,r.jsx)(T.Z,{value:i,label:"",placeholder:t,isMultiline:4,isLabelHidden:!0,onChange:e=>{u(200-e.length),l(e)},maxLength:200}),(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.small.default,textAlign:N.H.right,children:L.ZP.t("dashPassStrings_cancelDashPass_characters_remaining_division",{charactersRemaining:200-s,maxMessageLength:200})})]})},U=e=>{let{text:n,alignment:t,isTitle:i=!1,isModal:a=!1,savingsValue:o}=e,l=o?n.replace("%@",o):n;return(0,r.jsx)(f.Z,{"data-testid":"".concat(p.F2.UIFlowSection,"-text"),"data-anchor-id":"".concat(p.F2.UIFlowSection,"-text"),justifyContent:(0,m.jl)(t,a),children:(0,r.jsx)(R.x,{textStyle:i?D.TextStyle.display.medium:D.TextStyle.body.medium.default,children:(0,r.jsx)(_.rg,{children:l})})})},w=e=>{let{url:n,text:t,alt:i,isLastInList:a=!1}=e;return(0,r.jsxs)(f.Z,{justifyContent:E.dy.flexStart,alignItems:E.v2.center,"data-anchor-id":"".concat(p.F2.UIFlowSection,"-item-image"),children:[(0,r.jsx)(g.uS,{"data-testid":"list-item-image",src:n,alt:i}),(0,r.jsx)(g.F_,{"data-testid":"list-item-text",isLastInList:a,children:(0,r.jsx)(R.x,{textStyle:D.TextStyle.body.medium.default,children:t})})]})},k=t(61788),M=t(780739),j=e=>{let{text:n,isSelected:t,setSelectedReason:i,isLastInList:a=!1}=e;return(0,r.jsx)(g.Qf,{isLastInList:a,"data-anchor-id":"".concat(p.F2.UIFlowSection,"-radio-button"),children:(0,r.jsx)(k.Z,{"data-testid":"radio-button-toggle",type:M._S.radio,isSelected:t,label:n,onChange:i})})},F=e=>{let{text:n,highlighted:t}=e;return(0,r.jsxs)(A.Z,{size:P.Uo.xxxSmall,"data-anchor-id":"".concat(p.F2.UIFlowSection,"-line-item"),children:[(0,r.jsxs)(f.Z,{justifyContent:E.dy.spaceBetween,children:[(0,r.jsx)(R.x,{"data-testid":"line-item-label",textStyle:D.TextStyle.body.medium.default,color:t?D.d9.highlight.default:D.d9.text.default,children:n[0]}),(0,r.jsx)(R.x,{"data-testid":"line-item-value",textStyle:t?D.TextStyle.body.medium.strong:D.TextStyle.body.medium.default,color:t?D.d9.highlight.default:D.d9.text.default,children:n[1]})]}),(0,r.jsx)(R.x,{"data-testid":"line-item-subtitle",textStyle:D.TextStyle.body.medium.default,color:D.d9.text.subdued.default,children:n[2]})]})},B=t(482480),H=t(523328),G=t(95485),Z=t(969965);let Q=()=>{let{displayToast:e}=(0,Z.p)();return{copyToClipboard:(n,t)=>{navigator.clipboard.writeText(n),t&&e({text:t})}}};var Y=e=>{var n;let{section:t,trackingParams:i,actionOnClick:a}=e,[l,d]=o.useState(null),{copyToClipboard:g}=Q(),[v,_]=null!==(n=t.contentList)&&void 0!==n?n:[],S=t.action;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f.Z,{"data-anchor-id":"".concat(p.F2.UIFlowSection,"-action-row"),justifyContent:E.dy.spaceBetween,alignItems:E.v2.center,children:[v&&(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.large.default,children:v}),(0,r.jsxs)(f.Z,{children:[_&&(0,r.jsx)(R.x,{textStyle:D.TextStyle.body.medium.default,children:_}),(null==S?void 0:S.label)&&(0,r.jsx)(H.Z,{type:G.L$.tertiary,onClick:()=>{if(S)switch(a&&a(S),S.type){case s.fr.SEND_SHARED_DASHPASS_MEMBERSHIP_LINK:let e=(0,m.OS)(S);e&&g(e,L.ZP.t("dashPassStrings_membership_sharing_invite_link_copied"));break;case s.fr.CONTINUE:d(S.screen);break;default:return}},children:S.label})]})]}),(0,r.jsx)(u.Z,{type:c.C.fullBorder,verticalMargin:B.Q2.usage.space.medium}),l&&(0,r.jsx)(eK,{flow:l,onClose:()=>d(null),trackingParams:i})]})},V=t(208722),z=t(26888),$=t(236643),K=t(382263),W=t(305032),q=e=>{var n,t;let{onClickPaymentTile:i}=e,a=(0,z.HK)(),o=null==a?void 0:a.defaultDashPassPayment,l=null!==(n=null==o?void 0:o.type)&&void 0!==n?n:null,s=null!==(t=null==o?void 0:o.last4)&&void 0!==t?t:null,u=l&&s?"".concat(l.charAt(0).toUpperCase()+l.slice(1)," ... ").concat(s):L.ZP.t("paymentPage_payment_methods_add_payment");return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(g.yf,{"data-testid":"payment-card-wrapper",onClick:i,children:(0,r.jsxs)(f.Z,{size:P.O8.small,alignItems:E.v2.center,justifyContent:E.dy.spaceBetween,children:[(0,r.jsxs)(f.Z,{size:P.O8.xSmall,alignItems:E.v2.center,children:[(0,r.jsx)(V.Ar,{iconKey:o}),(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.medium.default,children:u})]}),(0,r.jsx)(f.Z,{size:P.O8.xSmall,alignItems:E.v2.center,children:(0,r.jsx)($.Z,{type:K.IconType.ChevronRight,color:K.EY.icon.default,size:W.J.medium})})]})})})};(i=a||(a={})).PRIMARY="COLOR_PRIMARY",i.SECONDARY="COLOR_SECONDARY",i.TERTIARY="COLOR_TERTIARY",i.HIGHLIGHT="COLOR_HIGHLIGHT";let X=e=>{switch(e){case"COLOR_PRIMARY":default:return D.d9.text.default;case"COLOR_SECONDARY":case"COLOR_TERTIARY":return D.d9.text.subdued.default;case"COLOR_HIGHLIGHT":return D.d9.brand.dashpass}};var J=e=>{var n;let{richContent:t,customStyle:i}=e,a=(null==t?void 0:null===(n=t.contentList)||void 0===n?void 0:n[0])||"",o=(null==t?void 0:t.formatColor)||"";return(0,r.jsx)(R.x,{textStyle:null!=i?i:D.TextStyle.body.medium.default,color:X(o),"data-testid":"rich-content-text","data-anchor-id":"rich-content-text",children:a})};let ee=e=>{let{description:n,imageUrl:t,fallbackAltText:i}=e;return t||n?(0,r.jsxs)(f.Z,{alignItems:E.v2.center,"data-testid":p.F2.UIFlowRadioButtonDescription,children:[t?(0,r.jsx)("img",{src:t,alt:n||i||"",width:W.J.xLarge,height:W.J.xLarge}):null,n?(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.small.default,children:n}):null]}):null};var en=e=>{let{richContentList:n,isSelected:t,handleSelectRadioCard:i}=e;if(n){var a,o,l,s,u;let[e,c,d,p,m,v,_,S,h]=n,b=null==m?void 0:null===(a=m.contentList)||void 0===a?void 0:a[0],I=null==v?void 0:null===(o=v.contentList)||void 0===o?void 0:o[0],y=null==_?void 0:null===(l=_.contentList)||void 0===l?void 0:l[0],x=null==S?void 0:null===(s=S.contentList)||void 0===s?void 0:s[0],C=null==h?void 0:null===(u=h.contentList)||void 0===u?void 0:u[0];return(0,r.jsx)(g.vW,{isSelected:t,onClick:i,children:(0,r.jsxs)(f.Z,{justifyContent:E.dy.spaceBetween,children:[(0,r.jsxs)(A.Z,{size:P.Uo.small,children:[(0,r.jsxs)(A.Z,{size:P.Uo.xxSmall,children:[(0,r.jsxs)(f.Z,{size:P.O8.xSmall,children:[(0,r.jsx)(J,{richContent:e,customStyle:D.TextStyle.title.medium}),b&&(0,r.jsx)(g.to,{color:B.Q2.base.color.brand.dashpass[10],children:(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.small.strong,color:D.d9.brand.dashpass,children:b})})]}),(0,r.jsxs)(f.Z,{size:P.O8.xSmall,children:[(0,r.jsx)(J,{richContent:c}),(0,r.jsx)(J,{richContent:d})]}),(0,r.jsx)(J,{richContent:p})]}),(0,r.jsx)(ee,{imageUrl:I,description:y,fallbackAltText:b}),(0,r.jsx)(ee,{imageUrl:x,description:C})]}),(0,r.jsx)($.Z,{type:t?K.IconType.CheckCircleFill:K.IconType.RadioOffCircleLine,size:W.J.medium,color:t?D.d9.brand.dashpass:D.d9.text.default})]})})}return null},et=e=>{var n,t,i,a,o;let{section:l,screen:p,index:f,savingsValue:m,trackingParams:_,setUserFeedback:h,selectedReason:E,setSelectedReason:b,setNextScreen:I,trackUserAction:y,currentSelectedId:x,setCurrentSelectedId:T,showAxillaryModal:A}=e,P=p.screenDisplayType===s.Id.MODAL,N=null!==(t=null===(n=l.contentList)||void 0===n?void 0:n.reduce((e,n)=>n?[...e,n]:e,[]))&&void 0!==t?t:[];switch(l.type){case s.zv.IMAGE:case s.zv.CENTERED_IMAGE:let L=l.type===s.zv.CENTERED_IMAGE?s.g1.CENTER:l.alignment;return(0,r.jsx)(v,{url:N[0],alignment:L});case s.zv.HEADER_IMAGE:return(0,r.jsx)(S,{content:N});case s.zv.BADGE:return(0,r.jsx)(C,{content:N,isModal:P});case s.zv.TEXT_INPUT:return(0,r.jsx)(O,{placeholderString:N[0],onUpdate:h});case s.zv.BULLETED_LIST_ITEM:case s.zv.BOLDED_TITLE:case s.zv.TEXT:let k=l.type===s.zv.BULLETED_LIST_ITEM?"â€¢ ":""+N[0];return(0,r.jsx)(U,{isModal:P,text:k,alignment:l.alignment,isTitle:l.type===s.zv.BOLDED_TITLE,savingsValue:m},f);case s.zv.ITEM_IMAGE:return(0,r.jsx)(w,{text:N[0],url:N[1]||"",isLastInList:f+1===(null===(i=p.sectionsList)||void 0===i?void 0:i.length)});case s.zv.RADIO_BUTTON:return(0,r.jsx)(j,{text:N[0],isSelected:f===E,isLastInList:f+1===(null===(a=p.sectionsList)||void 0===a?void 0:a.length),setSelectedReason:()=>{var e;b(f),I(null===(e=l.action)||void 0===e?void 0:e.screen)}},f);case s.zv.PRICE_LINE_ITEM:return(0,r.jsx)(F,{text:N});case s.zv.PRICE_LINE_ITEM_HIGHLIGHTED:return(0,r.jsx)(F,{highlighted:!0,text:N});case s.zv.DIVIDER_RULER:return(0,r.jsx)(u.Z,{type:c.C.fullBorder,verticalMargin:B.Q2.usage.space.medium});case s.zv.DIVIDER_SPACER:return(0,r.jsx)(g.kM,{});case s.zv.TEXT_WITH_SEPARATE_LABEL_OR_ACTION:return(0,r.jsx)(Y,{section:l,trackingParams:_,actionOnClick:e=>y((null==e?void 0:e.type)||s.fr.UNKNOWN)});case s.zv.TERMS_AND_CONDITIONS:let M=null==l?void 0:null===(o=l.selectContentList)||void 0===o?void 0:o.find(e=>e&&e.selectContentId===x),H=x&&M&&M.contentList?M.contentList[0]:N[0];if(P)return(0,r.jsx)(R.x,{textStyle:D.TextStyle.label.xSmall.strong,color:D.d9.text.subdued.default,as:"a",children:(0,r.jsx)(g.rg,{children:null!=H?H:""})},(0,d.l)());return(0,r.jsx)(U,{isModal:P,text:null!=H?H:"",alignment:l.alignment},(0,d.l)());case s.zv.PAYMENT_SELECTION_TILE:return(0,r.jsx)(q,{onClickPaymentTile:A});case s.zv.RICH_CARD_RADIO_BUTTON:let G=null==l?void 0:l.richContentList;return(0,r.jsx)(en,{richContentList:G,isSelected:N[1]===x,handleSelectRadioCard:()=>T(N[1])},(0,d.l)());default:return(0,r.jsx)(r.Fragment,{})}},ei=t(434665),ea=t(902336),er=t(562636),eo=t(118700),el=t(731959),es=t(848260),eu=t(302380),ec=t(403764),ed=t(699328),ep=t.n(ed),eg=e=>{let{onComplete:n,trackingParams:t,label:i,actionDisplayType:a}=e,{isDPUnsubscribeUG:o}=(0,ec.b)(),l=()=>{(0,eo.j)("subscription_mgmt_cancel_success",{page_type:"cancel_dashpass"}),n()},s=()=>{(0,eo.j)("subscription_mgmt_cancel_error",{...t})},{isPending:u,mutate:c}=(0,eu.f)({doordashConsumerServiceSubscriptionUnsubscribeActiveSubscriptionRequest:{subscription_type:ed.DoordashConsumerServiceSubscriptionSubscriptionPlanType.Dashpass}},l,s),[d,{loading:p}]=(0,es.f)({variables:{numValue:0,reason:"GRANT_FREE_DASHPASS_REASON_CANCELLATION_SURVEY_UPSELL"},onCompleted:e=>{e&&l()},onError:e=>{e&&s()}});return(0,r.jsx)(el.Z,{type:a,label:i,onClick:()=>{o?c():d(),(0,eo.j)("subscription_pause_confirm_action",{...t,option_selected:"cancel"})},state:p||u?G.BN.loading:G.BN.default})},ef=t(389049),em=e=>{let{refetch:n,onComplete:t,trackingParams:i,label:a,actionDisplayType:o}=e,l=()=>{(0,eo.j)("subscription_pause_confirm_action",{...i,option_selected:"pause"})},s=()=>{(0,eo.j)("subscription_pause_success",{...i})};return(0,r.jsx)(ef.Z,{isPausing:!0,onSuccess:()=>{s(),t(),n&&n()},onFailure:()=>{t(),n&&n()},children:(e,n)=>(0,r.jsx)(el.Z,{type:o,label:a,onClick:()=>{e(),l()},state:n?G.BN.loading:G.BN.default})})},ev=t(360433),e_=t(804794),eS=t(703252),eh=e=>{let{action:n,refetch:t,onComplete:i,label:a,trackingParams:o,actionDisplayType:l}=e,{numberFreeDays:s}=(0,ev.g)(n.actionParametersList),u=()=>{(0,eo.j)("subscription_pause_confirm_action",{...o,option_selected:"free_days"})};return function(){let[e,{data:n,loading:c}]=(0,e_.D)(eS.Z,{variables:{numValue:s,reason:"GRANT_FREE_DASHPASS_REASON_CANCELLATION_SURVEY_UPSELL"},onCompleted:()=>{i(),t&&t()}});return(null==n?void 0:n.grantFreeDashpass)&&((0,eo.j)("subscription_mgmt_grant_days_success",{...o,page_type:"free_days_offer"}),t&&t()),(0,r.jsx)(el.Z,{type:l,label:a,onClick:()=>{e(),u()},state:c?G.BN.loading:G.BN.default})}()},eE=e=>{let{action:n,onClick:t}=e,{copyToClipboard:i}=Q();return(0,m.UY)(()=>{t&&t();let e=(0,m.OS)(n);e&&i(e,L.ZP.t("dashPassStrings_membership_sharing_invite_link_copied"))},n,{isInline:!1})},eb=t(336494),eI=t(74800),ey=t(531563);function ex(){let e=(0,eb._)(["\n  mutation InvalidateSharedDashPassMembership($membershipSharingCode: String!) {\n    invalidateSharedDashPassMembership(membershipSharingCode: $membershipSharingCode) {\n      screen {\n        ...UiFlowScreenFragment\n      }\n    }\n  }\n  ","\n"]);return ex=function(){return e},e}let eC=(0,eI.Ps)(ex(),ey.Xv),eT=()=>{let[e,{data:n,...t}]=(0,e_.D)(eC);return{invalidateSharedDashPassMembership:e,...null==n?void 0:n.invalidateSharedDashPassMembership,...t}};var eA=e=>{let{action:n,onClick:t}=e,{invalidateSharedDashPassMembership:i,loading:a}=eT(),r=(0,ea.tv)(),o=async()=>{t&&t();let e=(0,m.w)(n);if(!e)return;let{data:a,errors:o}=await i({variables:{membershipSharingCode:e}});(null==a?void 0:a.invalidateSharedDashPassMembership)&&!o&&r.reload()};return(0,m.UY)(o,n,{state:a?G.BN.loading:G.BN.default})},eP=t(811529),eR=t(853523),eD=e=>{let{action:n,stateEntryPoint:t,stateScreenIdentifier:i,onClose:a=()=>{},onClick:o=()=>{},onComplete:l=()=>{},onFailure:s=()=>{},extractedSavingsValue:u}=e,c=(0,z.iu)(),{showErrorModal:d,ErrorModal:g}=(0,eR.Yo)(),{successMessage:f,stripeId:m,stripeToken:v,planId:_,trialId:S,entryPoint:h,consentObtained:E,paymentMethodOptional:b,upsellType:I,savingsValue:y,refundTypeMapped:x,orderUuid:C}=(0,ev.g)(n.actionParametersList,t,i),T=e=>()=>{o(),e()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(eP.Z,{stripeId:null!=m?m:null==c?void 0:c.stripeId,stripeToken:v,planId:_,trialId:S,consentObtained:E,paymentMethodOptional:b,messageType:h,upsellType:I,onSuccess:()=>{f&&l(f),a()},onFailure:d,refundType:x,orderId:C,savingsValue:null!=y?y:u,paymentMethod:(null==c?void 0:c.type)||"",isUsingUG:!0,children:(e,t)=>(0,r.jsx)(H.Z,{"data-testid":"".concat(p.F2.UIFlow,"-").concat(p.F2.SubscribeAction),"data-anchod-id":"".concat(p.F2.UIFlow,"-").concat(p.F2.SubscribeAction),isInline:!0,type:G.L$.primary,state:t?G.BN.loading:G.BN.default,onClick:T(e),children:n.label})}),(0,r.jsx)(g,{onCloseModal:()=>{s(),a()}})]})},eN=t(359628),eL=t(862871),eO=e=>{var n;let{action:t,stateEntryPoint:i,stateScreenIdentifier:a,onClose:o=()=>{},onClick:l=()=>{},onComplete:s=()=>{},onFailure:u=()=>{},isInline:c}=e,[d,{loading:g}]=(0,e_.D)(eN.Z),{successMessage:f,planId:m,entryPoint:v,upsellType:_}=(0,ev.g)(t.actionParametersList,i,a),S=e=>{(0,eo.j)(p.y8.Resubscribe.subscriptionPageResubscribeFailure,{message_type:v,upsell_type:_,plan_id:m,error_reason:e?(0,eL.e$)(e):"active subscription"}),u(),o()},h=()=>{(0,eo.j)(p.y8.Resubscribe.subscriptionPageResubscribeSuccess,{message_type:v,upsell_type:_,plan_id:m}),f&&s(f),o()},E=()=>{(0,eo.j)(p.y8.Resubscribe.subscriptionPageActionResubscribe,{message_type:v,upsell_type:_,plan_id:m}),l(),d().then(e=>{var n;let{data:t}=e;(null==t?void 0:null===(n=t.resubscribeDashPass)||void 0===n?void 0:n.calloutInfo)?h():S()},S)};return(0,r.jsx)(el.Z,{isInline:c,type:null!==(n=t.actionDisplayType)&&void 0!==n?n:void 0,label:t.label,onClick:()=>{E()},state:g?G.BN.loading:G.BN.default})},eU=e=>{let{action:n,stateEntryPoint:t,stateScreenIdentifier:i,onClose:a=()=>{},onClick:o=()=>{},onComplete:l=()=>{},onFailure:s=()=>{},isInline:u}=e,{successMessage:c,planId:d,entryPoint:g,upsellType:f}=(0,ev.g)(n.actionParametersList,t,i),m=()=>{(0,eo.j)(p.y8.Resume.checkoutPageActionResumeSubscription,{message_type:g,upsell_type:f,plan_id:d}),o()};return(0,r.jsx)(ef.Z,{isPausing:!1,onSuccess:()=>{(0,eo.j)(p.y8.Resume.subscriptionResumeSuccess,{message_type:g,upsell_type:f,plan_id:d}),c&&l(c),a()},onFailure:()=>{(0,eo.j)(p.y8.Resume.subscriptionResumeFailure,{message_type:g,upsell_type:f,plan_id:d}),s(),a()},children:(e,t)=>{var i;return(0,r.jsx)(el.Z,{isInline:u,type:null!==(i=n.actionDisplayType)&&void 0!==i?i:void 0,label:n.label,onClick:()=>{e(),m()},state:t?G.BN.loading:G.BN.default})}})},ew=t(128542),ek=t(880021);let eM=()=>{let[e]=(0,ek.wj)(ep());return(0,ew.D)({mutationFn:n=>e.postCxCxSubscriptionsV1SetActionDuringCancellationFlow({doordashConsumerServiceSubscriptionSetActionDuringCancellationFlowRequest:n})})};var ej=t(372388);let eF=e=>{let{actionValue:n,label:t,actionDisplayType:i,trackingParams:a,onClose:o,onComplete:l}=e,{mutate:s,isPending:u}=eM();return(0,r.jsx)(el.Z,{type:i,label:t,onClick:()=>{s({action_type:n},{onSuccess:()=>{(0,ej.YZ)(a),null==l||l()},onError:()=>{(0,ej.dX)(a),null==o||o()}})},state:u?G.BN.loading:G.BN.default})};var eB=e=>{var n,t,i,a,o,l,u,c,p;let{action:g,screen:f,trackingParams:v,trackUserAction:_,savingsValue:S,selectedReason:h,onSuccess:E,onFailure:b,flow:I,refetch:y,setCurrentScreenHandler:x,setCurrentModalHandler:C,currentSelectedId:T,visitedScreens:A,setVisitedScreens:P,nextScreen:R,setNextScreen:D,trackUserFeedback:N,onClose:L=()=>{}}=e,{experience:O}=(0,ei.useExperience)(),{push:U}=(0,ea.tv)(),w=(e,n)=>{var t,i,a,o;return(0,r.jsx)(eg,{actionDisplayType:null!==(i=null!==(t=null==n?void 0:n.actionDisplayType)&&void 0!==t?t:e.actionDisplayType)&&void 0!==i?i:void 0,label:null!==(o=null!==(a=null==n?void 0:n.label)&&void 0!==a?a:e.label)&&void 0!==o?o:void 0,onClose:()=>{C(null)},onComplete:()=>{var t;_(s.fr.CONTINUE_CANCEL),x(null!==(t=null==n?void 0:n.screen)&&void 0!==t?t:e.screen),D(null)},trackingParams:v},(0,d.l)())},k=g.type,M=null===(t=f.sectionsList)||void 0===t?void 0:null===(n=t[h])||void 0===n?void 0:n.action;if((null===(i=f.screenIdentifier)||void 0===i?void 0:i.toUpperCase())===s.no.SURVEY&&(null==M?void 0:M.type)===s.fr.CONTINUE_CANCEL)return w(g,M);switch(k){case s.fr.SET_ACTION_DURING_CANCELLATION_FLOW:return(e=>{var n,t,i,a;let o=null==e?void 0:null===(t=e.actionParametersList)||void 0===t?void 0:null===(n=t.find(e=>(null==e?void 0:e.key)==="".concat(s.fr.SET_ACTION_DURING_CANCELLATION_FLOW,"_ACTION_TYPE")))||void 0===n?void 0:n.value;return o?(0,r.jsx)(eF,{actionValue:o,trackingParams:{planId:null==v?void 0:v.planId,subscriptionId:null==v?void 0:v.subscriptionId,actionType:o,flowActionType:s.fr.SET_ACTION_DURING_CANCELLATION_FLOW},actionDisplayType:null!==(i=null==e?void 0:e.actionDisplayType)&&void 0!==i?i:void 0,label:null!==(a=e.label)&&void 0!==a?a:void 0,onClose:()=>{C(null)},onComplete:()=>{_(s.fr.SET_ACTION_DURING_CANCELLATION_FLOW),x(e.screen),D(null)}}):null})(g);case s.fr.CONTINUE_CANCEL:return w(g);case s.fr.CONTINUE:return(0,m.UY)(()=>{var e;_(s.fr.CONTINUE),(null===(e=g.screen)||void 0===e?void 0:e.screenDisplayType)!==s.Id.MODAL&&g.screen?(P(A.concat([g.screen])),x(g.screen),D(null)):g.screen&&C(g.screen)},g);case s.fr.ROOT:return(0,m.UY)(()=>{_(s.fr.ROOT),L(s.fr.ROOT),N(),y&&y()},g);case s.fr.VIEW_RESTAURANTS:return(0,m.UY)(()=>{_(s.fr.VIEW_RESTAURANTS),N(),U(er.ZP.home)},g);case s.fr.MANAGE_DASHPASS:return(0,m.UY)(()=>{_(s.fr.MANAGE_DASHPASS),N(),U(er.ZP.manageSubscription)},g);case s.fr.OPEN_DEEPLINK:return(0,m.UY)(()=>{let e=(0,m.OS)(g);_(s.fr.OPEN_DEEPLINK,{deeplink_url:e}),e&&(window.location.href=e)},g);case s.fr.UNKNOWN:return(e=>{var n;let t=(null===(n=f.screenIdentifier)||void 0===n?void 0:n.toUpperCase())===s.no.SURVEY;return(0,m.UY)(()=>{_(s.fr.UNKNOWN),t&&N(),x(R),R&&P(e=>[...e,R]),D(null)},e,{isDisabled:t&&!(h>-1)})})(g);case s.fr.BACK:return(0,m.UY)(()=>{_(s.fr.BACK),1===A.length&&(L(s.fr.BACK),y&&y()),f.screenDisplayType===s.Id.MODAL?C(null):(x(A.pop()),P(A.splice(0,A.length-1)))},g);case s.fr.SUPPORT_CHAT:return(0,m.UY)(()=>{_(s.fr.SUPPORT_CHAT),window.location.href=(0,m.tf)(O)},g);case s.fr.PAUSE:return(0,r.jsx)(em,{actionDisplayType:null!==(a=g.actionDisplayType)&&void 0!==a?a:void 0,label:g.label,onComplete:()=>{_(s.fr.PAUSE),L(s.fr.PAUSE),y&&y()},trackingParams:v});case s.fr.GRANT_FREE:return(0,r.jsx)(eh,{action:g,actionDisplayType:null!==(o=g.actionDisplayType)&&void 0!==o?o:void 0,label:g.label,onComplete:()=>{_(s.fr.GRANT_FREE),g.screen&&C(g.screen)},trackingParams:v});case s.fr.SEND_SHARED_DASHPASS_MEMBERSHIP_LINK:return(0,r.jsx)(eE,{action:g,onClick:()=>_(k)});case s.fr.INVALIDATE_SHARED_DASHPASS_MEMBERSHIP:return(0,r.jsx)(eA,{action:g,onClick:()=>_(k)});case s.fr.SUBSCRIBE:return(0,r.jsx)(eD,{action:g,stateEntryPoint:null==v?void 0:v.entryPoint,onClose:()=>L(k),onClick:()=>_(k),stateScreenIdentifier:null!==(l=null==f?void 0:f.screenIdentifier)&&void 0!==l?l:"",onComplete:E,onFailure:b},(0,d.l)());case s.fr.RESUBSCRIBE:return(0,r.jsx)(eO,{action:g,stateEntryPoint:null==v?void 0:v.entryPoint,onClose:()=>L(k),onClick:()=>_(k),stateScreenIdentifier:null!==(u=null==f?void 0:f.screenIdentifier)&&void 0!==u?u:"",onComplete:E,onFailure:b},(0,d.l)());case s.fr.RESUME:return(0,r.jsx)(eU,{action:g,stateEntryPoint:null==v?void 0:v.entryPoint,onClose:()=>L(k),onClick:()=>_(k),stateScreenIdentifier:null!==(c=null==f?void 0:f.screenIdentifier)&&void 0!==c?c:"",onComplete:E,onFailure:b},(0,d.l)());case s.fr.SELECT_RADIO_BUTTON:let j=(0,m.xz)(I,T);return(0,r.jsx)(eD,{action:j,stateEntryPoint:null==v?void 0:v.entryPoint,stateScreenIdentifier:null!==(p=null==f?void 0:f.screenIdentifier)&&void 0!==p?p:"",onClose:()=>L(k),onClick:()=>_(k),onComplete:E,onFailure:b,extractedSavingsValue:S},(0,d.l)());default:return(0,r.jsx)(r.Fragment,{})}},eH=t(228732),eG=t(620222),eZ=e=>{var n,t,i,a,o;let{screen:s,renderActions:d,renderSections:p,onClose:f,customModalSize:v}=e,{isMobile:_}=(0,l.ac)();return(0,r.jsx)(eH.Z,{isOpen:!0,renderContentHeader:()=>(0,r.jsx)(r.Fragment,{}),title:L.ZP.t("dashPassStrings_default_title"),hasCloseButton:null===(n=s.allowBackNavigation)||void 0===n||n,shouldCloseOnOverlayClick:null===(t=s.allowBackNavigation)||void 0===t||t,hasContentPadding:!1,hasHeaderPadding:null!==(i=s.allowBackNavigation)&&void 0!==i&&i,size:null!=v?v:eG.C.large,onClose:f,shouldCloseOnEscapePress:null===(a=s.allowBackNavigation)||void 0===a||a,children:(0,r.jsxs)(g.IA,{backNavigation:null!==(o=s.allowBackNavigation)&&void 0!==o&&o,children:[(0,r.jsx)(A.Z,{children:p(s)}),_?(0,r.jsx)(g.s6,{children:d(s)}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{type:c.C.fullBorder,verticalMargin:B.Q2.usage.space.medium}),(0,m.Jb)(s)?(0,r.jsx)(g.cX,{children:d(s)}):(0,r.jsx)(g.ii,{justifyContent:E.dy.flexEnd,children:d(s)})]})]})})},eQ=e=>{let{screen:n,renderActions:t,renderSections:i}=e,{isMobile:a}=(0,l.ac)(),[o,...s]=t(n);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{Size:P.Uo.xLarge,children:i(n)}),a?(0,r.jsxs)(g.s6,{children:[o,s]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Z,{type:c.C.fullBorder,verticalMargin:B.Q2.usage.space.medium}),(0,r.jsxs)(g.ii,{justifyContent:0===s.length?E.dy.flexEnd:E.dy.spaceBetween,children:[o,s.length>0&&(0,r.jsx)(f.Z,{justifyContent:2===s.length?E.dy.spaceBetween:E.dy.flexEnd,children:s})]})]})]})},eY=t(888461),eV=t(980928),ez=t(767545),e$=e=>{var n,t;let{onClose:i,refetch:a}=e,o=(0,z.HK)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(eY.x,{entryPoint:ez.wp.DASHPASS_ORDER_CART_UPSELL,billingProvider:eV.cMu.BILLING_PROVIDER_DOORDASH,isNewSubscription:!0,changingDashPassPayment:!1,consumerStripeKey:null!==(n=null==o?void 0:o.consumerStripeKey)&&void 0!==n?n:"",paymentMethods:null!==(t=null==o?void 0:o.paymentCards)&&void 0!==t?t:[],paymentConfig:null==o?void 0:o.config,onClose:i,onBack:i,onAddCardSuccess:()=>{i(),a&&a()}})})};let eK=e=>{let{flow:n,onClose:t=()=>{},trackingParams:i,refetch:a,...u}=e,[c,d]=o.useState(-1),[f,v]=o.useState(n.screenDisplayType===s.Id.REGULAR?n:null),[_,S]=o.useState(),[h,E]=o.useState([n]),[b,I]=o.useState(n.screenDisplayType===s.Id.MODAL?n:null),[y,x]=o.useState(!1),[C,T]=o.useState(""),[A,P]=o.useState((0,m.c8)(n)),{isMobile:R}=(0,l.ac)();o.useEffect(()=>{n.screenDisplayType===s.Id.MODAL?I(n):n.screenDisplayType===s.Id.REGULAR&&v(n)},[n]);let D=o.useMemo(()=>{var e,n;return{...i,screenId:(null==b?void 0:b.screenIdentifier)||(null==f?void 0:f.screenIdentifier),...(0,ej.JG)(null==b?void 0:null===(e=b.analytics)||void 0===e?void 0:e.metadataList),...(0,ej.JG)(null==f?void 0:null===(n=f.analytics)||void 0===n?void 0:n.metadataList),...C.length>0&&{userFeedback:C}}},[i,b,f,C]),N=e=>{(0,ej.lq)(D),v(e)},L=e=>{(0,ej.lq)(D),I(e)},O=()=>(0,ej.Rh)(D),U=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(0,ej.mE)({...D,actionIdentifier:e,...n})};o.useEffect(()=>{(b||f)&&(0,ej.le)(D)},[b,f,D]);let w=n=>{var t,i;return null!==(i=null===(t=n.sectionsList)||void 0===t?void 0:t.reduce((t,i,a)=>i?[...t,(0,r.jsx)(et,{index:a,screen:n,section:i,setUserFeedback:T,selectedReason:c,setSelectedReason:d,currentSelectedId:A,setCurrentSelectedId:P,setNextScreen:S,trackUserAction:U,showAxillaryModal:()=>x(!0),...e},a)]:t,[]))&&void 0!==i?i:[]},k=n=>{var t,i;return null!==(i=null===(t=n.actionsList)||void 0===t?void 0:t.reduce((t,i,a)=>i?[(0,r.jsx)(eB,{screen:n,action:i,selectedReason:c,currentSelectedId:A,setNextScreen:S,trackUserAction:U,visitedScreens:h,setVisitedScreens:E,trackUserFeedback:O,setCurrentScreenHandler:N,setCurrentModalHandler:L,nextScreen:_,...e},a),...t]:t,[]))&&void 0!==i?i:[]};return(0,r.jsxs)(g.mh,{isMobile:R,"data-testid":p.F2.UIFlow,"data-anchor-id":p.F2.UIFlow,children:[f&&(0,r.jsx)(eQ,{screen:f,renderActions:k,renderSections:w}),y?(0,r.jsx)(e$,{onClose:()=>x(!1),refetch:a}):!y&&b?(0,r.jsx)(eZ,{screen:b,renderActions:k,renderSections:w,onClose:()=>{L(null),f||t()},...u}):null]})}},746402:function(e,n,t){t.d(n,{F_:function(){return v},IA:function(){return y},Qf:function(){return S},V7:function(){return g},a3:function(){return m},c6:function(){return E},cX:function(){return T},ii:function(){return b},k9:function(){return C},kM:function(){return x},mh:function(){return I},oI:function(){return f},rg:function(){return R},s6:function(){return h},to:function(){return P},uS:function(){return _},vW:function(){return A},yf:function(){return D}});var i=t(482480),a=t(779193),r=t(787121),o=t(977681),l=t(338772),s=t(583413),u=t(368630),c=t(621353),d=t(739138),p=t(736227);let g=l.default.div.withConfig({componentId:"sc-fc629465-0"})(["background:url(",") center / 200px 34px no-repeat;height:34px;width:200px;"],function(e){let n="".concat(s.hl,"/subscriptions/").concat(e);return(0,s.O1)(n)}("DashPass_Logo_RGB_Desktop.png")),f=l.default.img.withConfig({componentId:"sc-fc629465-1"})(["width:","px;"],200),m=l.default.div.withConfig({componentId:"sc-fc629465-2"})(["display:flex;justify-content:",";flex-direction:",";> button{margin-left:",";margin-bottom:",";}"],e=>e.isUIFlow?"space-between":"flex-end",e=>e.isMobile?"column-reverse":"row",i.Q2.usage.space.xSmall,i.Q2.usage.space.xSmall),v=l.default.div.withConfig({componentId:"sc-fc629465-3"})(["width:100%;border-bottom:",";padding:",";"],e=>e.isLastInList?"":"1px solid ".concat(i.Q2.usage.color.border.default),i.Q2.usage.space.medium),_=l.default.img.withConfig({componentId:"sc-fc629465-4"})(["height:","px;"],45),S=l.default.div.withConfig({componentId:"sc-fc629465-5"})(["margin-left:",";padding-top:",";margin-right:",";border-bottom:",";label{padding-bottom:",";}"],i.Q2.usage.space.legacyMedium,i.Q2.usage.space.legacyMedium,i.Q2.usage.space.small,e=>e.isLastInList?"":"1px solid ".concat(i.Q2.usage.color.border.default),i.Q2.usage.space.medium),h=(0,l.default)(a.Z).withConfig({componentId:"sc-fc629465-6"})(["display:flex;flex-direction:column-reverse;margin-top:",";button{margin-top:"," !important;}"],i.Q2.usage.space.medium,i.Q2.usage.space.medium),E=l.default.img.withConfig({componentId:"sc-fc629465-7"})(["",""],e=>{let{alignment:n,src:t}=e;return/dp-amazon-logo.png/.test(t)?"height: ".concat(2*u.dX,"px; width: auto"):n===c.g1.CENTER?"max-width: ".concat(200,"px"):"width: 100%; object-fit: cover"}),b=(0,l.default)(r.Z).withConfig({componentId:"sc-fc629465-8"})(["width:100%;"]),I=l.default.div.withConfig({componentId:"sc-fc629465-9"})(["margin:auto;width:","px;"],e=>e.isMobile?350:600),y=l.default.div.withConfig({componentId:"sc-fc629465-10"})(["padding:",";",""],i.Q2.usage.space.legacyMedium,e=>e.backNavigation&&"padding-top: 0px;"),x=l.default.div.withConfig({componentId:"sc-fc629465-11"})(["width:100%;height:",";"],i.Q2.usage.space.medium),C=l.default.div.withConfig({componentId:"sc-fc629465-12"})(["width:400px;"]),T=l.default.div.withConfig({componentId:"sc-fc629465-13"})(["display:flex;flex-direction:column;"]),A=l.default.div.withConfig({componentId:"sc-fc629465-14"})(["width:100%;border:2px solid ",";border-radius:",";"," padding:",";"],e=>e.isSelected?i.Q2.usage.color.brand.dashpass:i.Q2.usage.color.border.strong.default,i.Q2.usage.space.xSmall,e=>e.isSelected&&"box-shadow: ".concat(o.Z.Base,";"),i.Q2.usage.space.medium),P=l.default.div.withConfig({componentId:"sc-fc629465-15"})(["background-color:",";padding:"," ",";border-radius:4px;"],e=>e.color,i.Q2.usage.space.xxxSmall,i.Q2.usage.space.xxSmall),R=(0,l.default)(p.D).withConfig({componentId:"sc-fc629465-16"})(["> p{margin-top:0px;margin-bottom:0px;> a{color:"," !important;}}"],d.i2.SystemBlack),D=l.default.div.withConfig({componentId:"sc-fc629465-17"})(["width:100%;padding:",";padding-left:",";padding-right:",";cursor:pointer;background-color:",";margin-bottom:",";cursor:",";"],i.Q2.usage.space.small,i.Q2.usage.space.xxSmall,i.Q2.usage.space.xxSmall,d.i2.SystemWhite,i.Q2.usage.space.medium,e=>e.readOnly?"text":"grab")},360433:function(e,n,t){t.d(n,{g:function(){return r}});var i=t(621353),a=t(980928);let r=(e,n,t)=>{var r,o,l,s,u,c,d,p,g,f,m,v,_,S,h,E,b,I,y;let x=null==e?void 0:null===(r=e.find(e=>(null==e?void 0:e.key)===i.x2.SUCCESS_MESSAGE))||void 0===r?void 0:r.value,C=null==e?void 0:null===(o=e.find(e=>(null==e?void 0:e.key)===i.x2.STRIPE_ID))||void 0===o?void 0:o.value,T=null==e?void 0:null===(l=e.find(e=>(null==e?void 0:e.key)===i.x2.STRIPE_TOKEN))||void 0===l?void 0:l.value,A=(null==e?void 0:null===(s=e.find(e=>(null==e?void 0:e.key)===i.x2.CONSENT_OBTAINED))||void 0===s?void 0:s.value)==="true",P=null!==(I=null==e?void 0:null===(u=e.find(e=>(null==e?void 0:e.key)===i.x2.UPSELL_TYPE))||void 0===u?void 0:u.value)&&void 0!==I?I:t,R=null==e?void 0:null===(c=e.find(e=>(null==e?void 0:e.key)===i.x2.ENTRY_POINT))||void 0===c?void 0:c.value,D=null!==(y=null!=R?R:n)&&void 0!==y?y:"",N=parseInt((null==e?void 0:null===(d=e.find(e=>(null==e?void 0:e.key)===i.x2.PLAN_ID))||void 0===d?void 0:d.value)||"0",10),L=parseInt((null==e?void 0:null===(p=e.find(e=>(null==e?void 0:e.key)===i.x2.TRIAL_ID))||void 0===p?void 0:p.value)||"",10),O=(null==e?void 0:null===(g=e.find(e=>(null==e?void 0:e.key)===i.x2.PAYMENT_METHOD_OPTIONAL))||void 0===g?void 0:g.value)==="true"||!!L,U=null==e?void 0:null===(f=e.find(e=>(null==e?void 0:e.key)===i.x2.SAVINGS_VALUE))||void 0===f?void 0:f.value,w=null==e?void 0:null===(m=e.find(e=>(null==e?void 0:e.key)===i.x2.REFUND_TYPE))||void 0===m?void 0:m.value,k=w&&w in i.pW&&i.pW[w]===i.pW.post_order_refund?a.y8Y.POST_ORDER_REFUND:void 0,M=(null==e?void 0:null===(v=e.find(e=>(null==e?void 0:e.key)===i.x2.ORDER_UUID))||void 0===v?void 0:v.value)||"",j=(null==e?void 0:null===(_=e.find(e=>(null==e?void 0:e.key)===i.x2.FEE_CURRENCY))||void 0===_?void 0:_.value)||"",F=(null==e?void 0:null===(S=e.find(e=>(null==e?void 0:e.key)===i.x2.FEE_UNIT_AMOUNT))||void 0===S?void 0:S.value)||"";return{successMessage:x,stripeId:C,stripeToken:T,consentObtained:A,paymentMethodOptional:O,upsellType:P,entryPoint:D,planId:N,trialId:L,savingsValue:U,refundTypeMapped:k,orderUuid:M,feeCurrency:j,feeUnitAmount:F,countryCode:(null==e?void 0:null===(h=e.find(e=>(null==e?void 0:e.key)===i.x2.COUNTRY_CODE))||void 0===h?void 0:h.value)||"",numberFreeDays:parseInt((null==e?void 0:null===(E=e.find(e=>(null==e?void 0:e.key)===i.x2.NUMBER_FREE_DAYS))||void 0===E?void 0:E.value)||"0",10),freeDaysGrantReason:(null==e?void 0:null===(b=e.find(e=>(null==e?void 0:e.key)===i.x2.FREE_DAYS_GRANT_REASON))||void 0===b?void 0:b.value)||""}}},731959:function(e,n,t){var i=t(787536);t(512150);var a=t(95485),r=t(523328),o=t(485151);let l={PRIMARY:a.L$.primary,TERTIARY:a.L$.tertiary,FLAT_SECONDARY:a.L$.flatSecondary};n.Z=e=>{let{onClick:n,label:t,type:s=a.L$.primary,state:u=a.BN.default,isInline:c=!0,isDisabled:d}=e;return t?(0,i.jsx)(r.Z,{"data-anchor-id":"".concat(o.F2.GenericAction,"-").concat(t),"data-testid":"".concat(o.F2.GenericAction,"-").concat(t),accessibilityRole:"button",accessibilityLabel:t,type:l[s],isInline:c,onClick:n,state:u,isDisabled:d,children:t}):null}},621353:function(e,n,t){var i,a,r,o,l,s,u,c,d,p,g,f,m,v;t.d(n,{GO:function(){return o},Id:function(){return l},fr:function(){return r},g1:function(){return u},no:function(){return i},pW:function(){return _},x2:function(){return c},zv:function(){return a}}),(i||(i={})).SURVEY="CANCELLATION_SURVEY",(d=a||(a={})).IMAGE="IMAGE",d.CENTERED_IMAGE="CENTERED_IMAGE",d.BOLDED_TITLE="BOLDED_TITLE_TEXT",d.TEXT="TEXT",d.TERMS_AND_CONDITIONS="TERMS_AND_CONDITIONS",d.TEXT_WITH_SEPARATE_LABEL_OR_ACTION="TEXT_WITH_SEPARATE_LABEL_OR_ACTION",d.DIVIDER_RULER="DIVIDER_RULER",d.DIVIDER_SPACER="DIVIDER_SPACER",d.RADIO_BUTTON="RADIO_BUTTON",d.ITEM_IMAGE="LIST_ITEM_WITH_IMAGE",d.BADGE="BADGE",d.TEXT_INPUT="USER_INPUT_TEXT_BOX",d.BULLETED_LIST_ITEM="BULLET_POINT_LIST_ITEM",d.HEADER_IMAGE="HEADER_IMAGE",d.PRICE_LINE_ITEM="PRICE_LINE_ITEM",d.PRICE_LINE_ITEM_HIGHLIGHTED="PRICE_LINE_ITEM_HIGHLIGHTED",d.DIVIDER="DIVIDER_SPACER",d.BANNER="BANNER",d.RICH_CARD_RADIO_BUTTON="RICH_CARD_RADIO_BUTTON",d.PAYMENT_SELECTION_TILE="PAYMENT_SELECTION_TILE",(p=r||(r={})).BACK="GO_BACK",p.CONTINUE_CANCEL="CANCEL_DASHPASS",p.CONTINUE="CONTINUE",p.UNKNOWN="UNKNOWN_ACTION_IDENTIFIER",p.ROOT="GO_BACK_TO_ROOT",p.SUPPORT_CHAT="CHAT_WITH_SUPPORT",p.SUPPORT_CALL="CALL_SUPPORT",p.PAUSE="PAUSE_DASHPASS",p.GRANT_FREE="GRANT_FREE_DASHPASS",p.VIEW_RESTAURANTS="GO_TO_RESTAURANT_FEED",p.TRANSITION_SUBSCRIPTION="TRANSITION_SUBSCRIPTION",p.MANAGE_DASHPASS="GO_TO_MANAGE_DASHPASS",p.OPEN_DEEPLINK="OPEN_DEEPLINK",p.SEND_SHARED_DASHPASS_MEMBERSHIP_LINK="SEND_SHARED_DASHPASS_MEMBERSHIP_LINK",p.INVALIDATE_SHARED_DASHPASS_MEMBERSHIP="INVALIDATE_SHARED_DASHPASS_MEMBERSHIP",p.SUBSCRIBE="SUBSCRIBE_TO_DASHPASS",p.SELECT_RADIO_BUTTON="SELECT_RADIO_BUTTON_ACTION",p.SET_ACTION_DURING_CANCELLATION_FLOW="SET_ACTION_DURING_CANCELLATION_FLOW",p.RESUBSCRIBE="RESUBSCRIBE_TO_DASHPASS",p.RESUME="RESUME_DASHPASS",(g=o||(o={})).DEEPLINK_URL="DEEPLINK_URL",g.SHARING_CODE="SHARING_CODE",(f=l||(l={})).MODAL="MODAL",f.DEFAULT="DEFAULT",f.REGULAR="REGULAR",(s||(s={})).SPARKLE="SPARKLE",(m=u||(u={})).CENTER="CENTER",m.LEFT="LEFT",m.RIGHT="RIGHT",(v=c||(c={})).PLAN_ID="PLAN_ID",v.STRIPE_ID="STRIPE_ID",v.STRIPE_TOKEN="STRIPE_TOKEN",v.CONSENT_OBTAINED="CONSENT_OBTAINED",v.DEEPLINK_URL="DEEPLINK_URL",v.TRIAL_ID="TRIAL_ID",v.SUCCESS_MESSAGE="SUCCESS_MESSAGE",v.REFUND_TYPE="REFUND_TYPE",v.ORDER_UUID="ORDER_UUID",v.ENTRY_POINT="ENTRY_POINT",v.UPSELL_TYPE="UPSELL_TYPE",v.PAYMENT_METHOD_OPTIONAL="PAYMENT_METHOD_OPTIONAL",v.SAVINGS_VALUE="SAVINGS_VALUE",v.FEE_CURRENCY="FEE_CURRENCY",v.FEE_UNIT_AMOUNT="FEE_UNIT_AMOUNT",v.COUNTRY_CODE="COUNTRY_CODE",v.PAYMENT_OPTION="PAYMENT_OPTION",v.FREE_DAYS_GRANT_REASON="FREE_DAYS_GRANT_REASON",v.NUMBER_FREE_DAYS="NUMBER_FREE_DAYS";let _={post_order_refund:"POST_ORDER_REFUND",unknown:"UNKNOWN_REFUND_TYPE"}},526983:function(e,n,t){t.d(n,{Jb:function(){return v},OS:function(){return d},UY:function(){return g},c8:function(){return f},fr:function(){return _},jl:function(){return c},tf:function(){return u},w:function(){return p},xz:function(){return m}});var i=t(787536);t(512150);var a=t(651315),r=t(337649),o=t(731959),l=t(485151),s=t(621353);let u=e=>"doordash"===e?"https://help.doordash.com/consumers/s/consumer-support?chatonopen=true":"https://help.trycaviar.com/diners/s/contactsupport",c=(e,n)=>{switch(e){case s.g1.LEFT:return a.dy.flexStart;case s.g1.RIGHT:return a.dy.flexEnd;case s.g1.CENTER:return a.dy.center;default:return n?a.dy.flexStart:a.dy.center}},d=e=>{var n,t;return null===(t=e.actionParametersList)||void 0===t?void 0:null===(n=t.find(e=>(null==e?void 0:e.key)===s.GO.DEEPLINK_URL))||void 0===n?void 0:n.value},p=e=>{var n,t;return null===(t=e.actionParametersList)||void 0===t?void 0:null===(n=t.find(e=>(null==e?void 0:e.key)===s.GO.SHARING_CODE))||void 0===n?void 0:n.value},g=(e,n,t)=>(0,i.jsx)(o.Z,{"data-anchor-id":"".concat(l.F2.UIFlowAction,"-").concat(n.label),"data-testid":"".concat(l.F2.UIFlowAction,"-").concat(n.label),label:n.label,onClick:e,type:n.actionDisplayType||"",...t},(0,r.l)()),f=e=>{var n,t,i;let a=null==e?void 0:null===(n=e.sectionsList)||void 0===n?void 0:n.find(e=>{var n;return(null==e?void 0:e.type)===s.zv.RICH_CARD_RADIO_BUTTON&&(null==e?void 0:null===(n=e.contentList)||void 0===n?void 0:n[0])==="true"});return null!==(i=null==a?void 0:null===(t=a.contentList)||void 0===t?void 0:t[1])&&void 0!==i?i:""},m=(e,n)=>{var t,i;return null==e?void 0:null===(i=e.sectionsList)||void 0===i?void 0:null===(t=i.find(e=>{var t;return(null==e?void 0:e.type)===s.zv.RICH_CARD_RADIO_BUTTON&&(null==e?void 0:null===(t=e.contentList)||void 0===t?void 0:t[1])===n}))||void 0===t?void 0:t.action},v=e=>(null==e?void 0:e.actionsList)&&(null==e?void 0:e.actionsList.length)==1,_=e=>"string"==typeof e?JSON.parse(e).screenIdentifier:e.screenIdentifier},132862:function(e,n,t){t.d(n,{HB:function(){return I},uk:function(){return h},oR:function(){return E},q5:function(){return S},Tn:function(){return b}});var i=t(592282),a=t(490724),r=t(980928),o=t(57305),l=t(686987),s=t(33779),u=t(910453),c=t(361040),d=t(273307),p=t(789162),g=t(336494);function f(){let e=(0,g._)(["\n  query partnerPlanDetails($planName: String!) {\n    subscriptionPartnerPlanDetails(planName: $planName) {\n      id\n      isPartnerPlan\n      numEligibleStores\n      incentive {\n        extraSosFee {\n          displayString\n          unitAmount\n        }\n        minimumSubtotal {\n          displayString\n          unitAmount\n        }\n        deliveryFee {\n          displayString\n          unitAmount\n        }\n        serviceRate\n      }\n      isSubscriptionTrialEligible\n      trialInfo {\n        trialId\n        trialIntervalType\n        trialIntervalUnits\n      }\n      marketingInfo {\n        title\n        subtitle\n        subscriptionSignupTitle\n        subscriptionSignupCta\n        description\n        dividerText\n        features {\n          title\n          subtitle\n          imageUrl\n          popularStoreList {\n            imageUrl\n          }\n        }\n        genericFeatures {\n          title\n          subtitle\n          imageUrl\n        }\n      }\n      billingDetails {\n        title\n        description\n      }\n      termsAndConditions {\n        type\n        value\n        url\n      }\n    }\n  }\n"]);return f=function(){return e},e}let m=(0,t(74800).Ps)(f());var v=e=>(0,p.aM)(m,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{planName:e}});let _=e=>null!=e?e:r.cMu.BILLING_PROVIDER_STRIPE,S=()=>{let e=new Set([a.Oh.CARD]),n=(0,o.g)(),t=(0,u.y0)(),r=(0,s.fc)(),d=(0,l.$3)(),p=(0,i.Ub)(i.he.Payments),g={};n||(g[a.Oh.AFTERPAY]=c.ZP.t("paymentMethodStrings_afterpay_dashPassError")),t||(g[a.Oh.VENMO]=c.ZP.t("paymentMethodStrings_venmo_dashPassError")),r||(g[a.Oh.PAYPAL]=c.ZP.t("paymentMethodStrings_payPal_dashPassError")),g[a.Oh.EBT]=c.ZP.t("paymentMethodStrings_snapebt_unsupported_error"),g[a.Oh.HSAFSA]=c.ZP.t("paymentMethodStrings_HSAFSA_unsupported_error"),d||(g[a.Oh.CASHAPP]=c.ZP.t("paymentMethodStrings_cashapp_dashPassError"));let f={...p,...g};for(let n of a.TM)f[n]||e.add(n);return{supportedPayments:e,paymentMethodErrors:f}},h=e=>_(e)===r.cMu.BILLING_PROVIDER_DOORDASH,E=()=>{var e,n;let t=(0,o.g)(),i=(0,o.vX)(),a=v(d.j9.Afterpay),r=!!(null==a?void 0:null===(n=a.data)||void 0===n?void 0:null===(e=n.subscriptionPartnerPlanDetails)||void 0===e?void 0:e.trialInfo);return t&&i&&r},b=(e,n)=>{let t=h(e),{supportedPayments:i}=S();return n||t?i:a.uN},I=(e,n)=>{let t=h(e),{paymentMethodErrors:i}=S();return n||t?i:{[a.Oh.PAYPAL]:c.ZP.t("paymentMethodStrings_payPal_dashPassError"),[a.Oh.VENMO]:c.ZP.t("paymentMethodStrings_venmo_dashPassError"),[a.Oh.AFTERPAY]:c.ZP.t("paymentMethodStrings_afterpay_dashPassError"),[a.Oh.EBT]:c.ZP.t("paymentMethodStrings_snapebt_unsupported_error"),[a.Oh.HSAFSA]:c.ZP.t("paymentMethodStrings_HSAFSA_unsupported_error"),[a.Oh.CASHAPP]:c.ZP.t("paymentMethodStrings_cashapp_dashPassError")}}},888461:function(e,n,t){t.d(n,{x:function(){return o}});var i=t(787536);t(512150);var a=t(22364),r=t(132862);let o=e=>{let{entryPoint:n,paymentConfig:t,billingProvider:o,consumerStripeKey:l,changingDashPassPayment:s,paymentMethods:u,subscriptionId:c,isNewSubscription:d,onAddCardSuccess:p,onClose:g,onBack:f}=e,m=(0,r.Tn)(o,!!d),v=(0,r.HB)(o,!!d);return(0,i.jsx)(a.Z,{entryPoint:n,changingDashPassPayment:s,consumerStripeKey:l,paymentConfig:t,consumerPaymentCards:null!=u?u:[],onClose:g,subscriptionId:c,onBack:f,onAddCardSuccess:p,supportedAddablePaymentMethods:m,cardErrorMap:v})}},26888:function(e,n,t){t.d(n,{iu:function(){return s},HK:function(){return u}}),t(797325);var i=t(336494);function a(){let e=(0,i._)(["\n  query dashPassPage(\n    $entryPoint: String\n    $redeemCode: String\n    $landingPageType: DashPassLandingPageType\n    $orderUuid: String\n  ) {\n    dashPassPage(\n      entryPoint: $entryPoint\n      redeemCode: $redeemCode\n      landingPageType: $landingPageType\n      orderUuid: $orderUuid\n    ) {\n      header {\n        title\n        subtitle\n        logoUrl\n        backgroundColor\n        isVisible\n        heroImageUrl\n      }\n      scrollCta {\n        isVisible\n        buttonText\n      }\n      sections {\n        id\n        type\n        sortOrder\n        data {\n          ... on DashPassPageBenefits {\n            landscapeImageUrl\n            portraitImageUrl\n            backgroundColor\n            linkText\n            isVisible\n            benefits {\n              title\n              subtitle\n              description\n              iconUrl\n              backgroundColor\n            }\n            backgroundImage {\n              landscapeImageUrl\n              portraitImageUrl\n            }\n            title\n          }\n          ... on DashPassPagePlans {\n            title\n            subtitle\n            backgroundImageUrl\n            backgroundColor\n            isVisible\n            plans {\n              title\n              subtitle\n              preSubtitle\n              isDefault\n              isBestValue\n              bestValueText\n              backgroundColor\n              imageUrl\n              leadingImageUrl\n              description\n              subscriptionPlan {\n                id\n                isPartnerPlan\n                isAnnualPlan\n                partnerCard {\n                  stripeId\n                  displayName\n                  partnerName\n                  last4\n                }\n                numEligibleStores\n                incentive {\n                  extraSosFee {\n                    displayString\n                    unitAmount\n                  }\n                  minimumSubtotal {\n                    displayString\n                    unitAmount\n                  }\n                  deliveryFee {\n                    displayString\n                    unitAmount\n                  }\n                  serviceRate\n                }\n                isSubscriptionTrialEligible\n                trialInfo {\n                  trialId\n                  trialIntervalType\n                  trialIntervalUnits\n                }\n                marketingInfo {\n                  title\n                  subtitle\n                  subscriptionSignupTitle\n                  subscriptionSignupCta\n                  description\n                  dividerText\n                  features {\n                    title\n                    subtitle\n                    imageUrl\n                    popularStoreList {\n                      imageUrl\n                    }\n                  }\n                  genericFeatures {\n                    title\n                    subtitle\n                    imageUrl\n                  }\n                }\n                billingDetails {\n                  title\n                  description\n                }\n                termsAndConditions {\n                  type\n                  value\n                  url\n                }\n              }\n              linkText\n              baseLinkUrl\n              type\n              tagStyle\n              marketingType\n            }\n            linkText\n            backgroundImage {\n              landscapeImageUrl\n              portraitImageUrl\n            }\n          }\n          ... on DashPassPagePayment {\n            cardNameText\n            cardLogoUrl\n            backgroundColor\n            isVisible\n          }\n          ... on DashPassPageCTA {\n            isVisible\n            ctaList {\n              planId\n              billingInfoText\n              buttonText\n              buttonColor\n              backgroundColor\n              termsAndConditions {\n                type\n                value\n                url\n              }\n              trialConsentText\n              marketingType\n              linkUrl\n              type\n            }\n          }\n          ... on DashPassPageGiftRecipient {\n            isVisible\n            title\n            optionsList {\n              label\n              type\n              title\n              fieldList {\n                label\n                placeholder\n                key\n                maxLength\n                maxLengthType\n                subtitle\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return a=function(){return e},e}(0,t(74800).Ps)(a()),t(137605);var r=t(866477);t(215224);var o=t(132862);t(980928);var l=t(820562);let s=function(){var e;let{paymentQueryOptions:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.N)(n),{supportedPayments:i}=(0,o.q5)();return(0,l.X)(null==t?void 0:null===(e=t.data)||void 0===e?void 0:e.paymentCards,i)},u=function(){var e,n,t,i;let{paymentQueryOptions:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,r.N)(a),{supportedPayments:u}=(0,o.q5)();return{loading:null==s?void 0:s.loading,error:null==s?void 0:s.error,config:null==s?void 0:null===(e=s.data)||void 0===e?void 0:e.paymentConfig,defaultDashPassPayment:(0,l.X)(null==s?void 0:null===(n=s.data)||void 0===n?void 0:n.paymentCards,u),paymentCards:(0,l.C)(null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.paymentCards,u),consumerStripeKey:null==s?void 0:null===(i=s.data)||void 0===i?void 0:i.consumerStripeKey,refetch:null==s?void 0:s.refetch}}},820562:function(e,n,t){t.d(n,{C:function(){return r},X:function(){return a}});var i=t(490724);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(e)return[...e].sort(e=>e.isDefault?-1:1).find(e=>{let t=!i.Ec.has(null==e?void 0:e.type),a=n.has(e.type);return t||a})},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(!e)return[];let t=a(e,n);return t?e.map(e=>({...e,isDefault:e.id===t.id})):e}},848260:function(e,n,t){t.d(n,{f:function(){return u}});var i=t(336494),a=t(74800),r=t(674752),o=t(993292);function l(){let e=(0,i._)(["\n  mutation CancelDashPass {\n    unsubscribeDashPass {\n      id\n      daysRemaining\n      calloutInfo {\n        description\n        title\n      }\n    }\n  }\n"]);return l=function(){return e},e}let s=(0,a.Ps)(l()),u=e=>(0,o.C)(r.r.CancelDashPass,r.Yh.ClickedButton,s,e)},703252:function(e,n,t){var i=t(336494);function a(){let e=(0,i._)(["\n  mutation grantFreeDashpass($numValue: Int, $reason: GrantFreeDashpassReason) {\n    grantFreeDashpass(numValue: $numValue, reason: $reason)\n  }\n"]);return a=function(){return e},e}let r=(0,t(74800).Ps)(a());n.Z=r},389049:function(e,n,t){var i=t(787536),a=t(512150),r=t(593768),o=t(811529),l=t(464447),s=t(215224);n.Z=e=>{let{children:n,onSuccess:t,onFailure:u,isPausing:c}=e,[d,p]=a.useState(!1),[g,f]=(0,l.p)(c);return(0,i.jsx)(r.Z,{query:o.A,pollInterval:1500,timeout:22500,success:e=>{let n=e.subscriptionStatus.subscriptionStatus;return c?n!==s.qq.ACTIVE:n===s.qq.ACTIVE},failure:e=>{let n=e.subscriptionStatus.subscriptionStatus;return c?n!==s.qq.ACTIVE:n===s.qq.ACTIVE},onTimeout:()=>{p(!1)},onFailure:()=>{p(!1),u()},onError:()=>{p(!1),u()},onSuccess:()=>{p(!1),t()},children:e=>n(()=>{p(!0),g().then(e,()=>{p(!1)})},f.loading||d,e=>{let n=e.data.subscriptionStatus.subscriptionStatus;return c?n!==s.qq.ACTIVE:n===s.qq.ACTIVE})})}},464447:function(e,n,t){t.d(n,{p:function(){return d}});var i=t(336494),a=t(74800),r=t(993292),o=t(674752);function l(){let e=(0,i._)(["\n  mutation pauseDashPass {\n    pauseDashPass\n  }\n"]);return l=function(){return e},e}function s(){let e=(0,i._)(["\n  mutation resumeDashPass($stripeId: String) {\n    unpauseDashPass(stripeId: $stripeId)\n  }\n"]);return s=function(){return e},e}let u=(0,a.Ps)(l()),c=(0,a.Ps)(s()),d=e=>(0,r.C)(e?o.r.PauseDashPass:o.r.UnpauseDashPass,o.Yh.ClickedButton,e?u:c)},359628:function(e,n,t){var i=t(336494);function a(){let e=(0,i._)(["\n  mutation resubscribeDashPass {\n    resubscribeDashPass {\n      id\n      calloutInfo {\n        description\n        title\n      }\n    }\n  }\n"]);return a=function(){return e},e}let r=(0,t(74800).Ps)(a());n.Z=r},797325:function(e,n,t){t.d(n,{Z:function(){return s}});var i=t(128842),a=t(866477),r=t(336494);function o(){let e=(0,r._)(["\n  query subscriptionInformation {\n    subscriptionInformation {\n      subscriptionInfo {\n        id\n        subscriptionStatus\n        endTime\n        startTime\n        isEligibleForDashCardPlanStacking\n        manageSubscriptionDashboard {\n          title\n          description\n          actionsList {\n            label\n            type\n            metadata {\n              url\n            }\n            subscriptionUpsellDetails {\n              title\n              imageUrl\n              headerBadge\n              accessoryType\n              actionsList {\n                label\n                type\n              }\n              descriptionList {\n                type\n                text\n                descriptionList {\n                  type\n                  text\n                  descriptionList {\n                    type\n                    text\n                    descriptionList {\n                      type\n                      text\n                    }\n                  }\n                }\n              }\n              termsAndConditions {\n                type\n                value\n                url\n              }\n            }\n          }\n          sectionsList {\n            name\n            title\n            badge {\n              label\n              type\n            }\n            descriptionList\n            leadingIcon\n          }\n        }\n        subscriptionPlan {\n          id\n          fee {\n            unitAmount\n            displayString\n          }\n          recurrenceIntervalType\n          billingProvider\n        }\n        lastMonthSavingsMonetaryFields {\n          unitAmount\n          displayString\n        }\n        cancellationSurvey {\n          questions {\n            id\n            question\n            answerOptions {\n              id\n              text\n              actionsList {\n                label\n                type\n                subscriptionUpsellDetails {\n                  title\n                  imageUrl\n                  headerBadge\n                  actionsList {\n                    label\n                    type\n                  }\n                  descriptionList {\n                    type\n                    text\n                    descriptionList {\n                      type\n                      text\n                      descriptionList {\n                        type\n                        text\n                      }\n                    }\n                  }\n                  termsAndConditions {\n                    type\n                    value\n                    url\n                  }\n                }\n              }\n            }\n          }\n        }\n        calloutInfo {\n          header {\n            multiStyleDescription {\n              content\n              style\n            }\n            title\n          }\n          sections {\n            multiLineDescription\n            name\n            title\n          }\n        }\n        canPause\n        resumeDate\n        pauseDetails {\n          maxResumeDate\n          minResumeDate\n          pauseOptions {\n            id\n            title\n            subtitle\n            resumeDate\n          }\n        }\n      }\n      billingHistory {\n        description\n        units {\n          title\n          multiLineDescription\n          amount {\n            displayString\n          }\n        }\n      }\n      unsubscribePreview {\n        calloutInfo {\n          imageUrl\n          description\n          title\n        }\n        footerText\n        reasonsToContinue {\n          imageUrl\n          subtitle\n          title\n        }\n      }\n      partnerCardInfo {\n        displayName\n        last4\n        stripeId\n        partnerName\n      }\n    }\n  }\n"]);return o=function(){return e},e}let l=(0,t(74800).Ps)(o());var s=function(){var e;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.a)(l,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,...n}),{data:r}=(0,a.N)(),o={subscriptionInformation:null===(e=t.data)||void 0===e?void 0:e.subscriptionInformation};return r&&(o.paymentData=r),{...t,data:o}}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f360e61d-10d5-535e-a5c2-15cf2a50e140")}catch(e){}}()
//# debugId=f360e61d-10d5-535e-a5c2-15cf2a50e140
//# sourceMappingURL=3384-c17a4123f76e8634.js.map
