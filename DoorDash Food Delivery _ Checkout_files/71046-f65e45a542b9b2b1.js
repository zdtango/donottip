"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71046],{912367:function(e,n,r){r.d(n,{Nj:function(){return a}});var t,i,o=r(3075);function a(e,n){var r,t;switch(n){case o.g.JA_JP:case o.g.JA:return r={givenName:e.givenName.trim(),familyName:e.familyName.trim()},{informalName:"".concat(r.familyName).concat("さん").trim(),formalName:"".concat(r.familyName).concat(r.givenName).concat("様").trim(),formalNameAbbreviated:"".concat(r.familyName).concat("様").trim()};default:return{informalName:(t={givenName:e.givenName.trim(),familyName:e.familyName.trim()}).givenName,formalName:"".concat(t.givenName," ").concat(t.familyName).trim(),formalNameAbbreviated:"".concat(t.givenName," ").concat(t.familyName.length>0?t.familyName[0]:"").trim()}}}(t=i||(i={}))[t.Western=0]="Western",t[t.Eastern=1]="Eastern"},701417:function(e,n,r){var t=r(787536),i=r(523328),o=r(512150),a=r(620677);let u=o.forwardRef(function(e,n){return(0,t.jsx)(i.Z,{...e,ref:n})});n.C=e=>(0,t.jsx)(a.r,{"data-anchor-id":e["data-anchor-id"]||"",href:e.href,children:(0,t.jsx)(u,{...e})})},880665:function(e,n,r){r.d(n,{Z:function(){return m}});var t=r(787536),i=r(119978),o=r.n(i),a=r(512150),u=r(583413),l=r(338772);let d=l.default.img.withConfig({componentId:"sc-fdf30937-0"})(["width:","px;height:","px;overflow:hidden;display:block;margin:0 auto;"],e=>{let{width:n}=e;return n},e=>{let{height:n}=e;return n}),c=l.default.div.withConfig({componentId:"sc-fdf30937-1"})(["width:","px;height:","px;overflow:hidden;display:block;margin:0 auto;"],e=>{let{width:n}=e;return n},e=>{let{height:n}=e;return n}),s="".concat(u.EB,"media/consumer/misc/lottie_cuisine_filter_fallback_img.png");var m=e=>{let{width:n,height:r,speed:i,loop:l,autoPlay:m,animationData:f,isStopped:p,isPaused:v,rendererSettings:g,onAnimationEnd:h,onAnimationLoopEnd:E,onEnterFrame:O,fallbackImgUrl:R}=e,[_,y]=a.useState(),[I,N]=a.useState(!1),C=a.createRef();a.useEffect(()=>{let e;try{e=o().loadAnimation({loop:l,autoPlay:m,animationData:f,rendererSettings:g,wrapper:C.current,renderer:"svg"})}catch(e){N(!0)}if(e)return e.isSubframeEnabled=!1,p&&e.stop(),(i||0===i)&&e.setSpeed(i),h&&(e.onComplete=h),E&&(e.onLoopComplete=E),O&&e.addEventListener("enterFrame",()=>O(e.currentFrame,e.totalFrames)),y(e),()=>{var n;null==e||null===(n=e.destroy)||void 0===n||n.call(e)}},[f]),a.useEffect(()=>{_&&(p?(_.setDirection(-1),_.play()):v?_.pause():(_.setDirection(1),_.play()))},[_,v,p]);let A=a.useMemo(()=>(0,u.O1)(R||s,n),[R,n]);return I?(0,t.jsx)(d,{src:A,alt:"Animation",width:n,height:r}):(0,t.jsx)(c,{ref:C,width:n,height:r})}},814116:function(e,n,r){r.d(n,{E$:function(){return m},KZ:function(){return d},cj:function(){return l},tT:function(){return u}});var t=r(561662),i=r(912367),o=r(504050);let a=e=>{let n=e.recipientCountryCode||"",r=(0,t.Gg)(n),i=e.shouldDoordashTextRecipient||e.shouldDasherContactRecipient;return e.recipientPhone&&i?(0,o.pj)(r+e.recipientPhone).internationalNumber:null},u=(e,n)=>{let r=l(e,n);return{recipientPhone:a(e),recipientName:r,recipientGivenName:e.recipientGivenName,recipientFamilyName:e.recipientFamilyName,recipientEmail:e.recipientEmail,cardMessage:e.cardMessage,cardId:e.cardId,senderName:e.senderName,shouldNotifyTrackingToRecipientOnDasherAssign:e.shouldDoordashTextRecipient,shouldNotifyRecipientForDasherQuestions:e.shouldDasherContactRecipient,shouldRecipientScheduleGift:e.shouldRecipientScheduleGift||!1}},l=(e,n)=>{if(e.recipientFamilyName||e.recipientGivenName){var r,t;let o=null!==(r=e.recipientFamilyName)&&void 0!==r?r:"",a=null!==(t=e.recipientGivenName)&&void 0!==t?t:"";return(0,i.Nj)({familyName:o,givenName:a},n).formalName}return e.recipientName},d=(e,n)=>n?c(e):{...e,...s(e.recipientPhone),recipientEmail:"",shouldDoordashTextRecipient:!!e.shouldNotifyTrackingToRecipientOnDasherAssign,shouldDasherContactRecipient:!!e.shouldNotifyRecipientForDasherQuestions},c=e=>{var n;return{...e,recipientPhone:"",recipientEmail:null!==(n=e.recipientEmail)&&void 0!==n?n:"",shouldNotifyRecipientForDasherQuestions:null,shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldRecipientScheduleGift:!1,shouldDoordashTextRecipient:!1,shouldDasherContactRecipient:!1}},s=e=>{let n=t.Z8.US,r=t.RE.US;return e?(e.startsWith(t.RE.AU)&&(n=t.Z8.AU,r=t.RE.AU),{recipientCountryCode:n,recipientPhone:e.substr(r.length)}):{recipientCountryCode:n,recipientPhone:""}},m=e=>{let{giftInfo:n,orderCartCreator:r}=e,t={recipientGivenName:(null==r?void 0:r.firstName)||"",recipientFamilyName:(null==r?void 0:r.lastName)||""};return(null==n?void 0:n.recipientFamilyName)&&(null==n?void 0:n.recipientGivenName)&&(t.recipientFamilyName=n.recipientFamilyName,t.recipientGivenName=n.recipientGivenName),t}},656151:function(e,n,r){var t,i,o,a;r.d(n,{b:function(){return i},z:function(){return t}}),(o=t||(t={})).PeepViewMode="PeepViewMode",o.FullViewMode="FullViewMode",o.CollapsedViewMode="CollapsedViewMode",o.ScrollingViewMode="ScrollingViewMode",o.HiddenViewMode="HiddenViewMode",(a=i||(i={})).InitialLoad="InitialLoad",a.Home="Home",a.NavBar="NavBar",a.RedirectAfterAddedItem="RedirectAfterAddedItem",a.GlobalSearchBar="GlobalSearchBar",a.SearchResultPage="SearchResultPage",a.SearchResultImageItem="SearchResultImageItem",a.RetailCollectionPage="RetailCollectionPage",a.RxStorePageBackButton="RxStorePageBackButton"},199124:function(e,n,r){r.d(n,{A_:function(){return s},BD:function(){return g},DP:function(){return O},EA:function(){return p},HC:function(){return c},HN:function(){return d},MB:function(){return R},Mk:function(){return m},VW:function(){return y},ZU:function(){return v},b7:function(){return E},iS:function(){return f},j9:function(){return h},oY:function(){return l},zz:function(){return I}});var t=r(163465),i=r(482480),o=r(128663),a=r(18187),u=r(656151);let l="post_checkout_double_dash",d="doubledash-full-screen",c="primary-store",s={XxxsSmall:3,XxsSmall:6,XxxSmall:7,XsSmall:10},m=500,f=250,p=300,v=290,g='[data-testid="LegoFlexibleItemSquareContainer"]',h="checkout",E=50,O=(e,n)=>({checkout:!0,storeId:e,isRetail:n}),R=[a.kF.CAROUSEL_STORE,a.kF.CARD_ITEM_SQUARE,a.kF.CARD_FLEXIBLE_ITEM_SQUARE,a.kF.BUTTON_QUANTITY_STEPPER,a.kF.CAROUSEL_STANDARD,a.kF.ROW_STORE_INFO,a.kF.ROW_ITEM,a.kF.ROW_STORE,a.kF.ROW_STORE_COMPACT,a.kF.CARD_SEARCH_RESULT_IMAGE,a.kF.CARD_ACTION,a.kF.CARD_RETAIL_ITEM_CARD],_={canvas:{width:"100vw",custom:{marginBottom:i.Q2.usage.space.xLarge}}},y=[{breakpoint:t.AK,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.legacyXxxLarge)}},row:{[a.kF.ROW_ITEM_CONTAINER]:{count:2,style:a.NN.StyleTwo}}},{breakpoint:o.u3.wideScreen,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.xLarge)}},row:{[a.kF.ROW_ITEM_CONTAINER]:{count:2,style:a.NN.StyleTwo},[a.kF.ROW_STORE]:{count:2}}},{breakpoint:o.u3.desktop,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.xLarge)}},row:{[a.kF.ROW_ITEM_CONTAINER]:{count:1,style:a.NN.StyleTwo},[a.kF.ROW_STORE]:{count:1}}},{breakpoint:o.u3.tablet,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.large)}},row:{[a.kF.ROW_ITEM_CONTAINER]:{count:1,style:a.NN.StyleTwo},[a.kF.ROW_STORE]:{count:1}}},{breakpoint:t.n,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.large)}},row:{[a.kF.ROW_ITEM_CONTAINER]:{count:1,spacing:0,style:a.NN.StyleTwo}}},{breakpoint:o.u3.mobile,..._,header:{[a.kF.HEADER_SECTION]:{margin:"".concat(i.Q2.usage.space.medium)}}}],I=[u.b.Home,u.b.NavBar,u.b.RedirectAfterAddedItem,u.b.SearchResultPage,u.b.RetailCollectionPage,u.b.GlobalSearchBar]},275275:function(e,n,r){var t,i;r.d(n,{h:function(){return t}}),(i=t||(t={})).ALL="All",i.PERSONAL="Personal",i.BUSINESS="Business"},543704:function(e,n,r){r.d(n,{Jn:function(){return i},Mx:function(){return c},OS:function(){return d},S:function(){return a},X$:function(){return u},Z6:function(){return l},gS:function(){return s},sb:function(){return o}});var t=r(118700);let i=(e,n)=>(0,t.j)("cx_web_order_history_view_store_click",{store_id:n,cart_id:e}),o=(e,n,r)=>(0,t.j)("cx_web_order_history_reorder_click",{store_id:n,cart_id:e,is_group:r}),a=e=>(0,t.j)("w_order_tracker_order_prompt_banner",{order_uuid:e,screen:"order_history",action:"order_history_resolution_click"}),u=()=>(0,t.j)("consumer_orders_with_details_more_orders"),l=()=>(0,t.j)("order_history_page_load"),d=()=>(0,t.j)("order_help_page_load"),c=e=>(0,t.j)("order_action_tap_add_review",{store_id:e,placement:"history"}),s=e=>{let{orderUuid:n,isBundle:r=!1,bundleType:i}=e;return(0,t.j)("card_view",{order_uuid:n,is_bundled:r,is_live_order:!0,bundle_type:i})}},710273:function(e,n,r){r.d(n,{Ar:function(){return p},D8:function(){return g},Oh:function(){return R},bG:function(){return i},fA:function(){return f},h2:function(){return s},rh:function(){return v},ve:function(){return m}});var t,i,o=r(835146),a=r.n(o),u=r(562636),l=r(987867),d=r(387974),c=r(150993);let s=(e,n)=>{let[r,t]=a()(e,e=>!n(e));return{uncompletedOrders:r,completedOrders:t}},m=(e,n)=>{let[r,t]=a()(e,n);return{openOrders:t,inProgressOrders:r}},f=(e,n)=>{let[r]=a()(e,n);return{recurringDeliveryOrders:r}};(t=i||(i={}))[t.History=0]="History",t[t.Help=1]="Help";let p=(e,n)=>{let[r,t]=a()(e,e=>n(e));return{pendingOrders:r,nonPendingOrders:t}},v=e=>1===e,g=e=>0===e||void 0,h=(e,n)=>(0,u.LT)((0,c.Lq)(e),{},null!=n?n:{}),E=e=>(0,c.zT)(e),O=e=>{let n,{isNativeGiftCardOrderCart:r,doubleDashEligibilityInfo:t}=e;return r?n={fulfillmentType:"virtual"}:(null==t?void 0:t.skipDoubleDash)&&(n={"doubledash-redirect":"false"}),n},R=(e,n,r,t,i)=>{let o=(0,l.BF)(e," •"),a=(0,l.TT)(e),u=(0,l.o6)(e,r,t),s=h(a,O({isNativeGiftCardOrderCart:(0,d.hr)(e.fulfillmentType),doubleDashEligibilityInfo:i})),m=E(a),f=(0,c.FK)(a),p=n?(null==i?void 0:i.isDoubleDashEligible)?f:s:m;return{cartId:a,consumerId:(0,l.$S)(e),href:p,isDashPass:(0,l.N3)(e),isGroupCart:(0,l.yE)(e),isSubmitted:(0,l.lc)(e),isCancelled:(0,l.Rz)(e),numItems:o.numItems,orderId:a,orderItemNames:o.orderItemsNames,orderTimestamp:u,priceToDisplay:(0,l.DY)(e),storeId:(0,l.Di)(e),storeName:(0,l.tC)(e),deliveryId:(0,l.mB)(e),isComplete:(0,l.H5)(e),isReorderable:(0,l.TQ)(e),isPending:(0,l.kO)(e),resolutionHref:s,viewReceiptHref:s,creator:(0,l.nq)(e),fulfillmentType:e.fulfillmentType,orderFilterType:e.orderFilterType,cancellationReorderInfo:e.cancellationReorderInfo}}},987867:function(e,n,r){r.d(n,{$S:function(){return h},BF:function(){return I},DY:function(){return g},Di:function(){return C},Fw:function(){return D},H5:function(){return u.H5},N3:function(){return R},P3:function(){return p},QD:function(){return f},Rz:function(){return c},TQ:function(){return s},TT:function(){return O},XS:function(){return u.XS},kO:function(){return m},lc:function(){return u.lc},mB:function(){return A},nO:function(){return T},nq:function(){return E},o6:function(){return _},tC:function(){return N},yE:function(){return v}});var t=r(710273),i=r(332210),o=r(565872),a=r(980928),u=r(356333);let l=e=>!!(e.cancellationPendingRefundInfo&&"CANCELLATION_REFUND_STATE_PENDING"===e.cancellationPendingRefundInfo.state),d=e=>!!(null==e?void 0:e.recurringOrderDetails),c=e=>!!e.cancelledAt,s=e=>!!e.isReorderable,m=e=>{var n;return(null===(n=e.cancellationPendingRefundInfo)||void 0===n?void 0:n.state)==="CANCELLATION_REFUND_STATE_PENDING"},f=e=>!!e.isMerchantShipping,p=e=>!!e.isPickup,v=e=>!!e.isGroup,g=e=>{var n,r;return null!==(r=null===(n=e.grandTotal)||void 0===n?void 0:n.displayString)&&void 0!==r?r:""},h=e=>{var n,r;return null!==(r=null===(n=e.creator)||void 0===n?void 0:n.id)&&void 0!==r?r:""},E=e=>e.creator,O=e=>{var n,r;return null!==(r=null!==(n=e.orderUuid)&&void 0!==n?n:e.id)&&void 0!==r?r:""},R=e=>!!e.isConsumerSubscriptionEligible,_=(e,n,r)=>e.cancelledAt?y(e.cancelledAt,n,r):e.fulfilledAt?y(e.fulfilledAt,n,r):e.submittedAt?S(e,n,r):y(e.createdAt,n,r),y=(e,n,r)=>e?(0,i.cu)({isoString:e,locale:r,dateOptions:o.gz.DAY_OF_WEEK_MONTH_DATE_SHORT.value,timeZone:n}):"",I=function(e){var n;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",t=0,i=[];return null===(n=e.orders)||void 0===n||n.forEach(e=>{var n;let r=null!==(n=null==e?void 0:e.items)&&void 0!==n?n:[];t+=r.reduce((e,n)=>e+((null==n?void 0:n.quantity)||0),0),r.forEach(e=>{(null==e?void 0:e.name)&&i.push(null==e?void 0:e.name)})}),{numItems:t,orderItemsNames:i.join("".concat(r," "))}},N=e=>{var n;return(null===(n=e.store)||void 0===n?void 0:n.name)||""},C=e=>{var n;return(null===(n=e.store)||void 0===n?void 0:n.id)||""},A=e=>e.deliveryUuid||"",S=(e,n,r)=>y(e.submittedAt,n,r),T=(e,n)=>{let{pendingOrders:r,nonPendingOrders:i}=(0,t.Ar)(e,l),o=F({orders:i,supportedBundleTypes:null!=n?n:[]}),a=k(o,i),{uncompletedOrders:c,completedOrders:s}=(0,t.h2)(a,u.H5),{inProgressOrders:m,openOrders:f}=(0,t.ve)(c,u.lc),{recurringDeliveryOrders:p}=(0,t.fA)(f,d);return o.length>0&&m.push(...o),{openOrders:f,inProgressOrders:m,completedOrders:s,recurringDeliveryOrders:p,pendingOrders:r}},D=e=>{let n=[];return e.orders.forEach(e=>{null!==e.orderUuid&&n.push(e.orderUuid)}),n.length>0?n:null},F=e=>{let{orders:n=[],supportedBundleTypes:r}=e;return n.filter(e=>{var t,i,o,l,d,c,s;return!!r.includes(null!==(c=null===(i=e.bundleOrderInfo)||void 0===i?void 0:null===(t=i.bundleOrderConfig)||void 0===t?void 0:t.bundleType)&&void 0!==c?c:a.v5z.BUNDLE_TYPE_UNSPECIFIED)&&(null===(l=e.bundleOrderInfo)||void 0===l?void 0:null===(o=l.bundleOrderConfig)||void 0===o?void 0:o.bundleOrderRole)===a.RZ4.BUNDLE_ORDER_ROLE_PRIMARY_ORDER&&(!!(0,u.D6)(e)||b(n,null!==(s=null==e?void 0:null===(d=e.bundleOrderInfo)||void 0===d?void 0:d.bundleOrderUuids)&&void 0!==s?s:[]))})},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null!=e.find(e=>n.includes(e.orderUuid)&&(0,u.D6)(e))},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.forEach(e=>{var n,t,i;r.push(null!==(t=e.orderUuid)&&void 0!==t?t:""),r.push(...null!==(i=null==e?void 0:null===(n=e.bundleOrderInfo)||void 0===n?void 0:n.bundleOrderUuids)&&void 0!==i?i:[])}),n.filter(e=>{var n;return!r.includes(null!==(n=null==e?void 0:e.orderUuid)&&void 0!==n?n:"")})}},140332:function(e,n,r){r.d(n,{m:function(){return v}});var t=r(512150),i=r(128842),o=r(908148),a=r(153875),u=r.n(a),l=r(543704),d=r(336494);function c(){let e=(0,d._)(["\n  query getConsumerOrdersWithDetails(\n    $offset: Int!\n    $limit: Int!\n    $includeCancelled: Boolean\n    $orderFilterType: OrderFilterType\n  ) {\n    getConsumerOrdersWithDetails(\n      offset: $offset\n      limit: $limit\n      includeCancelled: $includeCancelled\n      orderFilterType: $orderFilterType\n    ) {\n      id\n      orderUuid\n      deliveryUuid\n      createdAt\n      submittedAt\n      cancelledAt\n      fulfilledAt\n      specialInstructions\n      isConsumerSubscriptionEligible\n      isGroup\n      isReorderable\n      isGift\n      isPickup\n      isMerchantShipping\n      containsAlcohol\n      fulfillmentType\n      shoppingProtocol\n      orderFilterType\n      cancellationReorderInfo {\n        parentOrderUuid\n        parentDeliveryUuid\n        cancellationReorderType\n      }\n      creator {\n        ...ConsumerOrderCreatorFragment\n      }\n      deliveryAddress {\n        id\n        formattedAddress\n      }\n      orders {\n        id\n        creator {\n          ...ConsumerOrderCreatorFragment\n        }\n        items {\n          ...ConsumerOrderOrderItemFragment\n        }\n      }\n      paymentCard {\n        ...ConsumerOrderPaymentCardFragment\n      }\n      grandTotal {\n        unitAmount\n        currency\n        decimalPlaces\n        displayString\n        sign\n      }\n      likelyOosItems {\n        menuItemId\n        name\n        photoUrl\n      }\n      pollingInterval\n      store {\n        id\n        name\n        business {\n          id\n          name\n        }\n        phoneNumber\n        fulfillsOwnDeliveries\n        customerArrivedPickupInstructions\n        isPriceMatchingEnabled\n        priceMatchGuaranteeInfo {\n          headerDisplayString\n          bodyDisplayString\n          buttonDisplayString\n        }\n      }\n      recurringOrderDetails {\n        itemNames\n        consumerId\n        recurringOrderUpcomingOrderUuid\n        scheduledDeliveryDate\n        arrivalTimeDisplayString\n        storeName\n        isCancelled\n      }\n      bundleOrderInfo {\n        ...BundleOrderInfoFragment\n      }\n      cancellationPendingRefundInfo {\n        state\n        originalPaymentAmount {\n          unitAmount\n          currency\n          decimalPlaces\n          displayString\n          sign\n        }\n        creditAmount {\n          unitAmount\n          currency\n          decimalPlaces\n          displayString\n          sign\n        }\n      }\n    }\n  }\n\n  fragment ConsumerOrderPaymentCardFragment on ConsumerOrderPaymentCard {\n    id\n    last4\n    type\n  }\n\n  fragment ConsumerOrderOrderItemFragment on ConsumerOrderOrderItem {\n    id\n    name\n    quantity\n    specialInstructions\n    substitutionPreferences\n    orderItemExtras {\n      ...ConsumerOrderOrderItemExtraFragment\n    }\n    purchaseQuantity {\n      ...ConsumerOrderQuantityFragment\n    }\n    fulfillQuantity {\n      ...ConsumerOrderQuantityFragment\n    }\n    originalItemPrice\n    purchaseType\n  }\n\n  fragment ConsumerOrderOrderItemExtraOptionFields on OrderItemExtraOption {\n    menuExtraOptionId\n    name\n    description\n    price\n    quantity\n  }\n\n  fragment ConsumerOrderOrderItemExtraOptionFragment on OrderItemExtraOption {\n    ...ConsumerOrderOrderItemExtraOptionFields\n    orderItemExtras {\n      ...ConsumerOrderOrderItemExtraFields\n      orderItemExtraOptions {\n        ...ConsumerOrderOrderItemExtraOptionFields\n        orderItemExtras {\n          ...ConsumerOrderOrderItemExtraFields\n        }\n      }\n    }\n  }\n\n  fragment ConsumerOrderOrderItemExtraFields on OrderItemExtra {\n    menuItemExtraId\n    name\n  }\n\n  fragment ConsumerOrderOrderItemExtraFragment on OrderItemExtra {\n    ...ConsumerOrderOrderItemExtraFields\n    orderItemExtraOptions {\n      ...ConsumerOrderOrderItemExtraOptionFragment\n    }\n  }\n\n  fragment ConsumerOrderCreatorFragment on ConsumerOrderCreator {\n    id\n    firstName\n    lastName\n  }\n\n  fragment ConsumerOrderQuantityFragment on Quantity {\n    continuousQuantity {\n      quantity\n      unit\n    }\n    discreteQuantity {\n      quantity\n      unit\n    }\n  }\n\n  fragment BundleOrderInfoFragment on BundleOrderInfo {\n    primaryBundleOrderUuid\n    primaryBundleOrderId\n    bundleOrderUuids\n    bundleOrderConfig {\n      ...BundleOrderConfigFragment\n    }\n  }\n\n  fragment BundleOrderConfigFragment on BundleOrderConfig {\n    bundleType\n    bundleOrderRole\n  }\n"]);return c=function(){return e},e}let s=(0,r(74800).Ps)(c());var m=r(356333),f=r(980928),p=r(275275);let v=function(){var e,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d=t.useRef(!1),c=t.useRef(1),v=t.useRef(0),g=t.useRef(0),h={[p.h.ALL]:c,[p.h.PERSONAL]:v,[p.h.BUSINESS]:g},E=t.useRef(0),[O,R]=t.useState({[p.h.ALL]:!1,[p.h.PERSONAL]:!1,[p.h.BUSINESS]:!1}),_=(0,i.a)(s,{variables:{offset:0,limit:r,includeCancelled:!0},notifyOnNetworkStatusChange:!0,skip:a}),[y,I]=(0,o.t)(s,{variables:{offset:0,limit:r,includeCancelled:!0},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),N=a?I:_,C=null!==(n=null==N?void 0:null===(e=N.data)||void 0===e?void 0:e.getConsumerOrdersWithDetails)&&void 0!==n?n:[],A=(0,m.oS)(C);return E.current||(E.current=A.length),t.useEffect(()=>{a&&!d.current&&(y(),d.current=!0)},[a,y,d]),t.useEffect(()=>{var e,n;let r=null!==(n=null==_?void 0:null===(e=_.data)||void 0===e?void 0:e.getConsumerOrdersWithDetails.length)&&void 0!==n?n:0;!a&&r<10&&R({...O,[p.h.ALL]:!0})},[]),{orders:A,fetchMoreOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.h.ALL,n=h[e];N.fetchMore({variables:{offset:10*n.current,orderFilterType:(e=>{switch(e){case p.h.PERSONAL:return f.O9H.ORDER_FILTER_TYPE_PERSONAL;case p.h.BUSINESS:return f.O9H.ORDER_FILTER_TYPE_BUSINESS;default:return f.O9H.ORDER_FILTER_TYPE_UNSPECIFIED}})(e)},updateQuery:(n,r)=>{var t,i;let{fetchMoreResult:o}=r,a=null!==(t=n.getConsumerOrdersWithDetails)&&void 0!==t?t:[],l=null!==(i=null==o?void 0:o.getConsumerOrdersWithDetails)&&void 0!==i?i:[];if(!l.length)return R({...O,[e]:!0}),n;let d=l.length;E.current=E.current+d,d<10&&R({...O,[e]:!0});let c=[...a,...l],s=u()(c,(e,n)=>e.id===n.id&&e.orderUuid===n.orderUuid);s.sort((e,n)=>{let r=e.createdAt,t=n.createdAt;return(r?new Date(r):new Date)<(t?new Date(t):new Date)?1:-1});let f=(0,m.oS)(s);return{...n,getConsumerOrdersWithDetails:f}}}),n.current=n.current+1,(0,l.X$)()},loading:1===N.networkStatus,loadingPagination:3===N.networkStatus,isLastPage:O,error:N.error,startPolling:N.startPolling,stopPolling:N.stopPolling}}},356333:function(e,n,r){r.d(n,{D6:function(){return l},H5:function(){return a},XS:function(){return d},lc:function(){return u},oS:function(){return o}});var t=r(567757),i=r.n(t);let o=e=>{let n=i()(e),r={};return n.filter(e=>{var n;return!!(null===(n=e.cancellationReorderInfo)||void 0===n?void 0:n.parentOrderUuid)}).map(e=>{var n,t,i;let o=null===(n=e.cancellationReorderInfo)||void 0===n?void 0:n.parentOrderUuid;o&&(null===(t=e.cancellationReorderInfo)||void 0===t?void 0:t.cancellationReorderType)&&(r[o]=null===(i=e.cancellationReorderInfo)||void 0===i?void 0:i.cancellationReorderType)}),Object.keys(r).map(e=>{let t=n.find(n=>n.orderUuid===e);t&&(t.cancellationReorderInfo={parentOrderUuid:null,parentDeliveryUuid:null,cancellationReorderType:r[e],__typename:"CancellationReorderInfo"})}),n},a=e=>!!e.fulfilledAt||!!e.cancelledAt,u=e=>!!e.submittedAt,l=e=>!a(e)&&u(e),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter(e=>l(e))}},150993:function(e,n,r){var t,i,o,a;r.d(n,{CO:function(){return v},FK:function(){return s},Ii:function(){return E},J0:function(){return g},Ku:function(){return h},Lq:function(){return d},Nu:function(){return i},O_:function(){return m},Qm:function(){return f},d1:function(){return p},pM:function(){return u},u0:function(){return t},vB:function(){return O},zT:function(){return c},zu:function(){return l}});let u="/orders",l=e=>"/orders/".concat(e,"/").concat("substitutions"),d=e=>"/orders/".concat(e),c=e=>"/orders/".concat(e,"/help"),s=e=>"/doubledash/".concat(e),m="https://img.cdn4dd.com/s/managed/consumer/gifting/gift-box-icon.svg",f="Gift box icon",p="//www.doordash.com/consumer/invite/";(o=t||(t={})).GroupCartOrderHeader="GroupCartOrderHeader",o.RefundContainer="RefundContainer",o.RefundLineItem="RefundLineItem",o.ChargePendingText="ChargePendingText",o.ChargeRefundText="ChargeRefundText",(a=i||(i={})).CREATOR="creator",a.PARTICIPANT="participant";let v="mapbox://styles/doordash/clwjnrpvm00rh01q12iu9ag7u",g=18,h="order_tracker",E="fromNotification",O="fromPostCheckoutReorder"},128542:function(e,n,r){r.d(n,{D:function(){return d}});var t=r(157531),i=r(290085),o=r(3324),a=r(430282),u=r(779253);async function l(e){if(!(e instanceof Error))return"Unable to map React Query Error To DDError";if(e instanceof u.ResponseError){let{response:n}=e;try{let r=await n.json();return r.internal_message||r.localized_message||e.message}catch(e){return e.message}}if(e instanceof u.FetchError){let{cause:n}=e;return n.message||e.message}return u.RequiredError,e.message}function d(e,n,r){let{ethosAction:u,unifiedTelemetryAction:d}=r||{},c=(0,i.Q)(u);return(0,t.useMutation)({...e,onMutate:function(){for(var n,r,t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==d||null===(n=d.standardizedEventAction)||void 0===n||n.markEventStart(),null===(r=e.onMutate)||void 0===r?void 0:r.call(e,...i)},onError:async function(n){for(var r,t,i,u=arguments.length,s=Array(u>1?u-1:0),m=1;m<u;m++)s[m-1]=arguments[m];return c.trackFailure({[o.rI.internal_message]:await l(n),[o.rI.severity_level]:o.aB.error}),d&&d.standardizedEventAction&&d.isEnable&&d.standardizedEventAction.markEventEndWithOptionalData({...null===(t=d.markEventEndWithOptionalDataParams)||void 0===t?void 0:t.optionalData,err:(0,a.Y)(n)},null===(i=d.markEventEndWithOptionalDataParams)||void 0===i?void 0:i.freeFormCustomAttrs),null==e?void 0:null===(r=e.onError)||void 0===r?void 0:r.call(e,n,...s)},onSuccess:function(n){for(var r,t,i,o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return c.trackSuccess(),d&&d.standardizedEventAction&&d.isEnable&&d.standardizedEventAction.markEventEndWithOptionalData({...null===(t=d.markEventEndWithOptionalDataParams)||void 0===t?void 0:t.optionalData,actionResultPayload:n},null===(i=d.markEventEndWithOptionalDataParams)||void 0===i?void 0:i.freeFormCustomAttrs),null==e?void 0:null===(r=e.onSuccess)||void 0===r?void 0:r.call(e,n,...a)}},n)}}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b6fefb12-b11d-5aee-b071-afc57051ffbb")}catch(e){}}()
//# debugId=b6fefb12-b11d-5aee-b071-afc57051ffbb
//# sourceMappingURL=71046-f65e45a542b9b2b1.js.map
