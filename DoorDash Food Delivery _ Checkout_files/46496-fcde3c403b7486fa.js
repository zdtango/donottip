"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46496],{74232:function(e,t,n){var i=n(787536),o=n(95485),r=n(523328),a=n(403009);n(512150);var l=n(382263),s=n(787121),c=n(539687),d=n(236643),u=n(651315),f=n(345802),g=n(927330),p=n(92412),m=n(305032),h=n(614630),_=n(918615);let x=e=>{let{isAddressLabelEnabled:t,shouldShowCurrentLocationIcon:n,hasNoDefaultAddressShortname:i,addressLabelIcon:o}=e;return!t||n?void 0:i?l.IconType.Add:t?o:void 0};t.ZP=e=>{let{accessabilityString:t,label:n,aria:v,onClick:b,shouldShowCurrentLocationIcon:y,isAddressLabelEnabled:w,hasNoDefaultAddressShortname:C,addressLabelIcon:I,hideChevronIcon:S=!1,shouldUseV2:E}=e,{isMobile:N}=(0,h.ac)(),k=E?o.aV.default:void 0,Q=(null!=k?k:N)?o.aV.default:o.aV.none;return(0,i.jsx)(r.Z,{accessibilityDescribedBy:t,"aria-controls":v,"aria-haspopup":"true",isInline:!0,onClick:b,padding:Q,type:E?o.L$.tertiary:o.L$.flatPrimary,leadingIcon:x({isAddressLabelEnabled:w,shouldShowCurrentLocationIcon:y,hasNoDefaultAddressShortname:C,addressLabelIcon:I}),trailingIcon:w&&!S?l.IconType.ChevronDown:void 0,size:w?a.qE.small:void 0,"data-testid":_.m.addressTextButton,children:(0,i.jsxs)(s.Z,{size:y&&w?c.O8.xxSmall:c.O8.none,children:[y&&w&&(0,i.jsx)(d.Z,{type:l.IconType.LocationPointerFill,size:20,color:l.EY.currentColor}),(0,i.jsxs)(s.Z,{size:c.O8.none,alignItems:u.v2.center,children:[(0,i.jsx)(f.x,{textStyle:g.TextStyle.label.small.strong,overflow:p.lG.truncate,children:n}),!w&&!S&&(0,i.jsx)(d.Z,{type:l.IconType.ChevronDown,size:m.J.small,color:l.EY.currentColor,"data-testid":"AddressTextButtonChevronIcon"})]})]})})}},423539:function(e,t,n){n.d(t,{Q_:function(){return I},P4:function(){return C},qO:function(){return B},h3:function(){return k},rQ:function(){return Z},aq:function(){return U},sH:function(){return H},S3:function(){return j},d_:function(){return _},Qd:function(){return x},xU:function(){return v},jl:function(){return P},eA:function(){return L},MN:function(){return T},v$:function(){return E},UB:function(){return M},Cs:function(){return R},yr:function(){return G},vh:function(){return D},fC:function(){return S},ZE:function(){return b},uy:function(){return V},mf:function(){return h},j5:function(){return N},is:function(){return Q},kw:function(){return O},O:function(){return A}});var i=n(338772),o=n(878095),r=n(620382),a=n(352239),l=n(482480),s=n(345802),c=n(927330),d=n(787121),u=n(651315),f=n(539687),g=n(128663),p=n(176550),m=n(739138);let h=i.default.div.withConfig({componentId:"sc-407f683a-0"})(["display:flex;flex-wrap:nowrap;",""],e=>{let{isCaviar:t,shouldUseV2:n}=e;return"\n    > a:last-child {\n      background-color: ".concat(t?m.i2.SystemWhite:m.i2.SystemGrey10,";\n      min-height: ").concat(l.Q2.usage.space.xLarge,";\n    }\n      margin-right: ").concat(n?0:"calc(".concat(l.Q2.usage.space.legacyMedium," * 2)"),";\n      align-items: center;\n  ")}),_=i.default.div.withConfig({componentId:"sc-407f683a-1"})(["padding-left:",";display:flex;"],l.Q2.usage.space.xSmall),x=i.default.div.withConfig({componentId:"sc-407f683a-2"})(["display:flex;justify-content:center;align-items:center;margin-left:"," !important;"],e=>e.noMarginLeft?l.Q2.usage.space.none:l.Q2.usage.space.medium),v=i.default.div.withConfig({componentId:"sc-407f683a-3"})(["max-height:80vh;width:","px;"],400),b=96,y=(0,i.keyframes)(["from{opacity:0;}to{opacity:1;}"]),w=(0,i.keyframes)(["from{opacity:1;}to{opacity:0;}"]),C=i.default.div.withConfig({componentId:"sc-6335df02-0"})(["max-width:220px;display:flex;align-items:center;"]),I=i.default.span.withConfig({componentId:"sc-6335df02-1"})(["display:inline-flex;transform:scale(1.5);transform-origin:center;margin-right:",";"],l.Q2.usage.space.small);(0,i.default)(s.x).attrs(()=>({textStyle:c.TextStyle.body.small.default})).withConfig({componentId:"sc-6335df02-2"})(["margin:0 ",";"],l.Q2.usage.space.xSmall);let S=i.default.header.withConfig({componentId:"sc-6335df02-3"})(["position:relative;z-index:",";padding-top:",";"],o.Lh,e=>{let{hasPaddingTop:t=!0,showBanner:n}=e;return t&&n?"".concat(o.Mz+b,"px"):t?"".concat(o.Mz,"px"):n?"".concat(b,"px"):l.Q2.usage.space.none}),E=i.default.header.withConfig({componentId:"sc-6335df02-4"})(["position:sticky;top:0;z-index:",";background-color:",";width:100%;"],o.Lh,l.Q2.usage.color.background.default),N=i.default.div.withConfig({componentId:"sc-6335df02-5"})(["align-items:center;background-color:",";display:flex;height:","px;left:0;position:fixed;top:0;width:100vw;z-index:",";"," animation:"," 0.5s ease-in-out;"],l.Q2.usage.color.background.default,e=>{let{showBanner:t}=e;return t?b:0},o.sQ,e=>{let{shouldUseV2:t=!1}=e;return!t&&"justify-content: space-between;"},e=>{let{showBanner:t}=e;return t?y:w}),k=i.default.div.withConfig({componentId:"sc-6335df02-6"})(["align-items:center;background-color:",";border-bottom:1px solid ",";display:flex;height:","px;left:0;position:fixed;top:","px;width:100vw;z-index:",";",""],l.Q2.usage.color.background.default,l.Q2.usage.color.border.default,o.Mz,e=>e.showBanner?b:0,o.sQ,e=>{let{shouldUseV2:t=!1}=e;return!t&&"justify-content: space-between;"}),Q=i.default.div.withConfig({componentId:"sc-6335df02-7"})(["align-items:center;background-color:",";border-bottom:1px solid ",";display:flex;justify-content:center;height:","px;left:0;top:","px;width:100%;z-index:",";",";",""],l.Q2.usage.color.background.default,l.Q2.usage.color.border.default,o.R7,e=>e.showBanner?b+o.Mz:o.Mz,o.sQ,e=>{let{isSideNavPresentingOnLeft:t,isSideNavCompact:n}=e;return t&&(0,r.t$)({isCompact:n})},e=>{let{useFixedPosition:t}=e;return t&&"position: fixed;"}),T=i.default.div.withConfig({componentId:"sc-6335df02-8"})(["flex:1;display:flex;justify-content:center;position:relative;right:0;left:0;margin:",";",""],e=>{let{isMobile:t}=e;return t?"auto ".concat(l.Q2.usage.space.medium," auto ").concat(l.Q2.usage.space.xxxSmall,"!important"):"auto ".concat(l.Q2.usage.space.large," auto ").concat(l.Q2.usage.space.none)},e=>!e.isMobile&&(0,i.css)(["background:linear-gradient( 90deg,rgb(255,255,255,0) 0%,rgb(255,255,255,1) 5%,rgb(255,255,255,1) 50%,rgb(255,255,255,1) 95%,rgb(255,255,255,0) 100% );"])),j=(0,i.default)(d.Z).attrs(()=>({justifyContent:u.dy.center,alignItems:u.v2.center,size:f.O8.xSmall})).withConfig({componentId:"sc-6335df02-9"})([""]),P=(0,i.default)(j).withConfig({componentId:"sc-6335df02-10"})(["margin-left:",";@media screen and (min-width:","px){margin-left:",";}"],l.Q2.usage.space.none,g.u3.wideScreen,l.Q2.usage.space.legacyXxxLarge),O=(0,i.default)(j).withConfig({componentId:"sc-6335df02-11"})(["justify-content:flex-end !important;align-items:center;margin-right:",";width:100%;@media screen and (min-width:","px){margin-right:","px;}"],l.Q2.usage.space.none,g.u3.wideScreen,e=>{let{noMarginRight:t}=e;return t?0:104}),L=(0,i.default)(j).withConfig({componentId:"sc-6335df02-12"})(["justify-content:center;",""],e=>{let{isSideNavCompact:t}=e;return"\n    @media screen and (min-width: ".concat(g.u3.tablet,"px) {\n      min-width: ").concat(a.BM.SIDE_NAV_COMPACT,"px;\n    }\n    @media screen and (min-width: ").concat(g.u3.desktop,"px) {\n      min-width: ").concat(t?a.BM.SIDE_NAV_COMPACT:a.BM.SIDE_NAV_STANDARD,"px;\n  }")}),A=(0,i.default)(j).withConfig({componentId:"sc-6335df02-13"})(["width:100%;"," max-width:","px;gap:",";padding-right:",";"],e=>{let{alignRight:t=!1}=e;return t?"justify-content: flex-end !important;":"margin: 0 auto;"},p._F,l.Q2.usage.space.xxxSmall,l.Q2.usage.space.medium),R=i.default.div.withConfig({componentId:"sc-6335df02-14"})(["display:flex;justify-content:center;align-items:center;& > * + *{margin-left:",";}"],e=>{let{shouldUseV2:t=!1}=e;return t?"".concat(l.Q2.usage.space.xxSmall,";"):"".concat(l.Q2.usage.space.small,";")}),M=i.default.div.withConfig({componentId:"sc-6335df02-15"})([""," position:absolute;height:",";width:",";background-color:",";border-radius:50%;text-align:center;padding-top:1px;"],e=>{let{shouldUseV2:t=!1}=e;return t?"\n        top: calc(-1 * ".concat(l.Q2.usage.space.xxSmall,");\n        right: 0px;\n        "):"\n        top: 1px;\n        right: ".concat(l.Q2.usage.space.xxxSmall,";\n      ")},l.Q2.usage.space.medium,l.Q2.usage.space.medium,l.Q2.usage.color.brand.primary),D=i.default.div.attrs(()=>({role:"button"})).withConfig({componentId:"sc-6335df02-16"})(["position:relative;"," &:hover{cursor:pointer;}"],e=>{let{noRightMargin:t}=e;return!t&&"margin-right: ".concat(l.Q2.usage.space.medium,";")}),G=i.default.div.withConfig({componentId:"sc-6335df02-17"})([""," margin-right:0px;&:last-child{margin-right:",";}"],e=>{let{noLeftMargin:t=!0}=e;return t&&"margin-left: 0 !important;"},e=>{let{isMobileTablet:t,noRightMargin:n}=e;return"".concat(n?l.Q2.usage.space.none:t?l.Q2.usage.space.medium:"calc(".concat(l.Q2.usage.space.legacyMedium," * 2)"))}),Z=i.default.div.withConfig({componentId:"sc-6335df02-18"})(["padding:0 calc("," - ",");display:flex;justify-content:center;align-items:center;cursor:pointer;"],l.Q2.usage.space.xSmall,l.Q2.usage.space.xxxSmall),H=i.default.div.withConfig({componentId:"sc-6335df02-19"})(["width:0;height:",";border:1px solid ",";border-radius:2px;"],l.Q2.usage.space.large,l.Q2.usage.color.border.default),U=i.default.div.withConfig({componentId:"sc-6335df02-20"})(["position:relative;display:flex;align-items:center;height:100%;margin-left:","!important;"],l.Q2.usage.space.xxSmall);i.default.div.withConfig({componentId:"sc-6335df02-21"})(["align-items:center;cursor:pointer;display:flex;height:100%;padding:"," ",";margin-right:",";&:after{content:'';position:absolute;width:100%;height:",";background-color:transparent;left:0;bottom:calc(-1 * ",");border-top-left-radius:",";border-top-right-radius:",";}"],l.Q2.usage.space.small,l.Q2.usage.space.xSmall,l.Q2.usage.space.small,l.Q2.usage.space.xxSmall,l.Q2.usage.space.xxSmall,l.Q2.usage.space.xxSmall,l.Q2.usage.space.xxSmall);let B=i.default.div.withConfig({componentId:"sc-6335df02-22"})(["position:relative;display:inline-flex;"]);i.default.div.withConfig({componentId:"sc-6335df02-23"})(["align-items:center;cursor:default;display:flex;height:100%;padding:0 ",";margin-right:",";position:relative;&:after{content:'';position:absolute;width:100%;height:",";background-color:",";left:0;bottom:calc(-1 * ",");border-top-left-radius:",";border-top-right-radius:",";}"],l.Q2.usage.space.xSmall,l.Q2.usage.space.small,l.Q2.usage.space.xxSmall,l.Q2.usage.color.text.selected,l.Q2.usage.space.xxSmall,l.Q2.usage.space.xxSmall,l.Q2.usage.space.xxSmall),(0,i.default)(s.x).attrs(()=>({textStyle:c.TextStyle.label.medium.default})).withConfig({componentId:"sc-6335df02-24"})(["overflow:hidden;text-align:center;text-overflow:ellipsis;width:100%;white-space:nowrap;"]),(0,i.default)(s.x).attrs(()=>({textStyle:c.TextStyle.label.medium.strong})).withConfig({componentId:"sc-6335df02-25"})(["overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%;display:flex;min-height:40px;justify-content:center;align-items:center;"]);let V=i.default.div.withConfig({componentId:"sc-6335df02-26"})(["position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0;"])},176654:function(e,t,n){n.r(t);var i=n(787536),o=n(228732),r=n(512150),a=n(118700),l=n(449046),s=n(158765),c=n(604166),d=n(900055),u=n(378933),f=n(829872),g=n(918615),p=n(156018),m=n(50870),h=n(74232),_=n(423539),x=n(533824),v=n(665585),b=n(386183),y=n(938581);t.default=e=>{var t,n,w,C;let{consumer:I,refetchQueries:S,refetchQueriesOnAddressUpdate:E,addressText:N,onAddressChange:k,isCurrentLocationEnabled:Q=!1,isCurrentLocationSelected:T=!1,onClickCurrentLocation:j,shouldShowInfoPickerTooltip:P,onClickAddress:O,placeholder:L}=e,[A,R]=r.useState(!1),{showSignInSignUpModal:M,setShowSignInSignUpModal:D,onIdentityLinkClick:G}=(0,u.Z)(),Z=(0,l.F)(),{isAddressLabelEnabled:H}=(0,f.Z)(),U=(0,b.n)(),B=r.useCallback(e=>{R(!1),null==k||k(e)},[k]),V=(0,m.R)((null==U?void 0:U.id)||"",B);return Z?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.L,{isOpen:M,setShowSignInSignUpModal:D,onClose:()=>D(!1)}),(0,i.jsx)(y.M,{children:!M&&(0,i.jsxs)(_.Qd,{noMarginLeft:!I.isGuest,"data-testid":g.m.infoPickerMobile,children:[(0,i.jsx)(v.p,{shouldShowInfoPickerTooltip:P,children:(0,i.jsx)(h.ZP,{label:(0,x.ow)({addressTextProp:N,defaultAddress:I.defaultAddress,isAddressLabelEnabled:H}),accessabilityString:"",aria:"layout-address-picker",hideChevronIcon:H&&!(null===(t=I.defaultAddress)||void 0===t?void 0:t.shortname),onClick:()=>{var e;null==O||O(),R(!0),(0,a.j)("m_homepage_tap_default_address",{delivery_address_id:(null==I?void 0:null===(e=I.defaultAddress)||void 0===e?void 0:e.id)||null})},shouldShowCurrentLocationIcon:T&&H,isAddressLabelEnabled:H,hasNoDefaultAddressShortname:!(null===(n=I.defaultAddress)||void 0===n?void 0:n.shortname),addressLabelIcon:(0,s.at)(null===(C=I.defaultAddress)||void 0===C?void 0:null===(w=C.personalAddressLabel)||void 0===w?void 0:w.labelIcon,!0)})}),A&&(0,i.jsx)(i.Fragment,{children:H?(0,i.jsx)(c.Z,{addressEntryPoint:"Common/Layout/Header/InfoPickerMobile",onChange:V,customizations:{renderAutocompleteSuggestionsInAnchoredLayer:!0,hideAutoCompleteLabel:!0},refetchQueries:E||S,hasCloseButton:!0,isCurrentLocationEnabled:Q,isCurrentLocationSelected:T,onClose:()=>R(!1),onClickCurrentLocation:j}):(0,i.jsx)(o.Z,{isOpen:!0,shouldEnableLegacyConditionalRendering:!0,shouldAnimate:!0,title:"",onClose:()=>{B()},isFooterFixedPosition:!0,children:(0,i.jsx)(p.Z,{consumer:I,handleIdentityLinkClick:G,handlePickerClose:B,refetchQueries:E||S,placeholder:L})})})]})})]}):null}},726865:function(e,t,n){n.d(t,{K9:function(){return d},eY:function(){return p},g:function(){return u},sm:function(){return g},wX:function(){return f}});var i=n(512150),o=n(175781),r=n(506178),a=n(866037),l=n(675089),s=n(562636),c=n(118700);let d=e=>{var t,n;return(0,c.j)("action_select_order_cart",{store_id:null==e?void 0:null===(t=e.restaurant)||void 0===t?void 0:t.id,order_cart_id:null==e?void 0:e.id,menu_id:null==e?void 0:null===(n=e.menu)||void 0===n?void 0:n.id,is_group_order:null==e?void 0:e.groupCart})},u=(e,t)=>{e&&(0,c.j)("home_page_cart_icon_click",{num_cart:t})},f=e=>{(0,c.j)("home_page_cart_icon_view",{num_cart:e})},g=e=>{let t=e===s.ZP.home?"delivery":"pickup";(0,c.j)("select_tab",{name:t})},p=()=>{let{patchContexts:e}=(0,i.useContext)(o.V),t=(0,r.xk)(a.bW.TOGGLE_BUTTON,{entityType:"none"},{});return(n,i)=>{let o=n===s.ZP.home,r=o?"delivery":"pickup";e({pageContext:{tab:{tabId:o?l.E.HOME:l.E.PICKUP,tabName:r,tabPosition:i}}}),t(null,{viewType:a.bW.TOGGLE_BUTTON,viewEntityInfo:{entityType:"none"},extras:{customAttrs:{name:r}}})}}},156018:function(e,t,n){var i=n(787536);n(512150);var o=n(112835),r=n(50870),a=n(386183);t.Z=e=>{let{consumer:t,handlePickerClose:n,refetchQueries:l,renderBeforeAddressList:s,handleIdentityLinkClick:c,isCurrentLocationEnabled:d,isCurrentLocationSelected:u,onClickCurrentLocation:f,placeholder:g}=e,p=(0,a.n)(),m=(null==p?void 0:p.id)||"",h=(0,r.R)(m,n);return(0,i.jsx)(o.Z,{addressEntryPoint:"Common/Layout/LayoutAddressPicker",consumer:t,onChange:h,refetchQueries:l,isStaticPositionSuggestions:!0,renderBeforeAddressList:s,handleIdentityLinkClick:c,isCurrentLocationEnabled:d,isCurrentLocationSelected:u,onClickCurrentLocation:f,placeholder:g})}},50870:function(e,t,n){n.d(t,{R:function(){return s}});var i=n(512150),o=n(601439),r=n(948350),a=n(756780),l=n(849810);let s=(e,t)=>{let n=(0,l.bU)(),s=(0,o.Z)({cartId:e}),{shouldShowOpenCarts:c}=(0,a.G)(),d=i.useCallback(t=>c?t:e,[e,c]);return i.useCallback(async(e,i)=>{t(e);let o=d(i);if(o)try{await s(o)}catch(e){(0,r.gs)({giftOptions:null,message:e,entryPoint:r.JE.ADDRESS_PICKER},n)}},[t,d,s,n])}},993957:function(e,t,n){n.d(t,{$j:function(){return y},B8:function(){return T},DP:function(){return _},Ep:function(){return O},Gq:function(){return I},IV:function(){return g},JR:function(){return x},M$:function(){return m},Ou:function(){return h},Rz:function(){return a},SJ:function(){return w},SP:function(){return P},XG:function(){return C},YU:function(){return p},cI:function(){return N},cg:function(){return k},f$:function(){return S},hs:function(){return v},ln:function(){return r},m:function(){return A},m0:function(){return E},nG:function(){return L},nK:function(){return R},qJ:function(){return b},s9:function(){return Q},vy:function(){return j}});var i,o,r,a,l=n(118700),s=n(613333),c=n.n(s),d=n(814116);(i=r||(r={})).Store="store",i.Checkout="checkout",i.Address="address",(o=a||(a={})).Na="na",o.Pickup="pickup",o.GroupOrder="group order";let u=(e,t)=>({hasGiftOption:!!e,hasRecipientName:!!(0,d.cj)(e,t),hasRecipientPhone:!!e.recipientPhone,shouldDoordashTextRecipient:e.shouldDoordashTextRecipient,shouldDasherContactRecipient:e.shouldDasherContactRecipient,cardMessage:e.cardMessage,digitalCard:e.cardId}),f=e=>{var t,n;return{storeId:null!==(n=null===(t=e.restaurant)||void 0===t?void 0:t.id)&&void 0!==n?n:"",orderCartId:e.id}},g=(e,t)=>M("send_as_gift_click",{...f(e),isMerchantShipping:!!e.isMerchantShipping,clickFrom:t}),p=e=>M("send_as_gift_modal_load ",f(e)),m=(e,t,n,i)=>M("save_gift_click",{...f(t),...u(e,i),recipientCanSchedule:!!e.shouldRecipientScheduleGift,isMerchantShipping:!!t.isMerchantShipping,hasValidEmail:!!e.recipientEmail,clickFrom:n}),h=e=>M("gift_modal_error",f(e)),_=e=>M("remove_gift_pop_up_view",f(e)),x=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"na";return M("remove_gift_confirm_click",{...f(e),clickFrom:t,switchedFulfillmentTo:n})},v=(e,t,n)=>M("gift_recipient_info_next",{...f(t),...u(e,n)}),b=e=>M("phone_info_click",f(e)),y=e=>M("gift_preview_load",f(e)),w=e=>M("gift_preview_confirm",f(e)),C=e=>M("gift_preview_back",f(e)),I=(e,t,n)=>M("gift_alcohol_info_next",{...f(t),...u(e,n)}),S=(e,t,n)=>M("gift_alcohol_info_back",{...f(t),...u(e,n)}),E=(e,t,n)=>M("checkout_gift_alcohol_missing_phone_number_error",{...f(t),...u(e,n)}),N=()=>{(0,l.j)("send_as_gift_schedule_toggle_on")},k=()=>{(0,l.j)("send_as_gift_schedule_toggle_off")},Q=()=>{(0,l.j)("checkout_delivery_time_gift_schedule_toggle_on")},T=()=>{(0,l.j)("checkout_delivery_time_gift_schedule_toggle_off")},j=e=>{if(!e)return{};let t=e.hasGiftIntent?"store":"checkout";return{has_gift_option:!!e,has_gift_recipient_phone_number:!!e.recipientPhone,gift_message:e.cardMessage,digital_card:e.cardId,recipient_can_schedule:!!e.shouldRecipientScheduleGift,save_gift_from:t}},P=e=>{var t,n,i;let o=!!(null===(n=e.domain)||void 0===n?void 0:null===(t=n.giftInfo)||void 0===t?void 0:t.hasGiftIntent),r=!!(null===(i=e.domain)||void 0===i?void 0:i.giftInfo);return r?{gift_intent:o,is_gift:r}:{is_gift:!1}},O=e=>{let{isMerchantShipping:t,isRemove:n,isSuccessful:i}=e;(0,l.j)("gift_update_meal_gift_result",{is_merchant_shipping:t,is_remove:n,is_successful:i})},L=()=>(0,l.j)("gift_switch_to_pickup_load"),A=()=>(0,l.j)("gift_switch_to_pickup_confirm_click"),R=e=>{var t,n,i,o;return{gift_intent:!!(null==e?void 0:null===(n=e.domain)||void 0===n?void 0:null===(t=n.giftInfo)||void 0===t?void 0:t.hasGiftIntent),is_gift:!!(null==e?void 0:null===(o=e.domain)||void 0===o?void 0:null===(i=o.giftInfo)||void 0===i?void 0:i.recipientName)}},M=(e,t)=>{let n=Object.assign({},...Object.entries(t).map(e=>{let[t,n]=e;return{[c()(t)]:n}}));(0,l.j)(e,n)}},601439:function(e,t,n){n.d(t,{o:function(){return d}});var i=n(336494),o=n(74800),r=n(804794),a=n(993957),l=n(487716),s=n(849810);function c(){let e=(0,i._)(["\n  mutation removeCartGiftInfo($cartId: ID!) {\n    removeCartGiftInfo(cartId: $cartId)\n  }\n"]);return c=function(){return e},e}let d="GIFT_INFO_REMOVED_EVENT",u=(0,o.Ps)(c());t.Z=e=>{let{cartId:t,isMerchantShipping:n=!1,updateApolloCache:i=!0,refetchQueries:o}=e,c=(0,s.bU)(),[f]=(0,r.D)(u,{variables:{cartId:t},refetchQueries:o});return e=>f({variables:{cartId:e||t},...i?{update:(n,i)=>{let{data:o}=i;(0,l.vX)({cache:n,data:o,cartId:e||t,locale:c})}}:{}}).then(e=>{var t;let i=(null===(t=e.data)||void 0===t?void 0:t.removeCartGiftInfo)===!0;if((0,a.Ep)({isMerchantShipping:n,isRemove:!0,isSuccessful:i}),i)window.dispatchEvent(new Event(d));else throw Error("unable to remove gift info from cart")})}},487716:function(e,t,n){n.d(t,{Y9:function(){return l},ri:function(){return r},vX:function(){return s}});var i=n(579401),o=n(948350);let r={recipientName:"",recipientGivenName:"",recipientFamilyName:"",recipientPhone:"",recipientEmail:"",cardMessage:"",cardId:"",senderName:"",shouldNotifyTrackingToRecipientOnDasherAssign:null,shouldNotifyRecipientForDasherQuestions:null,shouldRecipientScheduleGift:!1,hasGiftIntent:null,__typename:"OrderCartGiftOptions"},a=e=>{let{cartId:t,mutationResp:n,cache:o}=e,r=o.readQuery({query:i.U}),a=null==r?void 0:r.consumer,l=null==a?void 0:a.orderCart,s=null==l?void 0:l.domain,c=!!a&&!!l&&!!s&&!0===n&&l.id===t;return{consumer:a,consumerOrderCart:l,domain:s,canWrite:c}},l=e=>{let{cartId:t,cache:n,data:l,newUpdateCartGiftInfoInput:s,locale:c}=e;try{let{consumer:e,consumerOrderCart:o,domain:c,canWrite:d}=a({cartId:t,cache:n,mutationResp:null==l?void 0:l.updateCartGiftInfo});d&&n.writeQuery({query:i.U,data:{consumer:{...e,orderCart:{...o,domain:{...c,giftInfo:{...r,...s}}}}}})}catch(e){(0,o.gs)({giftOptions:null,message:"Error updating gift info on consumer cart cache",entryPoint:o.JE.APOLLO_CACHE_UPDATE},c)}},s=e=>{let{cache:t,data:n,cartId:l,locale:s}=e;try{let{consumer:e,consumerOrderCart:o,domain:s,canWrite:c}=a({cartId:l,cache:t,mutationResp:null==n?void 0:n.removeCartGiftInfo});c&&t.writeQuery({query:i.U,data:{consumer:{...e,orderCart:{...o,domain:{...s,giftInfo:{...r}}}}}})}catch(e){(0,o.gs)({giftOptions:null,message:"Error removing gift info on consumer cart cache",entryPoint:o.JE.APOLLO_CACHE_UPDATE},s)}}},948350:function(e,t,n){n.d(t,{JE:function(){return o},gs:function(){return d}});var i,o,r=n(497247),a=n(814116);let l={feature:"meal_gifting"};(i=o||(o={})).ADDRESS_PICKER="LayoutAddressPicker",i.CARD_CAROUSEL="CardCarousel",i.CHECKOUT_INFO="CheckoutInfo",i.CHECKOUT_INFO_V2="CheckoutInfoV2",i.GIFT_OPTION_PANEL_V2="GiftOptionPanelV2",i.MESSAGE_PREVIEW="MessagePreview",i.WIZARD="MealGiftingWizard",i.WIZARDV2="MealGiftingWizardV2",i.GIFTING_TIMEPICKER_MODAL="GiftingTimePickerModal",i.TIMEPANEL="TimePanel",i.GIFT_ENTRY_STORE_PAGE="GiftEntryStorePage",i.APOLLO_CACHE_UPDATE="ApolloCacheUpdate";let s=(e,t)=>({hasRecipientPhoneNumber:!!e.recipientPhone,hasRecipientName:!!(0,a.cj)(e,t),hasGiftMessage:!!e.cardMessage,recipientCountryCode:e.recipientCountryCode,selectedVirtualCard:e.cardId}),c=(e,t,n)=>{let i={component:t.entryPoint};t.giftOptions&&(i={...i,...s(t.giftOptions,n)});let o={level:e,message:t.message,contexts:{"Meal Gifting Context":i},tags:l};return(0,r.eN)(o)},d=(e,t)=>c("error",e,t)},30257:function(e,t,n){n.d(t,{Z:function(){return td}});var i,o,r,a,l,s=n(787536),c=n(512150),d=n(338772),u=n(845307),f=n(236643),g=n(382263),p=n(305032),m=n(482480),h=n(299268),_=n(403009);let x=e=>{let{children:t}=e;return(0,s.jsx)(u.iS,{overrides:e=>{let{base:t,usage:n}=e;return{comp:{color:{button:{flatSecondary:{background:{hovered:n.color.background.default},text:{default:t.color.neutral[80],hovered:t.color.neutral[80]}}}}}}},children:t})},v=e=>{let{...t}=e;return(0,s.jsx)(x,{children:(0,s.jsx)(h.Z,{size:_.rm.medium,...t})})},b=(0,d.default)(f.Z).attrs(()=>({type:g.IconType.StatusDotOpenColor,size:p.J.tiny,color:g.EY.brand.primary})).withConfig({componentId:"sc-684f834f-0"})(["position:absolute;right:calc(-1 * ",");top:",";right:calc(-1 * ",");top:calc(-1 * ",");border:"," solid ",";border-radius:",";"],m.Q2.usage.space.xSmall,m.Q2.usage.space.xxxSmall,m.Q2.usage.space.xSmall,m.Q2.usage.space.xxxSmall,m.Q2.usage.borderWidth.strong,m.Q2.usage.color.background.default,m.Q2.usage.borderRadius.full),y=d.default.div.withConfig({componentId:"sc-684f834f-1"})(["position:absolute;top:-3px;right:calc(-1 * ",");height:",";width:",";background-color:",";border-radius:50%;display:flex;flex-direction:column;justify-content:center;align-items:center;"],m.Q2.usage.space.small,m.Q2.usage.space.medium,m.Q2.usage.space.medium,m.Q2.usage.color.brand.primary),w=(0,d.default)("div").withConfig({componentId:"sc-684f834f-2"})(["display:flex;align-items:center;margin-right:",";position:relative;cursor:pointer;width:",";height:",";"],m.Q2.usage.space.xSmall,m.Q2.usage.space.large,m.Q2.usage.space.xLarge);var C=n(691671),I=n(336494),S=n(74800),E=n(908148);function N(){let e=(0,I._)(["\n  query getHasNewNotifications {\n    getHasNewNotifications {\n      hasNewNotifications\n      numUnreadNotifications\n    }\n  }\n"]);return N=function(){return e},e}let k=(0,S.Ps)(N());var Q=()=>(0,E.t)(k,{variables:{},fetchPolicy:"network-only",errorPolicy:"all"}),T=n(204315),j=n(412783),P=n(862871);let O=e=>{let{pollingInterval:t,pollingRequestFn:n,inactiveTabPollingInterval:i,pollWhenTabIsInactive:o}=e,r=c.useRef(),a=c.useCallback(()=>{r.current&&(clearInterval(r.current),r.current=null)},[]),l=c.useCallback(e=>{if(r.current&&a(),!r.current&&e){let t=setInterval(()=>{n()},e);r.current=t}},[n,a]),s=c.useCallback(()=>{var e;let n=(null===(e=document)||void 0===e?void 0:e.visibilityState)==="visible"?t:i||t;n&&l(n)},[i,t,l]);return c.useEffect(()=>{if(o){var e;null===(e=document)||void 0===e||e.addEventListener("visibilitychange",s)}return()=>{if(o){var e;null===(e=document)||void 0===e||e.removeEventListener("visibilitychange",s)}}},[s,o]),c.useEffect(()=>(t?l(t):a(),a),[t,l,a]),{stopPolling:a}},L=function(){var e;let{enablePolling:t=!1,pollingInterval:n=3e4,shouldSkipQuery:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[o,r]=c.useState(!1),[a,{loading:l,data:s,error:d,called:u}]=Q(),{hasNewNotifications:f,numUnreadNotifications:g}=null!==(e=null==s?void 0:s.getHasNewNotifications)&&void 0!==e?e:{},{stopPolling:p}=O({pollingRequestFn:a,pollingInterval:t?n:null,inactiveTabPollingInterval:4*n,pollWhenTabIsInactive:!0});return c.useEffect(()=>{u||i||a()},[u,a,i]),c.useEffect(()=>{l||(null==f||null==g||d?(p(),r(!1),(0,C.hd)({origin:"useHasNewNotifications",client_error_id:T.N.Query,component:j.F.Notifications,error_message:(0,P.yd)(d),internal_error_message:T.D.HasNewNotificationsError,error_type:T.N.Query})):r(f))},[l,f,g,d,p]),{hasNewNotifications:o,numNewNotifications:g}};var A=n(892636);let R=c.createContext({notifications:null,setNotifications:()=>null,providerExistsAsParent:!1,showNotificationsContainer:!1,setShowNotificationsContainer:()=>null,hasViewedNotifications:!1,newNotificationsData:{hasNewNotifications:!1,numNewNotifications:0},setHasViewedNotifications:()=>null}),M=()=>c.useContext(R);var D=n(83371),G=n(118700),Z=n(361040);let H=e=>e<9?e.toString():Z.ZP.t("unread_notifications_max_count",{maxUnreadNotifications:9});var U=n(448627),B=n(345802),V=n(927330),F=n(739138),z=n(667007),W=n(574794),$=n(230649),K=n(95485),q=n(140332);let Y=()=>{if(document)return document.hasFocus();throw Error("document is not found when evaluating window focus")},X=e=>{let{limit:t=5,shouldPoll:n,pollInterval:i=6e4,shouldUseLazyQuery:o=!1}=e,{orders:r,fetchMoreOrders:a,loading:l,loadingPagination:s,isLastPage:d,error:u,startPolling:f,stopPolling:g}=(0,q.m)(t,o),{isWindowFocused:p}=function(){let[e,t]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{try{let e=Y();t(e)}catch(e){t(!1)}let e=()=>t(!0),n=()=>t(!1);return window.addEventListener("focus",e),window.addEventListener("blur",n),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",n)}},[]),{isWindowFocused:e}}();return(0,c.useEffect)(()=>{if(p&&n&&f){f(i);return}g&&g()},[i,n,f,g,p]),{orders:r,fetchMoreOrders:a,loading:l,loadingPagination:s,isLastPage:d,error:u,startPolling:f,stopPolling:g}};var J=n(987867);(i=r||(r={})).StaticOrderTracker="StaticOrderTracker",i.LiveOrderTracker="LiveOrderTracker";var ee=n(980928);let et=e=>{let{pollInterval:t,shouldPoll:n=!1,shouldUseLazyQuery:i=!1}=e,{orders:o,loading:a,error:l}=X({shouldPoll:n,pollInterval:t,shouldUseLazyQuery:i}),s=a||l||!(o.length>0)?[]:(0,J.XS)(o).filter(e=>e.fulfillmentType!==ee.LK5.Virtual),c=s.length,d=c>0,u=null;return d&&(u=1===c?r.LiveOrderTracker:r.StaticOrderTracker),{inProgressOrders:s,hasOrderTracker:d,orderTrackerType:u,count:c,ordersLoading:a,error:l}},en=e=>{let{shouldPoll:t}=e,{newNotificationsData:{hasNewNotifications:n,numNewNotifications:i},hasViewedNotifications:o,showNotificationsContainer:r}=M(),{hasOrderTracker:a,error:l}=et({shouldPoll:t,shouldUseLazyQuery:!0});l&&(0,C.hd)({origin:"useGetOrderTrackerDetailsWithPolling",client_error_id:T.N.Query,component:j.F.Notifications,error_message:(0,P.yd)(l),internal_error_message:T.D.NotificationHubOrderDetailsError,error_type:T.N.Query});let s=!o&&n,c=!1,d=!1;return a?d=!r&&(s||a):c=!r&&s,{showCountBadge:c,showDotBadge:d,hasOrderTracker:a,numNewNotifications:i}};var ei=n(852369);let eo=(e,t)=>"(".concat(t<10?t:"9+",") ").concat(e),er=()=>{let{hasViewedNotifications:e,newNotificationsData:{numNewNotifications:t}}=M(),n=(0,c.useRef)(null);c.useEffect(()=>(null===n.current&&document.title&&(n.current=document.title),()=>{null!==n.current&&(document.title=n.current)}),[]),c.useEffect(()=>{if(!(null==n?void 0:n.current))return;let i=n.current;t&&!e&&(i=eo(n.current,t)),(0,ei.pj)({pageTitle:i})},[t,e])};var ea=e=>{let{isBellIconSelected:t,onBellIconClick:n,describedBy:i,isBadgeDisabled:o}=e,{showNotificationsContainer:r,newNotificationsData:{numNewNotifications:a}}=M(),{isSEOInpFixesEnabled:l}=(0,$.Ih)(),[d,u]=c.useTransition(),{isMobile:f}=(0,U.s)(),{showCountBadge:p,showDotBadge:m,hasOrderTracker:h}=en({shouldPoll:!r});return er(),(0,s.jsxs)(w,{role:"button",onClick:()=>{u(()=>{(0,G.j)("notif_hub_entry_point_click",{is_badged:p||m,has_active_order:h,action_button:!r}),null==n||n()})},"data-testid":D.dM.NotificationBell,children:[(0,s.jsx)(()=>d?(0,s.jsx)(z.g,{size:W.E$.small,color:W.nm.dark}):(0,s.jsx)(v,{iconType:t?g.IconType.NotifyFill:g.IconType.NotifyLine,size:_.rm.small,type:f?void 0:K.xZ.tertiary,accessibilityLabel:"Notification Bell",accessibilityDescribedBy:i,"data-testid":D.dM.HeaderNotificationBellIcon}),{}),!o&&m&&(0,s.jsx)(b,{}),!o&&p&&a&&(0,s.jsx)(y,{children:(0,s.jsx)(B.x,{size:V.yH.xxSmall,color:F.i2.SystemWhite,weight:V.fs.bold,children:H(a)})})]})},el=n(283479),es=n(583413),ec=n(163465),ed=n(443561),eu=n(128663),ef=n(18187),eg=n(932548);let ep=d.default.div.withConfig({componentId:"sc-7b461476-0"})(["width:100%;height ","px;display:flex;flex-direction:column;justify-content:center;padding-left:",";"],48,m.Q2.usage.space.medium),em=(0,d.default)("div").withConfig({componentId:"sc-7b461476-1"})(["width:",";min-height:","px;display:flex;flex-direction:column;align-items:center;"],e=>e.isMobile||e.isSidesheetEnabled?"100%":"".concat(410,"px"),650),eh=(0,d.default)("div").withConfig({componentId:"sc-7b461476-2"})(["",";width:100%;"],e=>!e.isMobile&&"height: ".concat(e.isSidesheetEnabled?"100%":"".concat(602,"px"),";\n  overflow-y:auto")),e_=d.default.div.withConfig({componentId:"sc-7b461476-3"})(["height:","px;width:100%;display:flex;justify-content:center;align-items:center;"],650),ex=d.default.div.withConfig({componentId:"sc-7b461476-4"})(["display:flex;flex-direction:column;align-items:center;"]),ev=d.default.img.withConfig({componentId:"sc-7b461476-5"})(["max-width:280px;margin-left:calc(-1 * ",");margin-top:",";"],m.Q2.usage.space.medium,m.Q2.usage.space.xLarge),eb=d.default.img.withConfig({componentId:"sc-7b461476-6"})(["max-width:280px;margin-left:",";"],m.Q2.usage.space.large),ey=(0,d.default)(B.x).withConfig({componentId:"sc-7b461476-7"})(["text-align:center;"]),ew=(0,d.default)(ed.Z).withConfig({componentId:"sc-7b461476-8"})(["margin:",";"],m.Q2.usage.space.large),eC={breakpoint:eu.u3.mobile,canvas:{margin:"calc(".concat(m.Q2.usage.space.xxxLarge," + ").concat(m.Q2.usage.space.xSmall,")"),padding:eg.U2.noneSpacing},card:{[ef.kF.CARD_SQUARE]:{width:"calc(".concat(m.Q2.usage.space.legacyXxxLarge," * 2)"),paddingBottom:"".concat(m.Q2.usage.space.none)}},carousel:{[ef.kF.CAROUSEL_STANDARD]:{spacing:eg.U2.xSmallSpacing}}},eI={...eC,breakpoint:ec.$M.Phablet,card:{[ef.kF.CARD_SQUARE]:{width:"calc((".concat(m.Q2.usage.space.legacyXxxLarge," * 2) + ").concat(m.Q2.usage.space.medium,")"),paddingBottom:m.Q2.usage.space.none}}},eS={breakpoint:eu.u3.desktop,canvas:{margin:m.Q2.usage.space.xSmall,padding:eg.U2.noneSpacing,custom:{inline_nav_margin:m.Q2.usage.space.xxSmall}},card:{[ef.kF.CARD_SQUARE]:{count:2.1,paddingBottom:m.Q2.usage.space.none}},carousel:{[ef.kF.CAROUSEL_STANDARD]:{spacing:eg.U2.xSmallSpacing}}},eE={...eI,breakpoint:ec.$M.tablet},eN={...eS,breakpoint:ec.$M.wideScreen},ek={...eS,breakpoint:ec.AK},eQ=[eC,eI,eE,eS,eN,ek];var eT=n(614630),ej=n(562636),eP=n(701417);let eO={notification1:"".concat(es.TC,"s/managed/consumer/growth/emptyHubNotif1.svg"),notification2:"".concat(es.TC,"s/managed/consumer/growth/emptyHubNotif2.svg")};var eL=e=>{let{browseButtonClickHandler:t}=e,{isMobile:n}=(0,eT.ac)();return(0,s.jsxs)(ex,{"data-testid":D.dM.EmptyHub,children:[(0,s.jsx)(ev,{src:eO.notification1}),(0,s.jsx)(eb,{src:eO.notification2}),(0,s.jsxs)(ew,{children:[(0,s.jsx)(ey,{textStyle:V.TextStyle.body.medium.strong,children:Z.ZP.t("notificationsHub_nothingToSeeHereYet")}),(0,s.jsx)(ey,{textStyle:V.TextStyle.body.small.default,color:V.d9.text.subdued.default,children:Z.ZP.t("notificationsHub_startBrowsing")})]}),n&&t&&(0,s.jsx)(eP.C,{isInline:!0,type:K.L$.primary,size:_.qE.medium,"data-accessibility-id":"no-notifications-browse","data-anchor-id":"NoNotificationsBrowse",href:ej.ZP.home,onClick:()=>{(0,G.j)("notif_hub_browse_stores_click"),t&&t()},children:Z.ZP.t("notificationsHub_browseTheNeighborhood")})]})},eA=n(38525),eR=n(923303),eM=e=>{let{notificationsLegoData:t}=e;return t?(0,s.jsx)("div",{"data-testid":D.dM.NotificationsLego,children:(0,s.jsx)(eA.Z,{entry:ef.Dw.NOTIFICATION_HUB,cursor:"",data:t,debugMode:!1,layoutSpecsOverride:eQ,children:e=>{let{data:n}=e;return n&&(0,s.jsx)(eR.Z,{data:t})}})}):null},eD=n(128842),eG=n(841519),eZ=e=>{let{cursor:t,shouldSkipQuery:n}=e;return(0,eD.a)(eG.YM,{variables:{cursor:t},fetchPolicy:"network-only",errorPolicy:"all",skip:!!n})},eH=n(182422),eU=n(861028);let eB=e=>{var t;let{loading:n,data:i,error:o}=null!==(t=eZ(e))&&void 0!==t?t:{},r=null;return n||(null==i||o?(0,C.hd)({origin:"useGetNotifications",client_error_id:T.N.Query,component:j.F.Notifications,error_message:(0,P.yd)(o),internal_error_message:T.D.GetNotificationsError,error_type:T.N.Query}):r=(0,eH.Iv)((0,eH.bP)(i),{translate:eU.Iu})),{legoNotifications:r,loading:n,error:o}};var eV=n(459549),eF=n(165066),ez=n(748742),eW=n(932320),e$=n(971514);let eK=(0,eW.default)(()=>n.e(78807).then(n.bind(n,478807)),{loadableGenerated:{webpack:()=>[478807]},ssr:!1}),eq=(0,eW.default)(()=>Promise.all([n.e(53974),n.e(85641)]).then(n.bind(n,685641)),{loadableGenerated:{webpack:()=>[685641]},ssr:!1}),eY=e=>{let{orderTrackerType:t,inProgressOrders:n,hasOrderTracker:i}=e;if(!i||!n.length)return null;let o=n.map(e=>e.orderUuid)[0],a=t===r.LiveOrderTracker&&o,l=t===r.StaticOrderTracker;return(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(e$.Aq,{children:(0,s.jsx)(eK,{orderUuid:o})}),l&&(0,s.jsx)(eq,{inProgressOrders:n})]})};var eX=n(491077),eJ=n(73327),e0=n(89265),e2=n(497247);(o=a||(a={})).start_mark="hub-start-load",o.end_mark="hub-end-load";let e1=e=>{let{isLoading:t,hasError:n,component:i}=e,o=(0,eX.C$)();c.useEffect(()=>{if(o){if(t&&!n)performance.mark("hub-start-load");else if(!t&&!n){if(!performance.getEntriesByName("hub-start-load").length)return;performance.mark("hub-end-load");try{let e=performance.measure(i,"hub-start-load","hub-end-load"),t=Math.round(e.duration);(0,e0.Z)("notif_hub_load_time",{hub_component_name:i,hub_load_time:t})}catch(e){(0,e2.Tb)(e,{level:"warning"})}finally{performance.clearMarks("hub-start-load"),performance.clearMarks("hub-end-load"),performance.clearMeasures(i)}}}},[t,n,i,o])},e3=e=>{var t,n,i;let{setNotifications:o,browseButtonClickHandler:r}=e,{consumer:{firstName:a,isGuest:l}}=(0,eV.R)(),{inProgressOrders:d,hasOrderTracker:u,orderTrackerType:f,count:g,ordersLoading:p,error:m}=et({}),h=(0,eX.Gg)();m&&(0,C.hd)({origin:"useGetOrderTrackerDetails",client_error_id:T.N.Query,component:j.F.Notifications,error_message:(0,P.yd)(m),internal_error_message:T.D.NotificationHubOrderDetailsError,error_type:T.N.Query});let{isMobile:_}=(0,eT.ac)(),{legoNotifications:x,loading:v,error:b}=eB({cursor:"",shouldSkipQuery:l});(0,el.ZP)(()=>{o(x)},[x,o]);let y=a?Z.ZP.t("notificationsHub_hello_with_cx_name",{cxName:a}):Z.ZP.t("notificationsHub_hello"),w=null==x?void 0:null===(i=x.body)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.body)||void 0===t?void 0:t.length,I=!!w||u,S=v||p;return c.useEffect(()=>{void 0!==w&&(0,G.j)("notif_hub_page_view",{num_items:w})},[w]),e1({isLoading:S,hasError:!!m||!!b,component:"NotificationHubContent"}),(0,s.jsx)(em,{isMobile:_,isSidesheetEnabled:h,children:S?(0,s.jsx)(e_,{"data-testid":D.dM.NotificationsLoading,children:(0,s.jsx)(z.g,{})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ep,{children:(0,s.jsx)(B.x,{textStyle:_?V.TextStyle.display.large:V.TextStyle.display.medium,children:y})}),_&&!u&&(0,s.jsx)(ed.Z,{}),!_&&(0,s.jsx)(eF.Z,{type:ez.C.fullBorder}),I?(0,s.jsxs)(eh,{isMobile:_,isSidesheetEnabled:h,children:[(0,s.jsx)(eY,{orderTrackerType:f,inProgressOrders:d,count:g,hasOrderTracker:u}),(0,s.jsx)(eJ.Z,{children:(0,s.jsx)(eM,{notificationsLegoData:x})})]}):(0,s.jsx)(eL,{browseButtonClickHandler:r})]})})};var e5=n(228732),e6=n(4697),e8=n(781467),e4=n(458663),e7=n(797514),e9=n(576019),te=n(708086),tt=n(642840),tn=n(585499),ti=n(902336),to=n(640752),tr=n(830206);(l||(l={})).Popover="popover";var ta=n(508262);let tl={id:"notifications-hub"},ts=()=>{let{notifications:e,setNotifications:t,showNotificationsContainer:n,setShowNotificationsContainer:i,setHasViewedNotifications:o}=M(),[r,a]=c.useState(0),[l,s]=c.useState(!1),{showCountBadge:d,showDotBadge:u,hasOrderTracker:f}=en({shouldPoll:!1}),{markAsReadCallback:g}=(0,e8.Z)([]),{search:p}=(0,ti.TH)(),m=c.useMemo(()=>new URLSearchParams(p),[p]),h=(0,e6.Z)(()=>{(0,G.j)("notif_hub_entry_point_view",{is_badged:d||u,has_active_order:f})},1e3);c.useEffect(()=>("true"===m.get(tr.w1)&&i(!0),()=>{"true"===m.get(tr.w1)&&(0,to.rg)("showNotificationHub")}),[m,p,i]),c.useEffect(()=>(h.callback(),window.addEventListener("beforeunload",_),()=>{window.removeEventListener("beforeunload",_)}),[]);let _=()=>{i(!1),o(n),l||v.callback(),"true"===m.get("showNotificationHub")&&(0,to.rg)("showNotificationHub")},x=async()=>{var t,n;if(null==e?void 0:null===(n=e.body)||void 0===n?void 0:null===(t=n[0].body)||void 0===t?void 0:t.filter(e=>!e.custom.read_state).length)try{await g(),a(0),s(!0)}catch(e){a(e=>e+1),s(!1),r<3?v.callback():(0,C.hd)({origin:"useMarkAsReadMutation",client_error_id:T.N.Mutation,component:j.F.Notifications,error_message:(0,P.yd)(e),internal_error_message:T.D.UpdateNotificationReadStatusError,error_type:T.N.Mutation})}},v=(0,e6.Z)(x,1e3,{leading:!0});return{showNotificationsContainer:n,onOpenNotificationHubHandler:()=>{i(!n),o(n)},onCloseNotificationHubHandler:_,setNotifications:t}},tc=()=>null;tc.Provider=e=>{let{children:t}=e,{consumer:n}=(0,A.R)(),[i,o]=c.useState(!1),[r,a]=c.useState(null),[l,d]=c.useState(!1),u={providerExistsAsParent:!0,showNotificationsContainer:i,setShowNotificationsContainer:o,hasViewedNotifications:l,setHasViewedNotifications:d,newNotificationsData:L({shouldSkipQuery:null==n?void 0:n.isGuest,enablePolling:!0,pollingInterval:3e4}),notifications:r,setNotifications:a};return(0,s.jsx)(R.Provider,{value:u,children:t})},tc.Container=e=>{let{}=e,{isMobile:t}=(0,eT.ac)(),{showNotificationsContainer:n,onOpenNotificationHubHandler:i,onCloseNotificationHubHandler:o,setNotifications:r}=ts(),a=(0,eX.Gg)(),[d,u]=c.useState(!1),f=(0,eX.R7)()&&d,{isReady:g,sendMessageToServiceWorker:p}=(0,tt.KK)({enabled:f}),m=(0,ta.usePathname)(),h=(0,ta.useSearchParams)();return(c.useEffect(()=>{var e;u((null===(e=window.Notification)||void 0===e?void 0:e.permission)==="granted")},[]),c.useEffect(()=>{o()},[m,h]),c.useEffect(()=>{let e=async()=>{let e=await (0,tt.V0)();e&&Object.keys(e).length&&p({type:tn.a.MARK_TRACKING_EVENTS_AS_SENT,data:e})};g&&e()},[f,g,p]),t)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea,{isBellIconSelected:n,onBellIconClick:i,describedBy:""}),(0,s.jsx)(e5.Z,{isOpen:n,title:"","data-testid":"NotificationsModal",onClose:o,isFullScreenOnMobile:!0,hasContentPadding:!1,hasHeaderPadding:!0,children:(0,s.jsx)(e3,{setNotifications:r,browseButtonClickHandler:o})})]}):a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ea,{isBellIconSelected:n,onBellIconClick:i,describedBy:""}),(0,s.jsx)(e4.Z,{isOpen:n,onClose:o,width:e7.IX.narrow,hasContentPadding:!1,children:(0,s.jsx)(e3,{setNotifications:r,browseButtonClickHandler:o})})]}):(0,s.jsx)(e9.Z,{...tl,"data-testid":l.Popover,content:(0,s.jsx)(e3,{setNotifications:r}),isVisible:n,onClose:o,position:te.eW.bottomRight,children:e=>{let{describedBy:t}=e;return(0,s.jsx)(ea,{isBellIconSelected:n,onBellIconClick:i,describedBy:t})}})};var td=()=>{let e=(0,eX.iL)(),t=(0,eX.WR)();return e||t?(0,s.jsx)(tc.Provider,{children:(0,s.jsx)(tc.Container,{})}):null}},971514:function(e,t,n){n.d(t,{Aq:function(){return s},hV:function(){return c},mb:function(){return l}});var i=n(338772),o=n(787121),r=n(482480),a=n(128663);(0,i.default)(o.Z).withConfig({componentId:"sc-8e8a435a-0"})(["background-color:",";padding:",";border-radius:",";margin:"," "," ",";@media (max-width:","px){margin-top:",";}"],r.Q2.usage.color.background.subdued.default,r.Q2.usage.space.legacyMedium,r.Q2.usage.borderRadius.medium,r.Q2.usage.space.xxxSmall,r.Q2.usage.space.medium,r.Q2.usage.space.medium,a.u3.mobile,r.Q2.usage.space.medium);let l=(0,i.default)(o.Z).withConfig({componentId:"sc-8e8a435a-1"})(["background-color:",";box-shadow:",";padding:"," ",";border-radius:",";margin:"," "," ",";@media (max-width:","px){margin-top:",";}"],r.Q2.usage.color.background.default,r.Q2.usage.elevation["4"],r.Q2.usage.space.medium,r.Q2.usage.space.small,r.Q2.usage.borderRadius.medium,r.Q2.usage.space.medium,r.Q2.usage.space.medium,r.Q2.usage.space.medium,a.u3.mobile,r.Q2.usage.space.medium),s=i.default.div.withConfig({componentId:"sc-8e8a435a-2"})(["display:flex;justify-content:center;align-items:center;margin:"," 0;"],r.Q2.usage.space.medium),c=i.default.div.withConfig({componentId:"sc-8e8a435a-3"})(["padding:"," "," "," ",";width:343px;box-shadow:",";border-radius:",";"],r.Q2.usage.space.medium,r.Q2.usage.space.small,r.Q2.usage.space.medium,r.Q2.usage.space.small,r.Q2.usage.elevation["4"],r.Q2.usage.borderRadius.medium)},781467:function(e,t,n){var i=n(336494),o=n(804794);function r(){let e=(0,i._)(["\n  mutation updateNotificationReadStatus($notificationIdsList: [String!]!, $action: String) {\n    updateNotificationReadStatus(notificationIdsList: $notificationIdsList, action: $action)\n  }\n"]);return r=function(){return e},e}let a=(0,n(74800).Ps)(r());t.Z=(e,t)=>{let[n,{loading:i,error:r}]=(0,o.D)(a,{variables:{notificationIdsList:e,action:t}});return{markAsReadCallback:()=>n(),loading:i,error:r}}},665585:function(e,t,n){n.d(t,{p:function(){return f}});var i=n(787536);n(512150);var o=n(252904),r=n(620206),a=n(708086),l=n(614630),s=n(338772);let c=n(482480).Q2.usage.space.xxxLarge,d=s.default.div.withConfig({componentId:"sc-aa1b7f97-0"})(["",""],e=>{let{isMobile:t}=e;return t&&"max-width: calc(100vw - ".concat(c,"px)")});var u=n(361040);let f=e=>{let{shouldShowInfoPickerTooltip:t,children:n}=e,{isMobileTablet:s,isMobile:c}=(0,l.ac)();return t?(0,i.jsx)(o.Z,{isVisible:!0,size:r.O.small,position:s?a.eW.bottomCenter:a.eW.bottomLeft,content:(0,i.jsx)(d,{isMobile:c,children:u.ZP.t("seo_foodNearMePage_discovery_addressPickerTooltipContent")}),children:()=>(0,i.jsx)(i.Fragment,{children:n})}):(0,i.jsx)(i.Fragment,{children:n})}},640752:function(e,t,n){n.d(t,{Wl:function(){return c},Z2:function(){return g},eW:function(){return f},rg:function(){return p}});var i=n(664792),o=n(925475),r=n(698213),a=n(39683);let l=e=>e.split("/").filter(e=>""!==e),s=e=>(0,i.Oq)(e,o.RF),c=e=>{var t,n;return s(e)&&null!==(n=null===(t=e.split("-")[1])||void 0===t?void 0:t.toUpperCase())&&void 0!==n?n:""},d=e=>{let t=l(e);return t[0]&&s(t[0])?t[0]:void 0},u=e=>{let t=l(e);return d(e)&&t.shift(),(0,a.n4)("/".concat(t.join("/")))},f=e=>{let{origin:t,pathname:n}=new URL(e);return"".concat(t).concat(u(n))},g=(e,t)=>{let{origin:n,pathname:i}=new URL(e),o=u(i);return s(t)&&t!==r.N?"".concat(n,"/").concat(t).concat(o):"".concat(n).concat(o)},p=e=>{let t=window.location.href,n=new RegExp("[?&]".concat(e,"=[^&#]+"));t.match(n)&&(t=t.replace(n,"")),"?"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),history.replaceState({},"",t)}},675089:function(e,t,n){n.d(t,{E:function(){return i}});let i={EXTERNAL_DEEPLINK:"external_deeplink",RETAIL_TAB_PAGE:"retail_tab_page",GROCERY_TAB_PAGE:"grocery_tab_page",VERTICAL_SEARCH:"vertical_search_page",VERTICAL:"vertical_page",STORE:"store_page",SHIPPING_ITEM:"shipping_item_page",PICKUP:"pickup_page",ORDER_PROGRESS:"order_progress_page",ORDER_CART:"order_cart_page",OPEN_CARTS_PAGE:"open_carts_page",NV_STORE:"nv_store_page",NV_SEARCH:"nv_search_page",NV_RETAIL_BOTTOM_SHEET:"nv_retail_bottom_sheet",NV_FILTER_SHEET:"nv_filter_sheet",NV_ITEM:"nv_item_page",NV_DEALS:"nv_deals_page",NV_COLLECTION:"nv_collection_page",COLLECTION_PAGE:"collection_page",NV_CHOOSE_SUBSTITUTIONS:"nv_choose_substitutions_bottom_sheet",NV_CHECKOUT_AISLE:"nv_checkout_aisle_page",NV_CATEGORY:"nv_category_page",NV_CATEGORY_COLLECTIONS:"nv_category_collections_page",NONE:"none",ITEM_SPECIAL_INSTRUCTIONS:"item_special_instructions_page",ITEM:"item_page",ITEM_NESTED_OPTIONS:"item_nested_options_page",HOME:"home_page",GLOBAL_SEARCH:"global_search_page",CHECKOUT:"checkout_page",PROMOTION_WALLET:"promotion_wallet_page",DOUBLE_DASH:"double_dash_page",BROWSE_ALL:"browse_page",GROUP_CART_STORE:"group_cart_store_page"}},39683:function(e,t,n){n.d(t,{kC:function(){return r},mi:function(){return o},n4:function(){return i}});let i=e=>e.endsWith("/")?e.slice(0,-1):e,o=e=>"".concat(e).concat(e.endsWith("/")?"":"/"),r=e=>e.charAt(0).toUpperCase()+e.slice(1)}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2d4868cf-f759-5e82-b7d0-00db0e560f29")}catch(e){}}()
//# debugId=2d4868cf-f759-5e82-b7d0-00db0e560f29
//# sourceMappingURL=46496-fcde3c403b7486fa.js.map
